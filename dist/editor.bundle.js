!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["h5p-standalone"]=t():e.H5PStandalone=t()}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){var i;
/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
*/!function(o,r){var a,s,l=typeof r,c=o.document,u=o.location,d=o.jQuery,f=o.$,h={},p=[],m="1.9.1",g=p.concat,E=p.push,v=p.slice,T=p.indexOf,b=h.toString,C=h.hasOwnProperty,y=m.trim,I=function(e,t){return new I.fn.init(e,t,s)},O=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,D=/\S+/g,R=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^[\],:{}\s]*$/,K=/(?:^|:|,)(?:\s*\[)+/g,x=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,S=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,N=/^-ms-/,P=/-([\da-z])/gi,A=function(e,t){return t.toUpperCase()},L=function(e){(c.addEventListener||"load"===e.type||"complete"===c.readyState)&&(F(),I.ready())},F=function(){c.addEventListener?(c.removeEventListener("DOMContentLoaded",L,!1),o.removeEventListener("load",L,!1)):(c.detachEvent("onreadystatechange",L),o.detachEvent("onload",L))};function B(e){var t=e.length,n=I.type(e);return!I.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}I.fn=I.prototype={jquery:m,constructor:I,init:function(e,t,n){var i,o;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:_.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof I?t[0]:t,I.merge(this,I.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:c,!0)),k.test(i[1])&&I.isPlainObject(t))for(i in t)I.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((o=c.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return n.find(e);this.length=1,this[0]=o}return this.context=c,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):I.isFunction(e)?n.ready(e):(e.selector!==r&&(this.selector=e.selector,this.context=e.context),I.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return v.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=I.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return I.each(this,e,t)},ready:function(e){return I.ready.promise().done(e),this},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(I.map(this,(function(t,n){return e.call(t,n,t)})))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},I.fn.init.prototype=I.fn,I.extend=I.fn.extend=function(){var e,t,n,i,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||I.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],s!==(n=o[i])&&(u&&n&&(I.isPlainObject(n)||(t=I.isArray(n)))?(t?(t=!1,a=e&&I.isArray(e)?e:[]):a=e&&I.isPlainObject(e)?e:{},s[i]=I.extend(u,a,n)):n!==r&&(s[i]=n));return s},I.extend({noConflict:function(e){return o.$===I&&(o.$=f),e&&o.jQuery===I&&(o.jQuery=d),I},isReady:!1,readyWait:1,holdReady:function(e){e?I.readyWait++:I.ready(!0)},ready:function(e){if(!0===e?!--I.readyWait:!I.isReady){if(!c.body)return setTimeout(I.ready);I.isReady=!0,!0!==e&&--I.readyWait>0||(a.resolveWith(c,[I]),I.fn.trigger&&I(c).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===I.type(e)},isArray:Array.isArray||function(e){return"array"===I.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[b.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==I.type(e)||e.nodeType||I.isWindow(e))return!1;try{if(e.constructor&&!C.call(e,"constructor")&&!C.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return t===r||C.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||c;var i=k.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=I.buildFragment([e],t,o),o&&I(o).remove(),I.merge([],i.childNodes))},parseJSON:function(e){return o.JSON&&o.JSON.parse?o.JSON.parse(e):null===e?e:"string"==typeof e&&((e=I.trim(e))&&w.test(e.replace(x,"@").replace(S,"]").replace(K,"")))?Function("return "+e)():(I.error("Invalid JSON: "+e),r)},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{o.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=r}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||I.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&I.trim(e)&&(o.execScript||function(e){o.eval.call(o,e)})(e)},camelCase:function(e){return e.replace(N,"ms-").replace(P,A)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,r=B(e);if(n){if(r)for(;o>i&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(r)for(;o>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:y&&!y.call("\ufeffÂ ")?function(e){return null==e?"":y.call(e)}:function(e){return null==e?"":(e+"").replace(R,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(B(Object(e))?I.merge(n,"string"==typeof e?[e]:e):E.call(n,e)),n},inArray:function(e,t,n){var i;if(t){if(T)return T.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,i=e.length,o=0;if("number"==typeof n)for(;n>o;o++)e[i++]=t[o];else for(;t[o]!==r;)e[i++]=t[o++];return e.length=i,e},grep:function(e,t,n){var i=[],o=0,r=e.length;for(n=!!n;r>o;o++)n!==!!t(e[o],o)&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,r=e.length,a=[];if(B(e))for(;r>o;o++)null!=(i=t(e[o],o,n))&&(a[a.length]=i);else for(o in e)null!=(i=t(e[o],o,n))&&(a[a.length]=i);return g.apply([],a)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(o=e[t],t=e,e=o),I.isFunction(e)?(n=v.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(v.call(arguments)))}).guid=e.guid=e.guid||I.guid++,i):r},access:function(e,t,n,i,o,a,s){var l=0,c=e.length,u=null==n;if("object"===I.type(n))for(l in o=!0,n)I.access(e,t,l,n[l],!0,a,s);else if(i!==r&&(o=!0,I.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(I(e),n)})),t))for(;c>l;l++)t(e[l],n,s?i:i.call(e[l],l,t(e[l],n)));return o?e:u?t.call(e):c?t(e[0],n):a},now:function(){return(new Date).getTime()}}),I.ready.promise=function(e){if(!a)if(a=I.Deferred(),"complete"===c.readyState)setTimeout(I.ready);else if(c.addEventListener)c.addEventListener("DOMContentLoaded",L,!1),o.addEventListener("load",L,!1);else{c.attachEvent("onreadystatechange",L),o.attachEvent("onload",L);var t=!1;try{t=null==o.frameElement&&c.documentElement}catch(e){}t&&t.doScroll&&function e(){if(!I.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}F(),I.ready()}}()}return a.promise(e)},I.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()})),s=I(c);var M={};I.Callbacks=function(e){e="string"==typeof e?M[e]||function(e){var t=M[e]={};return I.each(e.match(D)||[],(function(e,n){t[n]=!0})),t}(e):I.extend({},e);var t,n,i,o,a,s,l=[],c=!e.once&&[],u=function(r){for(n=e.memory&&r,i=!0,a=s||0,s=0,o=l.length,t=!0;l&&o>a;a++)if(!1===l[a].apply(r[0],r[1])&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;(function t(n){I.each(n,(function(n,i){var o=I.type(i);"function"===o?e.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!==o&&t(i)}))})(arguments),t?o=l.length:n&&(s=i,u(n))}return this},remove:function(){return l&&I.each(arguments,(function(e,n){for(var i;(i=I.inArray(n,l,i))>-1;)l.splice(i,1),t&&(o>=i&&o--,a>=i&&a--)})),this},has:function(e){return e?I.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],this},disable:function(){return l=c=n=r,this},disabled:function(){return!l},lock:function(){return c=r,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,n){return n=[e,(n=n||[]).slice?n.slice():n],!l||i&&!c||(t?c.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},I.extend({Deferred:function(e){var t=[["resolve","done",I.Callbacks("once memory"),"resolved"],["reject","fail",I.Callbacks("once memory"),"rejected"],["notify","progress",I.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return I.Deferred((function(n){I.each(t,(function(t,r){var a=r[0],s=I.isFunction(e[t])&&e[t];o[r[1]]((function(){var e=s&&s.apply(this,arguments);e&&I.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?I.extend(e,i):i}},o={};return i.pipe=i.then,I.each(t,(function(e,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=v.call(arguments),a=r.length,s=1!==a||e&&I.isFunction(e.promise)?a:0,l=1===s?e:I.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?v.call(arguments):o,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=Array(a),n=Array(a),i=Array(a);a>o;o++)r[o]&&I.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,t)):--s;return s||l.resolveWith(i,r),l.promise()}}),I.support=function(){var e,t,n,i,r,a,s,u,d,f,h=c.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=h.getElementsByTagName("*"),n=h.getElementsByTagName("a")[0],!t||!n||!t.length)return{};s=(r=c.createElement("select")).appendChild(c.createElement("option")),i=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==h.className,leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!i.value,optSelected:s.selected,enctype:!!c.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==c.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===c.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,e.noCloneChecked=i.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!s.disabled;try{delete h.test}catch(t){e.deleteExpando=!1}for(f in(i=c.createElement("input")).setAttribute("value",""),e.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),e.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),(a=c.createDocumentFragment()).appendChild(i),e.appendChecked=i.checked,e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",(function(){e.noCloneEvent=!1})),h.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})h.setAttribute(u="on"+f,"t"),e[f+"Bubbles"]=u in o||!1===h.attributes[u].expando;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip,I((function(){var t,n,i,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=c.getElementsByTagName("body")[0];a&&((t=c.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(t).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=h.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",e.reliableHiddenOffsets=d&&0===i[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===h.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,o.getComputedStyle&&(e.pixelPosition="1%"!==(o.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(o.getComputedStyle(h,null)||{width:"4px"}).width,(n=h.appendChild(c.createElement("div"))).style.cssText=h.style.cssText=r,n.style.marginRight=n.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((o.getComputedStyle(n,null)||{}).marginRight)),typeof h.style.zoom!==l&&(h.innerHTML="",h.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(t),t=h=i=n=null)})),t=r=a=s=n=i=null,e}();var $=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,H=/([A-Z])/g;function j(e,t,n,i){if(I.acceptData(e)){var o,a,s=I.expando,l="string"==typeof t,c=e.nodeType,u=c?I.cache:e,d=c?e[s]:e[s]&&s;if(d&&u[d]&&(i||u[d].data)||!l||n!==r)return d||(c?e[s]=d=p.pop()||I.guid++:d=s),u[d]||(u[d]={},c||(u[d].toJSON=I.noop)),("object"==typeof t||"function"==typeof t)&&(i?u[d]=I.extend(u[d],t):u[d].data=I.extend(u[d].data,t)),o=u[d],i||(o.data||(o.data={}),o=o.data),n!==r&&(o[I.camelCase(t)]=n),l?null==(a=o[t])&&(a=o[I.camelCase(t)]):a=o,a}}function U(e,t,n){if(I.acceptData(e)){var i,o,r,a=e.nodeType,s=a?I.cache:e,l=a?e[I.expando]:I.expando;if(s[l]){if(t&&(r=n?s[l]:s[l].data)){I.isArray(t)?t=t.concat(I.map(t,I.camelCase)):t in r?t=[t]:t=(t=I.camelCase(t))in r?[t]:t.split(" ");for(i=0,o=t.length;o>i;i++)delete r[t[i]];if(!(n?z:I.isEmptyObject)(r))return}(n||(delete s[l].data,z(s[l])))&&(a?I.cleanData([e],!0):I.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function q(e,t,n){if(n===r&&1===e.nodeType){var i="data-"+t.replace(H,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:$.test(n)?I.parseJSON(n):n)}catch(e){}I.data(e,t,n)}else n=r}return n}function z(e){var t;for(t in e)if(("data"!==t||!I.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}I.extend({cache:{},expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?I.cache[e[I.expando]]:e[I.expando])&&!z(e)},data:function(e,t,n){return j(e,t,n)},removeData:function(e,t){return U(e,t)},_data:function(e,t,n){return j(e,t,n,!0)},_removeData:function(e,t){return U(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&I.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),I.fn.extend({data:function(e,t){var n,i,o=this[0],a=0,s=null;if(e===r){if(this.length&&(s=I.data(o),1===o.nodeType&&!I._data(o,"parsedAttrs"))){for(n=o.attributes;n.length>a;a++)(i=n[a].name).indexOf("data-")||(i=I.camelCase(i.slice(5)),q(o,i,s[i]));I._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each((function(){I.data(this,e)})):I.access(this,(function(t){return t===r?o?q(o,e,I.data(o,e)):null:(this.each((function(){I.data(this,e,t)})),r)}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){I.removeData(this,e)}))}}),I.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=I._data(e,t),n&&(!i||I.isArray(n)?i=I._data(e,t,I.makeArray(n)):i.push(n)),i||[]):r},dequeue:function(e,t){t=t||"fx";var n=I.queue(e,t),i=n.length,o=n.shift(),r=I._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),r.cur=o,o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,(function(){I.dequeue(e,t)}),r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return I._data(e,n)||I._data(e,n,{empty:I.Callbacks("once memory").add((function(){I._removeData(e,t+"queue"),I._removeData(e,n)}))})}}),I.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?I.queue(this[0],e):t===r?this:this.each((function(){var n=I.queue(this,e,t);I._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&I.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){I.dequeue(this,e)}))},delay:function(e,t){return e=I.fx&&I.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=I.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=r),e=e||"fx";s--;)(n=I._data(a[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(l));return l(),o.promise(t)}});var V,W,G=/[\t\r\n]/g,X=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,Q=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Z=/^(?:checked|selected)$/i,ee=I.support.getSetAttribute,te=I.support.input;I.fn.extend({attr:function(e,t){return I.access(this,I.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){I.removeAttr(this,e)}))},prop:function(e,t){return I.access(this,I.prop,e,t,arguments.length>1)},removeProp:function(e){return e=I.propFix[e]||e,this.each((function(){try{this[e]=r,delete this[e]}catch(e){}}))},addClass:function(e){var t,n,i,o,r,a=0,s=this.length,l="string"==typeof e&&e;if(I.isFunction(e))return this.each((function(t){I(this).addClass(e.call(this,t,this.className))}));if(l)for(t=(e||"").match(D)||[];s>a;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(G," "):" ")){for(r=0;o=t[r++];)0>i.indexOf(" "+o+" ")&&(i+=o+" ");n.className=I.trim(i)}return this},removeClass:function(e){var t,n,i,o,r,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(I.isFunction(e))return this.each((function(t){I(this).removeClass(e.call(this,t,this.className))}));if(l)for(t=(e||"").match(D)||[];s>a;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(G," "):"")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");n.className=e?I.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return I.isFunction(e)?this.each((function(n){I(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var o,r=0,a=I(this),s=t,c=e.match(D)||[];o=c[r++];)s=i?s:!a.hasClass(o),a[s?"addClass":"removeClass"](o);else(n===l||"boolean"===n)&&(this.className&&I._data(this,"__className__",this.className),this.className=this.className||!1===e?"":I._data(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(G," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,i,o=this[0];return arguments.length?(i=I.isFunction(e),this.each((function(t){var o,a=I(this);1===this.nodeType&&(null==(o=i?e.call(this,t,a.val()):e)?o="":"number"==typeof o?o+="":I.isArray(o)&&(o=I.map(o,(function(e){return null==e?"":e+""}))),(n=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,o,"value")!==r||(this.value=o))}))):o?(n=I.valHooks[o.type]||I.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&(t=n.get(o,"value"))!==r?t:"string"==typeof(t=o.value)?t.replace(X,""):null==t?"":t:void 0}}),I.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,a=r?null:[],s=r?o+1:i.length,l=0>o?s:r?o:0;s>l;l++)if(!(!(n=i[l]).selected&&l!==o||(I.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&I.nodeName(n.parentNode,"optgroup"))){if(t=I(n).val(),r)return t;a.push(t)}return a},set:function(e,t){var n=I.makeArray(t);return I(e).find("option").each((function(){this.selected=I.inArray(I(this).val(),n)>=0})),n.length||(e.selectedIndex=-1),n}}},attr:function(e,t,n){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===l?I.prop(e,t,n):((o=1!==s||!I.isXMLDoc(e))&&(t=t.toLowerCase(),i=I.attrHooks[t]||(J.test(t)?W:V)),n===r?i&&o&&"get"in i&&null!==(a=i.get(e,t))?a:(typeof e.getAttribute!==l&&(a=e.getAttribute(t)),null==a?r:a):null!==n?i&&o&&"set"in i&&(a=i.set(e,n,t))!==r?a:(e.setAttribute(t,n+""),n):(I.removeAttr(e,t),r))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(D);if(r&&1===e.nodeType)for(;n=r[o++];)i=I.propFix[n]||n,J.test(n)?!ee&&Z.test(n)?e[I.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:I.attr(e,n,""),e.removeAttribute(ee?n:i)},attrHooks:{type:{set:function(e,t){if(!I.support.radioValue&&"radio"===t&&I.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!I.isXMLDoc(e))&&(t=I.propFix[t]||t,o=I.propHooks[t]),n!==r?o&&"set"in o&&(i=o.set(e,n,t))!==r?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):Y.test(e.nodeName)||Q.test(e.nodeName)&&e.href?0:r}}}}),W={get:function(e,t){var n=I.prop(e,t),i="boolean"==typeof n&&e.getAttribute(t),o="boolean"==typeof n?te&&ee?null!=i:Z.test(t)?e[I.camelCase("default-"+t)]:!!i:e.getAttributeNode(t);return o&&!1!==o.value?t.toLowerCase():r},set:function(e,t,n){return!1===t?I.removeAttr(e,n):te&&ee||!Z.test(n)?e.setAttribute(!ee&&I.propFix[n]||n,n):e[I.camelCase("default-"+n)]=e[n]=!0,n}},te&&ee||(I.attrHooks.value={get:function(e,t){var n=e.getAttributeNode(t);return I.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:r},set:function(e,t,n){return I.nodeName(e,"input")?(e.defaultValue=t,r):V&&V.set(e,t,n)}}),ee||(V=I.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&("id"===t||"name"===t||"coords"===t?""!==n.value:n.specified)?n.value:r},set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:r}},I.attrHooks.contenteditable={get:V.get,set:function(e,t,n){V.set(e,""!==t&&t,n)}},I.each(["width","height"],(function(e,t){I.attrHooks[t]=I.extend(I.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):r}})}))),I.support.hrefNormalized||(I.each(["href","src","width","height"],(function(e,t){I.attrHooks[t]=I.extend(I.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null==n?r:n}})})),I.each(["href","src"],(function(e,t){I.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}))),I.support.style||(I.attrHooks.style={get:function(e){return e.style.cssText||r},set:function(e,t){return e.style.cssText=t+""}}),I.support.optSelected||(I.propHooks.selected=I.extend(I.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),I.support.enctype||(I.propFix.enctype="encoding"),I.support.checkOn||I.each(["radio","checkbox"],(function(){I.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}})),I.each(["radio","checkbox"],(function(){I.valHooks[this]=I.extend(I.valHooks[this],{set:function(e,t){return I.isArray(t)?e.checked=I.inArray(I(e).val(),t)>=0:r}})}));var ne=/^(?:input|select|textarea)$/i,ie=/^key/,oe=/^(?:mouse|contextmenu)|click/,re=/^(?:focusinfocus|focusoutblur)$/,ae=/^([^.]*)(?:\.(.+)|)$/;function se(){return!0}function le(){return!1}I.event={global:{},add:function(e,t,n,i,o){var a,s,c,u,d,f,h,p,m,g,E,v=I._data(e);if(v){for(n.handler&&(n=(u=n).handler,o=u.selector),n.guid||(n.guid=I.guid++),(s=v.events)||(s=v.events={}),(f=v.handle)||((f=v.handle=function(e){return typeof I===l||e&&I.event.triggered===e.type?r:I.event.dispatch.apply(f.elem,arguments)}).elem=e),c=(t=(t||"").match(D)||[""]).length;c--;)m=E=(a=ae.exec(t[c])||[])[1],g=(a[2]||"").split(".").sort(),d=I.event.special[m]||{},m=(o?d.delegateType:d.bindType)||m,d=I.event.special[m]||{},h=I.extend({type:m,origType:E,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&I.expr.match.needsContext.test(o),namespace:g.join(".")},u),(p=s[m])||((p=s[m]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,g,f)||(e.addEventListener?e.addEventListener(m,f,!1):e.attachEvent&&e.attachEvent("on"+m,f))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),I.event.global[m]=!0;e=null}},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,f,h,p,m,g=I.hasData(e)&&I._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(D)||[""]).length;c--;)if(h=m=(s=ae.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(d=I.event.special[h]||{},f=u[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=f.length;r--;)a=f[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(r,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));l&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||I.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)I.event.remove(e,h+t[c],n,i,!0);I.isEmptyObject(u)&&(delete g.handle,I._removeData(e,"events"))}},trigger:function(e,t,n,i){var a,s,l,u,d,f,h,p=[n||c],m=C.call(e,"type")?e.type:e,g=C.call(e,"namespace")?e.namespace.split("."):[];if(l=f=n=n||c,3!==n.nodeType&&8!==n.nodeType&&!re.test(m+I.event.triggered)&&(m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort()),s=0>m.indexOf(":")&&"on"+m,(e=e[I.expando]?e:new I.Event(m,"object"==typeof e&&e)).isTrigger=!0,e.namespace=g.join("."),e.namespace_re=e.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=r,e.target||(e.target=n),t=null==t?[e]:I.makeArray(t,[e]),d=I.event.special[m]||{},i||!d.trigger||!1!==d.trigger.apply(n,t))){if(!i&&!d.noBubble&&!I.isWindow(n)){for(u=d.delegateType||m,re.test(u+m)||(l=l.parentNode);l;l=l.parentNode)p.push(l),f=l;f===(n.ownerDocument||c)&&p.push(f.defaultView||f.parentWindow||o)}for(h=0;(l=p[h++])&&!e.isPropagationStopped();)e.type=h>1?u:d.bindType||m,(a=(I._data(l,"events")||{})[e.type]&&I._data(l,"handle"))&&a.apply(l,t),(a=s&&l[s])&&I.acceptData(l)&&a.apply&&!1===a.apply(l,t)&&e.preventDefault();if(e.type=m,!(i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(n.ownerDocument,t)||"click"===m&&I.nodeName(n,"a"))&&I.acceptData(n)&&s&&n[m]&&!I.isWindow(n)){(f=n[s])&&(n[s]=null),I.event.triggered=m;try{n[m]()}catch(e){}I.event.triggered=r,f&&(n[s]=f)}return e.result}},dispatch:function(e){e=I.event.fix(e);var t,n,i,o,a,s=[],l=v.call(arguments),c=(I._data(this,"events")||{})[e.type]||[],u=I.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=I.event.handlers.call(this,e,c),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,(n=((I.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))!==r&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(o=[],a=0;l>a;a++)o[n=(i=t[a]).selector+" "]===r&&(o[n]=i.needsContext?I(n,this).index(c)>=0:I.find(n,this,null,[c]).length),o[n]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return t.length>l&&s.push({elem:this,handlers:t.slice(l)}),s},fix:function(e){if(e[I.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=oe.test(o)?this.mouseHooks:ie.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new I.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=r.srcElement||c),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(i=e.target.ownerDocument||c).documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||a===r||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return I.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):r}},focus:{trigger:function(){if(this!==c.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===c.activeElement&&this.blur?(this.blur(),!1):r},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==r&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=I.extend(new I.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?I.event.trigger(o,null,t):I.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},I.removeEvent=c.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===l&&(e[i]=null),e.detachEvent(i,n))},I.Event=function(e,t){return this instanceof I.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?se:le):this.type=e,t&&I.extend(this,t),this.timeStamp=e&&e.timeStamp||I.now(),this[I.expando]=!0,r):new I.Event(e,t)},I.Event.prototype={isDefaultPrevented:le,isPropagationStopped:le,isImmediatePropagationStopped:le,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=se,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=se,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=se,this.stopPropagation()}},I.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){I.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==i&&!I.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),I.support.submitBubbles||(I.event.special.submit={setup:function(){return!I.nodeName(this,"form")&&(I.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,n=I.nodeName(t,"input")||I.nodeName(t,"button")?t.form:r;n&&!I._data(n,"submitBubbles")&&(I.event.add(n,"submit._submit",(function(e){e._submit_bubble=!0})),I._data(n,"submitBubbles",!0))})),r)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&I.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!I.nodeName(this,"form")&&(I.event.remove(this,"._submit"),r)}}),I.support.changeBubbles||(I.event.special.change={setup:function(){return ne.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(I.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),I.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),I.event.simulate("change",this,e,!0)}))),!1):(I.event.add(this,"beforeactivate._change",(function(e){var t=e.target;ne.test(t.nodeName)&&!I._data(t,"changeBubbles")&&(I.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||I.event.simulate("change",this.parentNode,e,!0)})),I._data(t,"changeBubbles",!0))})),r)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):r},teardown:function(){return I.event.remove(this,"._change"),!ne.test(this.nodeName)}}),I.support.focusinBubbles||I.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=0,i=function(e){I.event.simulate(t,e.target,I.event.fix(e),!0)};I.event.special[t]={setup:function(){0==n++&&c.addEventListener(e,i,!0)},teardown:function(){0==--n&&c.removeEventListener(e,i,!0)}}})),I.fn.extend({on:function(e,t,n,i,o){var a,s;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=r),e)this.on(a,t,n,e[a],o);return this}if(null==n&&null==i?(i=t,n=t=r):null==i&&("string"==typeof t?(i=n,n=r):(i=n,n=t,t=r)),!1===i)i=le;else if(!i)return this;return 1===o&&(s=i,(i=function(e){return I().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=I.guid++)),this.each((function(){I.event.add(this,e,i,n,t)}))},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,I(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=r),!1===n&&(n=le),this.each((function(){I.event.remove(this,e,n,t)}))},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each((function(){I.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];return n?I.event.trigger(e,t,n,!0):r}}),function(e,t){var n,i,o,r,a,s,l,c,u,d,f,h,p,m,g,E,v,T="sizzle"+-new Date,b=e.document,C={},y=0,O=0,D=te(),R=te(),_=te(),k=typeof t,w=[],K=w.pop,x=w.push,S=w.slice,N=w.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},P="[\\x20\\t\\r\\n\\f]",A="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",L=A.replace("w","w#"),F="\\["+P+"*("+A+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+L+")|)|)"+P+"*\\]",B=":("+A+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+F.replace(3,8)+")*)|.*)\\)|)",M=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),$=RegExp("^"+P+"*,"+P+"*"),H=RegExp("^"+P+"*([\\x20\\t\\r\\n\\f>+~])"+P+"*"),j=RegExp(B),U=RegExp("^"+L+"$"),q={ID:RegExp("^#("+A+")"),CLASS:RegExp("^\\.("+A+")"),NAME:RegExp("^\\[name=['\"]?("+A+")['\"]?\\]"),TAG:RegExp("^("+A.replace("w","w*")+")"),ATTR:RegExp("^"+F),PSEUDO:RegExp("^"+B),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},z=/[\x20\t\r\n\f]*[+~]/,V=/^[^{]+\{\s*\[native code/,W=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/'|\\/g,Q=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,J=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Z=function(e,t){var n="0x"+t-65536;return n!=n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{S.call(b.documentElement.childNodes,0)[0].nodeType}catch(e){S=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}function ee(e){return V.test(e+"")}function te(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>o.cacheLength&&delete e[t.shift()],e[n]=i}}function ne(e){return e[T]=!0,e}function ie(e){var t=d.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}}function oe(e,t,n,i){var o,r,a,s,l,c,f,m,g,v;if((t?t.ownerDocument||t:b)!==d&&u(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||d).nodeType)&&9!==s)return[];if(!h&&!i){if(o=W.exec(e))if(a=o[1]){if(9===s){if(!(r=t.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&E(t,r)&&r.id===a)return n.push(r),n}else{if(o[2])return x.apply(n,S.call(t.getElementsByTagName(e),0)),n;if((a=o[3])&&C.getByClassName&&t.getElementsByClassName)return x.apply(n,S.call(t.getElementsByClassName(a),0)),n}if(C.qsa&&!p.test(e)){if(f=!0,m=T,g=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=ce(e),(f=t.getAttribute("id"))?m=f.replace(Y,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=c.length;l--;)c[l]=m+ue(c[l]);g=z.test(e)&&t.parentNode||t,v=c.join(",")}if(v)try{return x.apply(n,S.call(g.querySelectorAll(v),0)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return Ee(e.replace(M,"$1"),t,n,i)}function re(e,t){var n=t&&e,i=n&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ae(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function se(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function le(e){return ne((function(t){return t=+t,ne((function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))}))}))}for(n in a=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},u=oe.setDocument=function(e){var n=e?e.ownerDocument||e:b;return n!==d&&9===n.nodeType&&n.documentElement?(d=n,f=n.documentElement,h=a(n),C.tagNameNoComments=ie((function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length})),C.attributes=ie((function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t})),C.getByClassName=ie((function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)})),C.getByName=ie((function(e){e.id=T+0,e.innerHTML="<a name='"+T+"'></a><div name='"+T+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(T).length===2+n.getElementsByName(T+0).length;return C.getIdNotName=!n.getElementById(T),f.removeChild(e),t})),o.attrHandle=ie((function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==k&&"#"===e.firstChild.getAttribute("href")}))?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},C.getIdNotName?(o.find.ID=function(e,t){if(typeof t.getElementById!==k&&!h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(J,Z);return function(e){return e.getAttribute("id")===t}}):(o.find.ID=function(e,n){if(typeof n.getElementById!==k&&!h){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==k&&i.getAttributeNode("id").value===e?[i]:t:[]}},o.filter.ID=function(e){var t=e.replace(J,Z);return function(e){var n=typeof e.getAttributeNode!==k&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=C.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==k?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},o.find.NAME=C.getByName&&function(e,n){return typeof n.getElementsByName!==k?n.getElementsByName(name):t},o.find.CLASS=C.getByClassName&&function(e,n){return typeof n.getElementsByClassName===k||h?t:n.getElementsByClassName(e)},m=[],p=[":focus"],(C.qsa=ee(n.querySelectorAll))&&(ie((function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||p.push("\\["+P+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||p.push(":checked")})),ie((function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&p.push("[*^$]="+P+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||p.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),p.push(",.*:")}))),(C.matchesSelector=ee(g=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ie((function(e){C.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",B)})),p=RegExp(p.join("|")),m=RegExp(m.join("|")),E=ee(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},v=f.compareDocumentPosition?function(e,t){var i;return e===t?(l=!0,0):(i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&i||e.parentNode&&11===e.parentNode.nodeType?e===n||E(b,e)?-1:t===n||E(b,t)?1:0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,o=0,r=e.parentNode,a=t.parentNode,s=[e],c=[t];if(e===t)return l=!0,0;if(!r||!a)return e===n?-1:t===n?1:r?-1:a?1:0;if(r===a)return re(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;s[o]===c[o];)o++;return o?re(s[o],c[o]):s[o]===b?-1:c[o]===b?1:0},l=!1,[0,0].sort(v),C.detectDuplicates=l,d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&u(e),t=t.replace(Q,"='$1']"),!(!C.matchesSelector||h||m&&m.test(t)||p.test(t)))try{var n=g.call(e,t);if(n||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&u(e),E(e,t)},oe.attr=function(e,t){var n;return(e.ownerDocument||e)!==d&&u(e),h||(t=t.toLowerCase()),(n=o.attrHandle[t])?n(e):h||C.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&!0===e[t]?t:n&&n.specified?n.value:null},oe.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],i=1,o=0;if(l=!C.detectDuplicates,e.sort(v),l){for(;t=e[i];i++)t===e[i-1]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return e},r=oe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=r(t);return n},o=oe.selectors={cacheLength:50,createPseudo:ne,match:q,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,Z),e[3]=(e[4]||e[5]||"").replace(J,Z),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return q.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&j.test(n)&&(t=ce(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(J,Z).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=D[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&D(e,(function(e){return t.test(e.className||typeof e.getAttribute!==k&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var o=oe.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,E=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===E:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&v){for(h=(c=(u=g[T]||(g[T]={}))[e]||[])[0]===y&&c[1],f=c[0]===y&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[y,h,f];break}}else if(v&&(c=(t[T]||(t[T]={}))[e])&&c[0]===y)f=c[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==E:1!==d.nodeType)||!++f||(v&&((d[T]||(d[T]={}))[e]=[y,f]),d!==t)););return(f-=o)===i||0==f%i&&f/i>=0}}},PSEUDO:function(e,t){var n,i=o.pseudos[e]||o.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[T]?i(t):i.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ne((function(e,n){for(var o,r=i(e,t),a=r.length;a--;)e[o=N.call(e,r[a])]=!(n[o]=r[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ne((function(e){var t=[],n=[],i=s(e.replace(M,"$1"));return i[T]?ne((function(e,t,n,o){for(var r,a=i(e,null,o,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,o,r){return t[0]=e,i(t,null,r,n),!n.pop()}})),has:ne((function(e){return function(t){return oe(e,t).length>0}})),contains:ne((function(e){return function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}})),lang:ne((function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(J,Z).toLowerCase(),function(t){var n;do{if(n=h?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:le((function(){return[0]})),last:le((function(e,t){return[t-1]})),eq:le((function(e,t,n){return[0>n?n+t:n]})),even:le((function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e})),odd:le((function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e})),lt:le((function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e})),gt:le((function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e}))}},{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ae(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=se(n);function ce(e,t){var n,i,r,a,s,l,c,u=R[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=o.preFilter;s;){for(a in(!n||(i=$.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=H.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(M," ")}),s=s.slice(n.length)),o.filter)!(i=q[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):R(e,l).slice(0)}function ue(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function de(e,t,n){var o=t.dir,r=n&&"parentNode"===o,a=O++;return t.first?function(t,n,i){for(;t=t[o];)if(1===t.nodeType||r)return e(t,n,i)}:function(t,n,s){var l,c,u,d=y+" "+a;if(s){for(;t=t[o];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[o];)if(1===t.nodeType||r)if((c=(u=t[T]||(t[T]={}))[o])&&c[0]===d){if(!0===(l=c[1])||l===i)return!0===l}else if((c=u[o]=[d])[1]=e(t,n,s)||i,!0===c[1])return!0}}function fe(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function he(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,i,o))&&(a.push(r),c&&t.push(s));return a}function pe(e,t,n,i,o,r){return i&&!i[T]&&(i=pe(i)),o&&!o[T]&&(o=pe(o,r)),ne((function(r,a,s,l){var c,u,d,f=[],h=[],p=a.length,m=r||function(e,t,n){for(var i=0,o=t.length;o>i;i++)oe(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?m:he(m,f,e,s,l),E=n?o||(r?e:p||i)?[]:a:g;if(n&&n(g,E,s,l),i)for(c=he(E,h),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(E[h[u]]=!(g[h[u]]=d));if(r){if(o||e){if(o){for(c=[],u=E.length;u--;)(d=E[u])&&c.push(g[u]=d);o(null,E=[],c,l)}for(u=E.length;u--;)(d=E[u])&&(c=o?N.call(r,d):f[u])>-1&&(r[c]=!(a[c]=d))}}else E=he(E===a?E.splice(p,E.length):E),o?o(null,a,E,l):x.apply(a,E)}))}function me(e){for(var t,n,i,r=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,u=de((function(e){return e===t}),s,!0),d=de((function(e){return N.call(t,e)>-1}),s,!0),f=[function(e,n,i){return!a&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i))}];r>l;l++)if(n=o.relative[e[l].type])f=[de(fe(f),n)];else{if((n=o.filter[e[l].type].apply(null,e[l].matches))[T]){for(i=++l;r>i&&!o.relative[e[i].type];i++);return pe(l>1&&fe(f),l>1&&ue(e.slice(0,l-1)).replace(M,"$1"),n,i>l&&me(e.slice(l,i)),r>i&&me(e=e.slice(i)),r>i&&ue(e))}f.push(n)}return fe(f)}function ge(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,u,f,h){var p,m,g,E=[],v=0,T="0",b=s&&[],C=null!=h,I=c,O=s||a&&o.find.TAG("*",h&&l.parentNode||l),D=y+=null==I?1:Math.random()||.1;for(C&&(c=l!==d&&l,i=n);null!=(p=O[T]);T++){if(a&&p){for(m=0;g=e[m++];)if(g(p,l,u)){f.push(p);break}C&&(y=D,i=++n)}r&&((p=!g&&p)&&v--,s&&b.push(p))}if(v+=T,r&&T!==v){for(m=0;g=t[m++];)g(b,E,l,u);if(s){if(v>0)for(;T--;)b[T]||E[T]||(E[T]=K.call(f));E=he(E)}x.apply(f,E),C&&!s&&E.length>0&&v+t.length>1&&oe.uniqueSort(f)}return C&&(y=D,c=I),b};return r?ne(s):s}function Ee(e,t,n,i){var r,a,l,c,u,d=ce(e);if(!i&&1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(l=a[0]).type&&9===t.nodeType&&!h&&o.relative[a[1].type]){if(!(t=o.find.ID(l.matches[0].replace(J,Z),t)[0]))return n;e=e.slice(a.shift().value.length)}for(r=q.needsContext.test(e)?0:a.length;r--&&(l=a[r],!o.relative[c=l.type]);)if((u=o.find[c])&&(i=u(l.matches[0].replace(J,Z),z.test(a[0].type)&&t.parentNode||t))){if(a.splice(r,1),!(e=i.length&&ue(a)))return x.apply(n,S.call(i,0)),n;break}}return s(e,d)(i,t,h,n,z.test(e)),n}function ve(){}s=oe.compile=function(e,t){var n,i=[],o=[],r=_[e+" "];if(!r){for(t||(t=ce(e)),n=t.length;n--;)(r=me(t[n]))[T]?i.push(r):o.push(r);r=_(e,ge(o,i))}return r},o.pseudos.nth=o.pseudos.eq,o.filters=ve.prototype=o.pseudos,o.setFilters=new ve,u(),oe.attr=I.attr,I.find=oe,I.expr=oe.selectors,I.expr[":"]=I.expr.pseudos,I.unique=oe.uniqueSort,I.text=oe.getText,I.isXMLDoc=oe.isXML,I.contains=oe.contains}(o);var ce=/Until$/,ue=/^(?:parents|prev(?:Until|All))/,de=/^.[^:#\[\.,]*$/,fe=I.expr.match.needsContext,he={children:!0,contents:!0,next:!0,prev:!0};function pe(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function me(e,t,n){if(t=t||0,I.isFunction(t))return I.grep(e,(function(e,i){return!!t.call(e,i,e)===n}));if(t.nodeType)return I.grep(e,(function(e){return e===t===n}));if("string"==typeof t){var i=I.grep(e,(function(e){return 1===e.nodeType}));if(de.test(t))return I.filter(t,i,!n);t=I.filter(t,i)}return I.grep(e,(function(e){return I.inArray(e,t)>=0===n}))}function ge(e){var t=Ee.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}I.fn.extend({find:function(e){var t,n,i,o=this.length;if("string"!=typeof e)return i=this,this.pushStack(I(e).filter((function(){for(t=0;o>t;t++)if(I.contains(i[t],this))return!0})));for(n=[],t=0;o>t;t++)I.find(e,this[t],n);return(n=this.pushStack(o>1?I.unique(n):n)).selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=I(e,this),i=n.length;return this.filter((function(){for(t=0;i>t;t++)if(I.contains(this,n[t]))return!0}))},not:function(e){return this.pushStack(me(this,e,!1))},filter:function(e){return this.pushStack(me(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?fe.test(e)?I(e,this.context).index(this[0])>=0:I.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=fe.test(e)||"string"!=typeof e?I(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:I.find.matchesSelector(n,e)){r.push(n);break}n=n.parentNode}return this.pushStack(r.length>1?I.unique(r):r)},index:function(e){return e?"string"==typeof e?I.inArray(this[0],I(e)):I.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?I(e,t):I.makeArray(e&&e.nodeType?[e]:e),i=I.merge(this.get(),n);return this.pushStack(I.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),I.fn.andSelf=I.fn.addBack,I.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return I.dir(e,"parentNode")},parentsUntil:function(e,t,n){return I.dir(e,"parentNode",n)},next:function(e){return pe(e,"nextSibling")},prev:function(e){return pe(e,"previousSibling")},nextAll:function(e){return I.dir(e,"nextSibling")},prevAll:function(e){return I.dir(e,"previousSibling")},nextUntil:function(e,t,n){return I.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return I.dir(e,"previousSibling",n)},siblings:function(e){return I.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return I.sibling(e.firstChild)},contents:function(e){return I.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:I.merge([],e.childNodes)}},(function(e,t){I.fn[e]=function(n,i){var o=I.map(this,t,n);return ce.test(e)||(i=n),i&&"string"==typeof i&&(o=I.filter(i,o)),o=this.length>1&&!he[e]?I.unique(o):o,this.length>1&&ue.test(e)&&(o=o.reverse()),this.pushStack(o)}})),I.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?I.find.matchesSelector(t[0],e)?[t[0]]:[]:I.find.matches(e,t)},dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(n===r||1!==o.nodeType||!I(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ee="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ve=/ jQuery\d+="(?:null|\d+)"/g,Te=RegExp("<(?:"+Ee+")[\\s/>]","i"),be=/^\s+/,Ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ye=/<([\w:]+)/,Ie=/<tbody/i,Oe=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Re=/^(?:checkbox|radio)$/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/^$|\/(?:java|ecma)script/i,we=/^true\/(.*)/,Ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:I.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Se=ge(c).appendChild(c.createElement("div"));function Ne(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Pe(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function Ae(e){var t=we.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Le(e,t){for(var n,i=0;null!=(n=e[i]);i++)I._data(n,"globalEval",!t||I._data(t[i],"globalEval"))}function Fe(e,t){if(1===t.nodeType&&I.hasData(e)){var n,i,o,r=I._data(e),a=I._data(t,r),s=r.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,o=s[n].length;o>i;i++)I.event.add(t,n,s[n][i]);a.data&&(a.data=I.extend({},a.data))}}function Be(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!I.support.noCloneEvent&&t[I.expando]){for(i in(o=I._data(t)).events)I.removeEvent(t,i,o.handle);t.removeAttribute(I.expando)}"script"===n&&t.text!==e.text?(Pe(t).text=e.text,Ae(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),I.support.html5Clone&&e.innerHTML&&!I.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Re.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function Me(e,t){var n,i,o=0,a=typeof e.getElementsByTagName!==l?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==l?e.querySelectorAll(t||"*"):r;if(!a)for(a=[],n=e.childNodes||e;null!=(i=n[o]);o++)!t||I.nodeName(i,t)?a.push(i):I.merge(a,Me(i,t));return t===r||t&&I.nodeName(e,t)?I.merge([e],a):a}function $e(e){Re.test(e.type)&&(e.defaultChecked=e.checked)}xe.optgroup=xe.option,xe.tbody=xe.tfoot=xe.colgroup=xe.caption=xe.thead,xe.th=xe.td,I.fn.extend({text:function(e){return I.access(this,(function(e){return e===r?I.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(e))}),null,e,arguments.length)},wrapAll:function(e){if(I.isFunction(e))return this.each((function(t){I(this).wrapAll(e.call(this,t))}));if(this[0]){var t=I(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return I.isFunction(e)?this.each((function(t){I(this).wrapInner(e.call(this,t))})):this.each((function(){var t=I(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=I.isFunction(e);return this.each((function(n){I(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){I.nodeName(this,"body")||I(this).replaceWith(this.childNodes)})).end()},append:function(){return this.domManip(arguments,!0,(function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)}))},prepend:function(){return this.domManip(arguments,!0,(function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)}))},before:function(){return this.domManip(arguments,!1,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,!1,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||I.filter(e,[n]).length>0)&&(t||1!==n.nodeType||I.cleanData(Me(n)),n.parentNode&&(t&&I.contains(n.ownerDocument,n)&&Le(Me(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&I.cleanData(Me(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&I.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return I.clone(this,e,t)}))},html:function(e){return I.access(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(e===r)return 1===t.nodeType?t.innerHTML.replace(ve,""):r;if(!("string"!=typeof e||De.test(e)||!I.support.htmlSerialize&&Te.test(e)||!I.support.leadingWhitespace&&be.test(e)||xe[(ye.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ce,"<$1></$2>");try{for(;i>n;n++)1===(t=this[n]||{}).nodeType&&(I.cleanData(Me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(e){return I.isFunction(e)||"string"==typeof e||(e=I(e).not(this).detach()),this.domManip([e],!0,(function(e){var t=this.nextSibling,n=this.parentNode;n&&(I(this).remove(),n.insertBefore(e,t))}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=g.apply([],e);var i,o,a,s,l,c,u=0,d=this.length,f=this,h=d-1,p=e[0],m=I.isFunction(p);if(m||!(1>=d||"string"!=typeof p||I.support.checkClone)&&_e.test(p))return this.each((function(i){var o=f.eq(i);m&&(e[0]=p.call(this,i,t?o.html():r)),o.domManip(e,t,n)}));if(d&&(i=(c=I.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===c.childNodes.length&&(c=i),i)){for(t=t&&I.nodeName(i,"tr"),a=(s=I.map(Me(c,"script"),Pe)).length;d>u;u++)o=c,u!==h&&(o=I.clone(o,!0,!0),a&&I.merge(s,Me(o,"script"))),n.call(t&&I.nodeName(this[u],"table")?Ne(this[u],"tbody"):this[u],o,u);if(a)for(l=s[s.length-1].ownerDocument,I.map(s,Ae),u=0;a>u;u++)o=s[u],ke.test(o.type||"")&&!I._data(o,"globalEval")&&I.contains(l,o)&&(o.src?I.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):I.globalEval((o.text||o.textContent||o.innerHTML||"").replace(Ke,"")));c=i=null}return this}}),I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){I.fn[e]=function(e){for(var n,i=0,o=[],r=I(e),a=r.length-1;a>=i;i++)n=i===a?this:this.clone(!0),I(r[i])[t](n),E.apply(o,n.get());return this.pushStack(o)}})),I.extend({clone:function(e,t,n){var i,o,r,a,s,l=I.contains(e.ownerDocument,e);if(I.support.html5Clone||I.isXMLDoc(e)||!Te.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Se.innerHTML=e.outerHTML,Se.removeChild(r=Se.firstChild)),!(I.support.noCloneEvent&&I.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||I.isXMLDoc(e)))for(i=Me(r),s=Me(e),a=0;null!=(o=s[a]);++a)i[a]&&Be(o,i[a]);if(t)if(n)for(s=s||Me(e),i=i||Me(r),a=0;null!=(o=s[a]);a++)Fe(o,i[a]);else Fe(e,r);return(i=Me(r,"script")).length>0&&Le(i,!l&&Me(e,"script")),i=s=o=null,r},buildFragment:function(e,t,n,i){for(var o,r,a,s,l,c,u,d=e.length,f=ge(t),h=[],p=0;d>p;p++)if((r=e[p])||0===r)if("object"===I.type(r))I.merge(h,r.nodeType?[r]:r);else if(Oe.test(r)){for(s=s||f.appendChild(t.createElement("div")),l=(ye.exec(r)||["",""])[1].toLowerCase(),u=xe[l]||xe._default,s.innerHTML=u[1]+r.replace(Ce,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!I.support.leadingWhitespace&&be.test(r)&&h.push(t.createTextNode(be.exec(r)[0])),!I.support.tbody)for(o=(r="table"!==l||Ie.test(r)?"<table>"!==u[1]||Ie.test(r)?0:s:s.firstChild)&&r.childNodes.length;o--;)I.nodeName(c=r.childNodes[o],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(I.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(r));for(s&&f.removeChild(s),I.support.appendChecked||I.grep(Me(h,"input"),$e),p=0;r=h[p++];)if((!i||-1===I.inArray(r,i))&&(a=I.contains(r.ownerDocument,r),s=Me(f.appendChild(r),"script"),a&&Le(s),n))for(o=0;r=s[o++];)ke.test(r.type||"")&&n.push(r);return s=null,f},cleanData:function(e,t){for(var n,i,o,r,a=0,s=I.expando,c=I.cache,u=I.support.deleteExpando,d=I.event.special;null!=(n=e[a]);a++)if((t||I.acceptData(n))&&(r=(o=n[s])&&c[o])){if(r.events)for(i in r.events)d[i]?I.event.remove(n,i):I.removeEvent(n,i,r.handle);c[o]&&(delete c[o],u?delete n[s]:typeof n.removeAttribute!==l?n.removeAttribute(s):n[s]=null,p.push(o))}}});var He,je,Ue,qe=/alpha\([^)]*\)/i,ze=/opacity\s*=\s*([^)]*)/,Ve=/^(top|right|bottom|left)$/,We=/^(none|table(?!-c[ea]).+)/,Ge=/^margin/,Xe=RegExp("^("+O+")(.*)$","i"),Ye=RegExp("^("+O+")(?!px)[a-z%]+$","i"),Qe=RegExp("^([+-])=("+O+")","i"),Je={BODY:"block"},Ze={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:0,fontWeight:400},tt=["Top","Right","Bottom","Left"],nt=["Webkit","O","Moz","ms"];function it(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=nt.length;o--;)if((t=nt[o]+n)in e)return t;return i}function ot(e,t){return e=t||e,"none"===I.css(e,"display")||!I.contains(e.ownerDocument,e)}function rt(e,t){for(var n,i,o,r=[],a=0,s=e.length;s>a;a++)(i=e[a]).style&&(r[a]=I._data(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&ot(i)&&(r[a]=I._data(i,"olddisplay",ct(i.nodeName)))):r[a]||(o=ot(i),(n&&"none"!==n||!o)&&I._data(i,"olddisplay",o?n:I.css(i,"display"))));for(a=0;s>a;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function at(e,t,n){var i=Xe.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function st(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=I.css(e,n+tt[r],!0,o)),i?("content"===n&&(a-=I.css(e,"padding"+tt[r],!0,o)),"margin"!==n&&(a-=I.css(e,"border"+tt[r]+"Width",!0,o))):(a+=I.css(e,"padding"+tt[r],!0,o),"padding"!==n&&(a+=I.css(e,"border"+tt[r]+"Width",!0,o)));return a}function lt(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=je(e),a=I.support.boxSizing&&"border-box"===I.css(e,"boxSizing",!1,r);if(0>=o||null==o){if((0>(o=Ue(e,t,r))||null==o)&&(o=e.style[t]),Ye.test(o))return o;i=a&&(I.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+st(e,t,n||(a?"border":"content"),i,r)+"px"}function ct(e){var t=c,n=Je[e];return n||("none"!==(n=ut(e,t))&&n||((t=((He=(He||I("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||He[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=ut(e,t),He.detach()),Je[e]=n),n}function ut(e,t){var n=I(t.createElement(e)).appendTo(t.body),i=I.css(n[0],"display");return n.remove(),i}I.fn.extend({css:function(e,t){return I.access(this,(function(e,t,n){var i,o,a={},s=0;if(I.isArray(t)){for(o=je(e),i=t.length;i>s;s++)a[t[s]]=I.css(e,t[s],!1,o);return a}return n!==r?I.style(e,t,n):I.css(e,t)}),e,t,arguments.length>1)},show:function(){return rt(this,!0)},hide:function(){return rt(this)},toggle:function(e){var t="boolean"==typeof e;return this.each((function(){(t?e:ot(this))?I(this).show():I(this).hide()}))}}),I.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:I.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=I.camelCase(t),c=e.style;if(t=I.cssProps[l]||(I.cssProps[l]=it(c,l)),s=I.cssHooks[t]||I.cssHooks[l],n===r)return s&&"get"in s&&(o=s.get(e,!1,i))!==r?o:c[t];if("string"===(a=typeof n)&&(o=Qe.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(I.css(e,t)),a="number"),!(null==n||"number"===a&&isNaN(n)||("number"!==a||I.cssNumber[l]||(n+="px"),I.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,i))===r)))try{c[t]=n}catch(e){}}},css:function(e,t,n,i){var o,a,s,l=I.camelCase(t);return t=I.cssProps[l]||(I.cssProps[l]=it(e.style,l)),(s=I.cssHooks[t]||I.cssHooks[l])&&"get"in s&&(a=s.get(e,!0,n)),a===r&&(a=Ue(e,t,i)),"normal"===a&&t in et&&(a=et[t]),""===n||n?(o=parseFloat(a),!0===n||I.isNumeric(o)?o||0:a):a},swap:function(e,t,n,i){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in o=n.apply(e,i||[]),t)e.style[r]=a[r];return o}}),o.getComputedStyle?(je=function(e){return o.getComputedStyle(e,null)},Ue=function(e,t,n){var i,o,a,s=n||je(e),l=s?s.getPropertyValue(t)||s[t]:r,c=e.style;return s&&(""!==l||I.contains(e.ownerDocument,e)||(l=I.style(e,t)),Ye.test(l)&&Ge.test(t)&&(i=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=i,c.minWidth=o,c.maxWidth=a)),l}):c.documentElement.currentStyle&&(je=function(e){return e.currentStyle},Ue=function(e,t,n){var i,o,a,s=n||je(e),l=s?s[t]:r,c=e.style;return null==l&&c&&c[t]&&(l=c[t]),Ye.test(l)&&!Ve.test(t)&&(i=c.left,(a=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),c.left="fontSize"===t?"1em":l,l=c.pixelLeft+"px",c.left=i,a&&(o.left=a)),""===l?"auto":l}),I.each(["height","width"],(function(e,t){I.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&We.test(I.css(e,"display"))?I.swap(e,Ze,(function(){return lt(e,t,i)})):lt(e,t,i):r},set:function(e,n,i){var o=i&&je(e);return at(0,n,i?st(e,t,i,I.support.boxSizing&&"border-box"===I.css(e,"boxSizing",!1,o),o):0)}}})),I.support.opacity||(I.cssHooks.opacity={get:function(e,t){return ze.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=I.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===I.trim(r.replace(qe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=qe.test(r)?r.replace(qe,o):r+" "+o)}}),I((function(){I.support.reliableMarginRight||(I.cssHooks.marginRight={get:function(e,t){return t?I.swap(e,{display:"inline-block"},Ue,[e,"marginRight"]):r}}),!I.support.pixelPosition&&I.fn.position&&I.each(["top","left"],(function(e,t){I.cssHooks[t]={get:function(e,n){return n?(n=Ue(e,t),Ye.test(n)?I(e).position()[t]+"px":n):r}}}))})),I.expr&&I.expr.filters&&(I.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!I.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||I.css(e,"display"))},I.expr.filters.visible=function(e){return!I.expr.filters.hidden(e)}),I.each({margin:"",padding:"",border:"Width"},(function(e,t){I.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+tt[i]+t]=r[i]||r[i-2]||r[0];return o}},Ge.test(e)||(I.cssHooks[e+t].set=at)}));var dt=/%20/g,ft=/\[\]$/,ht=/\r?\n/g,pt=/^(?:submit|button|image|reset|file)$/i,mt=/^(?:input|select|textarea|keygen)/i;function gt(e,t,n,i){var o;if(I.isArray(t))I.each(t,(function(t,o){n||ft.test(e)?i(e,o):gt(e+"["+("object"==typeof o?t:"")+"]",o,n,i)}));else if(n||"object"!==I.type(t))i(e,t);else for(o in t)gt(e+"["+o+"]",t[o],n,i)}I.fn.extend({serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=I.prop(this,"elements");return e?I.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!I(this).is(":disabled")&&mt.test(this.nodeName)&&!pt.test(e)&&(this.checked||!Re.test(e))})).map((function(e,t){var n=I(this).val();return null==n?null:I.isArray(n)?I.map(n,(function(e){return{name:t.name,value:e.replace(ht,"\r\n")}})):{name:t.name,value:n.replace(ht,"\r\n")}})).get()}}),I.param=function(e,t){var n,i=[],o=function(e,t){t=I.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===r&&(t=I.ajaxSettings&&I.ajaxSettings.traditional),I.isArray(e)||e.jquery&&!I.isPlainObject(e))I.each(e,(function(){o(this.name,this.value)}));else for(n in e)gt(n,e[n],t,o);return i.join("&").replace(dt,"+")},I.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){I.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),I.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Et,vt,Tt=I.now(),bt=/\?/,Ct=/#.*$/,yt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ot=/^(?:GET|HEAD)$/,Dt=/^\/\//,Rt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_t=I.fn.load,kt={},wt={},Kt="*/".concat("*");try{vt=u.href}catch(e){(vt=c.createElement("a")).href="",vt=vt.href}function xt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(D)||[];if(I.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function St(e,t,n,i){var o={},a=e===wt;function s(l){var c;return o[l]=!0,I.each(e[l]||[],(function(e,l){var u=l(t,n,i);return"string"!=typeof u||a||o[u]?a?!(c=u):r:(t.dataTypes.unshift(u),s(u),!1)})),c}return s(t.dataTypes[0])||!o["*"]&&s("*")}function Nt(e,t){var n,i,o=I.ajaxSettings.flatOptions||{};for(i in t)t[i]!==r&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&I.extend(!0,e,n),e}Et=Rt.exec(vt.toLowerCase())||[],I.fn.load=function(e,t,n){if("string"!=typeof e&&_t)return _t.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),I.isFunction(t)?(n=t,t=r):t&&"object"==typeof t&&(a="POST"),s.length>0&&I.ajax({url:e,type:a,dataType:"html",data:t}).done((function(e){o=arguments,s.html(i?I("<div>").append(I.parseHTML(e)).find(i):e)})).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},I.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){I.fn[t]=function(e){return this.on(t,e)}})),I.each(["get","post"],(function(e,t){I[t]=function(e,n,i,o){return I.isFunction(n)&&(o=o||i,i=n,n=r),I.ajax({url:e,type:t,dataType:o,data:n,success:i})}})),I.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":o.String,"text html":!0,"text json":I.parseJSON,"text xml":I.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Nt(Nt(e,I.ajaxSettings),t):Nt(I.ajaxSettings,e)},ajaxPrefilter:xt(kt),ajaxTransport:xt(wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=r),t=t||{};var n,i,o,a,s,l,c,u,d=I.ajaxSetup({},t),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?I(f):I.event,p=I.Deferred(),m=I.Callbacks("once memory"),g=d.statusCode||{},E={},v={},T=0,b="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===T){if(!u)for(u={};t=It.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===T?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return T||(e=v[n]=v[n]||e,E[e]=t),this},overrideMimeType:function(e){return T||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>T)for(t in e)g[t]=[g[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||b;return c&&c.abort(t),y(0,t),this}};if(p.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,d.url=((e||d.url||vt)+"").replace(Ct,"").replace(Dt,Et[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=I.trim(d.dataType||"*").toLowerCase().match(D)||[""],null==d.crossDomain&&(n=Rt.exec(d.url.toLowerCase()),d.crossDomain=!(!n||n[1]===Et[1]&&n[2]===Et[2]&&(n[3]||("http:"===n[1]?80:443))==(Et[3]||("http:"===Et[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=I.param(d.data,d.traditional)),St(kt,d,t,C),2===T)return C;for(i in(l=d.global)&&0==I.active++&&I.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ot.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(bt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=yt.test(o)?o.replace(yt,"$1_="+Tt++):o+(bt.test(o)?"&":"?")+"_="+Tt++)),d.ifModified&&(I.lastModified[o]&&C.setRequestHeader("If-Modified-Since",I.lastModified[o]),I.etag[o]&&C.setRequestHeader("If-None-Match",I.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Kt+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(!1===d.beforeSend.call(f,C,d)||2===T))return C.abort();for(i in b="abort",{success:1,error:1,complete:1})C[i](d[i]);if(c=St(wt,d,t,C)){C.readyState=1,l&&h.trigger("ajaxSend",[C,d]),d.async&&d.timeout>0&&(s=setTimeout((function(){C.abort("timeout")}),d.timeout));try{T=1,c.send(E,y)}catch(e){if(!(2>T))throw e;y(-1,e)}}else y(-1,"No Transport");function y(e,t,n,i){var u,E,v,b,y,O=t;2!==T&&(T=2,s&&clearTimeout(s),c=r,a=i||"",C.readyState=e>0?4:0,n&&(b=function(e,t,n){var i,o,a,s,l=e.contents,c=e.dataTypes,u=e.responseFields;for(s in u)s in n&&(t[u[s]]=n[s]);for(;"*"===c[0];)c.shift(),o===r&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in n)a=c[0];else{for(s in n){if(!c[0]||e.converters[s+" "+c[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==c[0]&&c.unshift(a),n[a]):r}(d,C,n)),e>=200&&300>e||304===e?(d.ifModified&&((y=C.getResponseHeader("Last-Modified"))&&(I.lastModified[o]=y),(y=C.getResponseHeader("etag"))&&(I.etag[o]=y)),204===e?(u=!0,O="nocontent"):304===e?(u=!0,O="notmodified"):(O=(u=function(e,t){var n,i,o,r,a={},s=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(o in e.converters)a[o.toLowerCase()]=e.converters[o];for(;i=l[++s];)if("*"!==i){if("*"!==c&&c!==i){if(!(o=a[c+" "+i]||a["* "+i]))for(n in a)if((r=n.split(" "))[1]===i&&(o=a[c+" "+r[0]]||a["* "+r[0]])){!0===o?o=a[n]:!0!==a[n]&&(i=r[0],l.splice(s--,0,i));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:t}}(d,b)).state,E=u.data,u=!(v=u.error))):(v=O,(e||!O)&&(O="error",0>e&&(e=0))),C.status=e,C.statusText=(t||O)+"",u?p.resolveWith(f,[E,O,C]):p.rejectWith(f,[C,O,v]),C.statusCode(g),g=r,l&&h.trigger(u?"ajaxSuccess":"ajaxError",[C,d,u?E:v]),m.fireWith(f,[C,O]),l&&(h.trigger("ajaxComplete",[C,d]),--I.active||I.event.trigger("ajaxStop")))}return C},getScript:function(e,t){return I.get(e,r,t,"script")},getJSON:function(e,t,n){return I.get(e,t,n,"json")}}),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return I.globalEval(e),e}}}),I.ajaxPrefilter("script",(function(e){e.cache===r&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),I.ajaxTransport("script",(function(e){if(e.crossDomain){var t,n=c.head||I("head")[0]||c.documentElement;return{send:function(i,o){(t=c.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(r,!0)}}}}));var Pt=[],At=/(=)\?(?=&|$)|\?\?/;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||I.expando+"_"+Tt++;return this[e]=!0,e}}),I.ajaxPrefilter("json jsonp",(function(e,t,n){var i,a,s,l=!1!==e.jsonp&&(At.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(e.data)&&"data");return l||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=I.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(At,"$1"+i):!1!==e.jsonp&&(e.url+=(bt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||I.error(i+" was not called"),s[0]},e.dataTypes[0]="json",a=o[i],o[i]=function(){s=arguments},n.always((function(){o[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,Pt.push(i)),s&&I.isFunction(a)&&a(s[0]),s=a=r})),"script"):r}));var Lt,Ft,Bt=0,Mt=o.ActiveXObject&&function(){var e;for(e in Lt)Lt[e](r,!0)};function $t(){try{return new o.XMLHttpRequest}catch(e){}}I.ajaxSettings.xhr=o.ActiveXObject?function(){return!this.isLocal&&$t()||function(){try{return new o.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:$t,Ft=I.ajaxSettings.xhr(),I.support.cors=!!Ft&&"withCredentials"in Ft,(Ft=I.support.ajax=!!Ft)&&I.ajaxTransport((function(e){var t;if(!e.crossDomain||I.support.cors)return{send:function(n,i){var a,s,l=e.xhr();if(e.username?l.open(e.type,e.url,e.async,e.username,e.password):l.open(e.type,e.url,e.async),e.xhrFields)for(s in e.xhrFields)l[s]=e.xhrFields[s];e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(s in n)l.setRequestHeader(s,n[s])}catch(e){}l.send(e.hasContent&&e.data||null),t=function(n,o){var s,c,u,d;try{if(t&&(o||4===l.readyState))if(t=r,a&&(l.onreadystatechange=I.noop,Mt&&delete Lt[a]),o)4!==l.readyState&&l.abort();else{d={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(e){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(e){o||i(-1,e)}d&&i(s,u,d,c)},e.async?4===l.readyState?setTimeout(t):(a=++Bt,Mt&&(Lt||(Lt={},I(o).unload(Mt)),Lt[a]=t),l.onreadystatechange=t):t()},abort:function(){t&&t(r,!0)}}}));var Ht,jt,Ut=/^(?:toggle|show|hide)$/,qt=RegExp("^(?:([+-])=|)("+O+")([a-z%]*)$","i"),zt=/queueHooks$/,Vt=[function(e,t,n){var i,o,r,a,s,l,c,u,d,f=this,h=e.style,p={},m=[],g=e.nodeType&&ot(e);for(o in n.queue||(null==(u=I._queueHooks(e,"fx")).unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,f.always((function(){f.always((function(){u.unqueued--,I.queue(e,"fx").length||u.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===I.css(e,"display")&&"none"===I.css(e,"float")&&(I.support.inlineBlockNeedsLayout&&"inline"!==ct(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",I.support.shrinkWrapBlocks||f.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),t)if(a=t[o],Ut.exec(a)){if(delete t[o],l=l||"toggle"===a,a===(g?"hide":"show"))continue;m.push(o)}if(r=m.length){"hidden"in(s=I._data(e,"fxshow")||I._data(e,"fxshow",{}))&&(g=s.hidden),l&&(s.hidden=!g),g?I(e).show():f.done((function(){I(e).hide()})),f.done((function(){var t;for(t in I._removeData(e,"fxshow"),p)I.style(e,t,p[t])}));for(o=0;r>o;o++)i=m[o],c=f.createTween(i,g?s[i]:0),p[i]=s[i]||I.style(e,i),i in s||(s[i]=c.start,g&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}],Wt={"*":[function(e,t){var n,i,o=this.createTween(e,t),r=qt.exec(t),a=o.cur(),s=+a||0,l=1,c=20;if(r){if(n=+r[2],"px"!==(i=r[3]||(I.cssNumber[e]?"":"px"))&&s){s=I.css(o.elem,e,!0)||n||1;do{s/=l=l||".5",I.style(o.elem,e,s+i)}while(l!==(l=o.cur()/a)&&1!==l&&--c)}o.unit=i,o.start=s,o.end=r[1]?s+(r[1]+1)*n:n}return o}]};function Gt(){return setTimeout((function(){Ht=r})),Ht=I.now()}function Xt(e,t,n){var i,o,r=0,a=Vt.length,s=I.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=Ht||Gt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),r=0,a=c.tweens.length;a>r;r++)c.tweens[r].run(i);return s.notifyWith(e,[c,i,n]),1>i&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:I.extend({},t),opts:I.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ht||Gt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=I.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,i,o,r,a;for(o in e)if(i=I.camelCase(o),r=t[i],n=e[o],I.isArray(n)&&(r=n[1],n=e[o]=n[0]),o!==i&&(e[i]=n,delete e[o]),(a=I.cssHooks[i])&&"expand"in a)for(o in n=a.expand(n),delete e[i],n)o in e||(e[o]=n[o],t[o]=r);else t[i]=r}(u,c.opts.specialEasing);a>r;r++)if(i=Vt[r].call(c,e,u,c.opts))return i;return function(e,t){I.each(t,(function(t,n){for(var i=(Wt[t]||[]).concat(Wt["*"]),o=0,r=i.length;r>o;o++)if(i[o].call(e,t,n))return}))}(c,u),I.isFunction(c.opts.start)&&c.opts.start.call(e,c),I.fx.timer(I.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function Yt(e,t,n,i,o){return new Yt.prototype.init(e,t,n,i,o)}function Qt(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)i["margin"+(n=tt[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Jt(e){return I.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}I.Animation=I.extend(Xt,{tweener:function(e,t){I.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],Wt[n]=Wt[n]||[],Wt[n].unshift(t)},prefilter:function(e,t){t?Vt.unshift(e):Vt.push(e)}}),I.Tween=Yt,Yt.prototype={constructor:Yt,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(I.cssNumber[n]?"":"px")},cur:function(){var e=Yt.propHooks[this.prop];return e&&e.get?e.get(this):Yt.propHooks._default.get(this)},run:function(e){var t,n=Yt.propHooks[this.prop];return this.pos=t=this.options.duration?I.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yt.propHooks._default.set(this),this}},Yt.prototype.init.prototype=Yt.prototype,Yt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=I.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){I.fx.step[e.prop]?I.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[I.cssProps[e.prop]]||I.cssHooks[e.prop])?I.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yt.propHooks.scrollTop=Yt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},I.each(["toggle","show","hide"],(function(e,t){var n=I.fn[t];I.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Qt(t,!0),e,i,o)}})),I.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ot).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=I.isEmptyObject(e),r=I.speed(t,n,i),a=function(){var t=Xt(this,I.extend({},e),r);a.finish=function(){t.stop(!0)},(o||I._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=r),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",r=I.timers,a=I._data(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&zt.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));(t||!n)&&I.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=I._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=I.timers,a=i?i.length:0;for(n.finish=!0,I.queue(this,e,[]),o&&o.cur&&o.cur.finish&&o.cur.finish.call(this),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),I.each({slideDown:Qt("show"),slideUp:Qt("hide"),slideToggle:Qt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){I.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),I.speed=function(e,t,n){var i=e&&"object"==typeof e?I.extend({},e):{complete:n||!n&&t||I.isFunction(e)&&e,duration:e,easing:n&&t||t&&!I.isFunction(t)&&t};return i.duration=I.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in I.fx.speeds?I.fx.speeds[i.duration]:I.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){I.isFunction(i.old)&&i.old.call(this),i.queue&&I.dequeue(this,i.queue)},i},I.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},I.timers=[],I.fx=Yt.prototype.init,I.fx.tick=function(){var e,t=I.timers,n=0;for(Ht=I.now();t.length>n;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||I.fx.stop(),Ht=r},I.fx.timer=function(e){e()&&I.timers.push(e)&&I.fx.start()},I.fx.interval=13,I.fx.start=function(){jt||(jt=setInterval(I.fx.tick,I.fx.interval))},I.fx.stop=function(){clearInterval(jt),jt=null},I.fx.speeds={slow:600,fast:200,_default:400},I.fx.step={},I.expr&&I.expr.filters&&(I.expr.filters.animated=function(e){return I.grep(I.timers,(function(t){return e===t.elem})).length}),I.fn.offset=function(e){if(arguments.length)return e===r?this:this.each((function(t){I.offset.setOffset(this,e,t)}));var t,n,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;return a?(t=a.documentElement,I.contains(t,o)?(typeof o.getBoundingClientRect!==l&&(i=o.getBoundingClientRect()),n=Jt(a),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},I.offset={setOffset:function(e,t,n){var i=I.css(e,"position");"static"===i&&(e.style.position="relative");var o,r,a=I(e),s=a.offset(),l=I.css(e,"top"),c=I.css(e,"left"),u={},d={};("absolute"===i||"fixed"===i)&&I.inArray("auto",[l,c])>-1?(o=(d=a.position()).top,r=d.left):(o=parseFloat(l)||0,r=parseFloat(c)||0),I.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(u.top=t.top-s.top+o),null!=t.left&&(u.left=t.left-s.left+r),"using"in t?t.using.call(e,u):a.css(u)}},I.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===I.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),I.nodeName(e[0],"html")||(n=e.offset()),n.top+=I.css(e[0],"borderTopWidth",!0),n.left+=I.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-I.css(i,"marginTop",!0),left:t.left-n.left-I.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||c.documentElement;e&&!I.nodeName(e,"html")&&"static"===I.css(e,"position");)e=e.offsetParent;return e||c.documentElement}))}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n=/Y/.test(t);I.fn[e]=function(i){return I.access(this,(function(e,i,o){var a=Jt(e);return o===r?a?t in a?a[t]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(n?I(a).scrollLeft():o,n?o:I(a).scrollTop()):e[i]=o,r)}),e,i,arguments.length,null)}})),I.each({Height:"height",Width:"width"},(function(e,t){I.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){I.fn[i]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return I.access(this,(function(t,n,i){var o;return I.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):i===r?I.css(t,n,s):I.style(t,n,i,s)}),t,a?i:r,a,null)}}))})),o.jQuery=o.$=I,n(1).jQuery&&(void 0===(i=function(){return I}.apply(t,[]))||(e.exports=i))}(window);var o=window.H5P=window.H5P||{};o.jQuery=jQuery.noConflict(!0),o.jQuery.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)}))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){var n=window.H5P=window.H5P||{};n.Event=function(e,t,n){this.type=e,this.data=t;var i=!1,o=!1,r=!1;void 0===n&&(n={}),!0===n.bubbles&&(i=!0),!0===n.external&&(o=!0),this.preventBubbling=function(){i=!1},this.getBubbles=function(){return i},this.scheduleForExternal=function(){return!(!o||r)&&(r=!0,!0)}},n.EventDispatcher=function(){var e=this,t={};this.on=function(n,i,o){if("function"!=typeof i)throw TypeError("listener must be a function");e.trigger("newListener",{type:n,listener:i});var r={listener:i,thisArg:o};t[n]?t[n].push(r):t[n]=[r]},this.once=function(t,n,i){if(!(n instanceof Function))throw TypeError("listener must be a function");var o=function(t){e.off(t.type,o),n.call(this,t)};e.on(t,o,i)},this.off=function(n,i){if(void 0!==i&&!(i instanceof Function))throw TypeError("listener must be a function");if(void 0!==t[n]){if(void 0===i)return delete t[n],void e.trigger("removeListener",n);for(var o=0;o<t[n].length;o++)if(t[n][o].listener===i){t[n].splice(o,1),e.trigger("removeListener",n,{listener:i});break}t[n].length||delete t[n]}};var i=function(e,n){if(void 0!==t[e])for(var i=t[e].slice(),o=0;o<i.length;o++){var r=i[o],a=r.thisArg?r.thisArg:this;r.listener.call(a,n)}};this.trigger=function(t,o,r){if(void 0!==t){t instanceof String||"string"==typeof t?t=new n.Event(t,o,r):void 0!==o&&(t.data=o);var a=t.scheduleForExternal();i.call(this,t.type,t),i.call(this,"*",t),t.getBubbles()&&e.parent instanceof n.EventDispatcher&&(e.parent.trigger instanceof Function||"function"==typeof e.parent.trigger)&&e.parent.trigger(t),a&&n.externalDispatcher.trigger.call(this,t)}}}},function(e,t){var n=window.H5P=window.H5P||{};n.externalDispatcher=new n.EventDispatcher,n.EventDispatcher.prototype.triggerXAPI=function(e,t){this.trigger(this.createXAPIEventTemplate(e,t))},n.EventDispatcher.prototype.createXAPIEventTemplate=function(e,t){var i=new n.XAPIEvent;if(i.setActor(),i.setVerb(e),void 0!==t)for(var o in t)i.data.statement[o]=t[o];return"object"in i.data.statement||i.setObject(this),"context"in i.data.statement||i.setContext(this),i},n.EventDispatcher.prototype.triggerXAPICompleted=function(e,t,n){this.triggerXAPIScored(e,t,"completed",!0,n)},n.EventDispatcher.prototype.triggerXAPIScored=function(e,t,n,i,o){var r=this.createXAPIEventTemplate(n);r.setScoredResult(e,t,this,i,o),this.trigger(r)},n.EventDispatcher.prototype.setActivityStarted=function(){void 0===this.activityStartTime&&(void 0!==this.contentId&&void 0!==H5PIntegration.contents&&void 0!==H5PIntegration.contents["cid-"+this.contentId]&&this.triggerXAPI("attempted"),this.activityStartTime=Date.now())},n.xAPICompletedListener=function(e){if(("completed"===e.getVerb()||"answered"===e.getVerb())&&!e.getVerifiedStatementValue(["context","contextActivities","parent"])){var t=e.getScore(),i=e.getMaxScore(),o=e.getVerifiedStatementValue(["object","definition","extensions","http://h5p.org/x-api/h5p-local-content-id"]);n.setFinished(o,t,i)}}},function(e,t){var n=window.H5P=window.H5P||{};n.XAPIEvent=function(){n.Event.call(this,"xAPI",{statement:{}},{bubbles:!0,external:!0})},n.XAPIEvent.prototype=Object.create(n.Event.prototype),n.XAPIEvent.prototype.constructor=n.XAPIEvent,n.XAPIEvent.prototype.setScoredResult=function(e,t,n,i,o){if(this.data.statement.result={},void 0!==e&&(void 0===t?this.data.statement.result.score={raw:e}:(this.data.statement.result.score={min:0,max:t,raw:e},t>0&&(this.data.statement.result.score.scaled=Math.round(e/t*1e4)/1e4))),this.data.statement.result.completion=void 0===i?"completed"===this.getVerb()||"answered"===this.getVerb():i,void 0!==o&&(this.data.statement.result.success=o),n&&n.activityStartTime){var r=Math.round((Date.now()-n.activityStartTime)/10)/100;this.data.statement.result.duration="PT"+r+"S"}},n.XAPIEvent.prototype.setVerb=function(e){-1!==n.jQuery.inArray(e,n.XAPIEvent.allowedXAPIVerbs)?this.data.statement.verb={id:"http://adlnet.gov/expapi/verbs/"+e,display:{"en-US":e}}:void 0!==e.id&&(this.data.statement.verb=e)},n.XAPIEvent.prototype.getVerb=function(e){var t=this.data.statement;return"verb"in t?!0===e?t.verb:t.verb.id.slice(31):null},n.XAPIEvent.prototype.setObject=function(e){if(e.contentId)if(this.data.statement.object={id:this.getContentXAPIId(e),objectType:"Activity",definition:{extensions:{"http://h5p.org/x-api/h5p-local-content-id":e.contentId}}},e.subContentId)this.data.statement.object.definition.extensions["http://h5p.org/x-api/h5p-subContentId"]=e.subContentId,"function"==typeof e.getTitle&&(this.data.statement.object.definition.name={"en-US":e.getTitle()});else{var t=n.getContentForInstance(e.contentId);t&&t.metadata&&t.metadata.title&&(this.data.statement.object.definition.name={"en-US":n.createTitle(t.metadata.title)})}else this.data.statement.object={definition:{}}},n.XAPIEvent.prototype.setContext=function(e){e.parent&&(e.parent.contentId||e.parent.subContentId)&&(this.data.statement.context={contextActivities:{parent:[{id:this.getContentXAPIId(e.parent),objectType:"Activity"}]}}),e.libraryInfo&&(void 0===this.data.statement.context&&(this.data.statement.context={contextActivities:{}}),this.data.statement.context.contextActivities.category=[{id:"http://h5p.org/libraries/"+e.libraryInfo.versionedNameNoSpaces,objectType:"Activity"}])},n.XAPIEvent.prototype.setActor=function(){if(void 0!==H5PIntegration.user)this.data.statement.actor={name:H5PIntegration.user.name,mbox:"mailto:"+H5PIntegration.user.mail,objectType:"Agent"};else{var e;try{localStorage.H5PUserUUID?e=localStorage.H5PUserUUID:(e=n.createUUID(),localStorage.H5PUserUUID=e)}catch(t){e="not-trackable-"+n.createUUID()}this.data.statement.actor={account:{name:e,homePage:H5PIntegration.siteUrl},objectType:"Agent"}}},n.XAPIEvent.prototype.getMaxScore=function(){return this.getVerifiedStatementValue(["result","score","max"])},n.XAPIEvent.prototype.getScore=function(){return this.getVerifiedStatementValue(["result","score","raw"])},n.XAPIEvent.prototype.getContentXAPIId=function(e){var t;return e.contentId&&H5PIntegration&&H5PIntegration.contents&&H5PIntegration.contents["cid-"+e.contentId]&&(t=H5PIntegration.contents["cid-"+e.contentId].url,e.subContentId&&(t+="?subContentId="+e.subContentId)),t},n.XAPIEvent.prototype.isFromChild=function(){var e=this.getVerifiedStatementValue(["context","contextActivities","parent",0,"id"]);return!e||-1===e.indexOf("subContentId")},n.XAPIEvent.prototype.getVerifiedStatementValue=function(e){for(var t=this.data.statement,n=0;n<e.length;n++){if(void 0===t[e[n]])return null;t=t[e[n]]}return t},n.XAPIEvent.allowedXAPIVerbs=["answered","asked","attempted","attended","commented","completed","exited","experienced","failed","imported","initialized","interacted","launched","mastered","passed","preferred","progressed","registered","responded","resumed","scored","shared","suspended","terminated","voided","downloaded","copied","accessed-reuse","accessed-embed","accessed-copyright"]},function(e,t){H5P.ContentType=function(e){function t(){}return t.prototype=new H5P.EventDispatcher,t.prototype.isRoot=function(){return e},t.prototype.getLibraryFilePath=function(e){return H5P.getLibraryPath(this.libraryInfo.versionedNameNoSpaces)+"/"+e},t}},function(e,t,n){e.exports=n(10)},function(e,t,n){var i=window.H5PIntegration,o=(n(0),window.H5P=window.H5P||{});o.isFramed=window.self!==window.parent,o.$window=o.jQuery(window),o.instances=[],document.documentElement.requestFullScreen?o.fullScreenBrowserPrefix="":document.documentElement.webkitRequestFullScreen?(o.safariBrowser=navigator.userAgent.match(/version\/([.\d]+)/i),o.safariBrowser=null===o.safariBrowser?0:parseInt(o.safariBrowser[1]),(0===o.safariBrowser||o.safariBrowser>6)&&(o.fullScreenBrowserPrefix="webkit")):document.documentElement.mozRequestFullScreen?o.fullScreenBrowserPrefix="moz":document.documentElement.msRequestFullscreen&&(o.fullScreenBrowserPrefix="ms"),o.opened={},o.init=function(e){void 0===o.$body&&(o.$body=o.jQuery(document.body)),void 0===o.fullscreenSupported&&(o.fullscreenSupported=!(i.fullscreenDisabled||o.fullscreenDisabled||o.isFramed&&!1!==o.externalEmbed&&!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled))),void 0===o.canHasFullScreen&&(o.canHasFullScreen=o.fullscreenSupported),o.jQuery(".h5p-content:not(.h5p-initialized)",e).each((function(){var e=o.jQuery(this).addClass("h5p-initialized"),t=o.jQuery('<div class="h5p-container"></div>').appendTo(e),n=e.data("content-id"),r=i.contents["cid-"+n];if(void 0===r)return o.error("No data for content id "+n+". Perhaps the library is gone?");var a={library:r.library,params:JSON.parse(r.jsonContent),metadata:r.metadata};o.getUserData(n,"state",(function(e,l){if(l)a.userDatas={state:l};else if(null===l&&i.saveFreq){delete r.contentUserData;var c=new o.Dialog("content-user-data-reset","Data Reset","<p>"+o.t("contentChanged")+"</p><p>"+o.t("startingOver")+'</p><div class="h5p-dialog-ok-button" tabIndex="0" role="button">OK</div>',t);o.jQuery(c).on("dialog-opened",(function(e,t){var i=function(e){"click"!==e.type&&32!==e.which||(c.close(),o.deleteUserData(n,"state",0))};t.find(".h5p-dialog-ok-button").click(i).keypress(i),o.trigger(s,"resize")})).on("dialog-closed",(function(){o.trigger(s,"resize")})),c.open()}}));var s=o.newRunnable(a,n,t,!0,{standalone:!0});o.offlineRequestQueue=new o.OfflineRequestQueue({instance:s}),1==r.fullScreen&&o.fullscreenSupported&&o.jQuery('<div class="h5p-content-controls"><div role="button" tabindex="0" class="h5p-enable-fullscreen" aria-label="'+o.t("fullscreen")+'" title="'+o.t("fullscreen")+'"></div></div>').prependTo(t).children().click((function(){o.fullScreen(t,s)})).keydown((function(e){if(32===e.which||13===e.which)return o.fullScreen(t,s),!1}));var l,c=r.displayOptions,u=!1;if(c.frame){if(c.copyright){var d=o.getCopyrights(s,a.params,n,a.metadata);d||(c.copyright=!1)}var f=new o.ActionBar(c),h=f.getDOMElement();f.on("reuse",(function(){o.openReuseDialog(h,r,a,s,n),s.triggerXAPI("accessed-reuse")})),f.on("copyrights",(function(){new o.Dialog("copyrights",o.t("copyrightInformation"),d,t).open(!0),s.triggerXAPI("accessed-copyright")})),f.on("embed",(function(){o.openEmbedDialog(h,r.embedCode,r.resizeCode,{width:e.width(),height:e.height()},s),s.triggerXAPI("accessed-embed")})),f.hasActions()&&(u=!0,h.insertAfter(t))}if(e.addClass(u?"h5p-frame":"h5p-no-frame"),o.opened[n]=new Date,o.on(s,"finish",(function(e){void 0!==e.data&&o.setFinished(n,e.data.score,e.data.maxScore,e.data.time)})),o.on(s,"xAPI",o.xAPICompletedListener),!1!==i.saveFreq&&(s.getCurrentState instanceof Function||"function"==typeof s.getCurrentState)){var p,m=function(){var e=s.getCurrentState();void 0!==e&&o.setUserData(n,"state",e,{deleteOnChange:!0}),i.saveFreq&&(p=setTimeout(m,1e3*i.saveFreq))};i.saveFreq&&(p=setTimeout(m,1e3*i.saveFreq)),o.on(s,"xAPI",(function(e){var t=e.getVerb();"completed"!==t&&"progressed"!==t||(clearTimeout(p),p=setTimeout(m,3e3))}))}if(o.isFramed)if(!1===o.externalEmbed){var g=window.frameElement;o.on(s,"resize",(function(){clearTimeout(l),l=setTimeout((function(){!function(){if(!window.parent.H5P.isFullscreen){var e=g.parentElement.style.height;g.parentElement.style.height=g.parentElement.clientHeight+"px",g.getBoundingClientRect(),g.style.height="1px",g.style.height=g.contentDocument.body.scrollHeight+"px",g.parentElement.style.height=e}}()}),1)}))}else if(o.communicator){var E=!1;o.communicator.on("ready",(function(){o.communicator.send("hello")})),o.communicator.on("hello",(function(){E=!0,document.body.style.height="auto",document.body.style.overflow="hidden",o.trigger(s,"resize")})),o.communicator.on("resizePrepared",(function(){o.communicator.send("resize",{scrollHeight:document.body.scrollHeight})})),o.communicator.on("resize",(function(){o.trigger(s,"resize")})),o.on(s,"resize",(function(){o.isFullscreen||(clearTimeout(l),l=setTimeout((function(){E?o.communicator.send("prepareResize",{scrollHeight:document.body.scrollHeight,clientHeight:document.body.clientHeight}):o.communicator.send("hello")}),0))}))}o.isFramed&&!1!==o.externalEmbed||o.jQuery(window.parent).resize((function(){window.parent.H5P.isFullscreen,o.trigger(s,"resize")})),o.instances.push(s),o.trigger(s,"resize"),e.addClass("using-mouse"),e.on("mousedown keydown keyup",(function(t){e.toggleClass("using-mouse","mousedown"===t.type)})),o.externalDispatcher&&o.externalDispatcher.trigger("initialized")})),o.jQuery("iframe.h5p-iframe:not(.h5p-initialized)",e).each((function(){var e=o.jQuery(this).addClass("h5p-initialized").data("content-id");this.contentDocument.open(),this.contentDocument.write('<!doctype html><html class="h5p-iframe"><head>'+o.getHeadTags(e)+'</head><body><div class="h5p-content" data-content-id="'+e+'"/></body></html>'),this.contentDocument.close()}))},o.getHeadTags=function(e){var t=function(e){for(var t="",n=0;n<e.length;n++)t+='<link rel="stylesheet" href="'+e[n]+'">';return t},n=function(e){for(var t="",n=0;n<e.length;n++)t+='<script src="'+e[n]+'"><\/script>';return t};return'<base target="_parent">'+t(i.core.styles)+t(i.contents["cid-"+e].styles)+n(i.core.scripts)+n(i.contents["cid-"+e].scripts)+"<script>H5PIntegration = window.parent.H5PIntegration; var H5P = H5P || {}; H5P.externalEmbed = false;<\/script>"},o.communicator=window.postMessage&&window.addEventListener?new function(){var e={};window.addEventListener("message",(function(t){window.parent===t.source&&"h5p"===t.data.context&&void 0!==e[t.data.action]&&e[t.data.action](t.data)}),!1),this.on=function(t,n){e[t]=n},this.send=function(e,t){void 0===t&&(t={}),t.context="h5p",t.action=e,window.parent.postMessage(t,"*")}}:void 0,o.semiFullScreen=function(e,t,n,i){o.fullScreen(e,t,n,i,!0)},o.fullScreen=function(e,t,n,i,r){if(void 0===o.exitFullScreen){if(o.isFramed&&!1===o.externalEmbed)return window.parent.H5P.fullScreen(e,t,n,o.$body.get(),r),o.isFullscreen=!0,o.exitFullScreen=function(){window.parent.H5P.exitFullScreen()},void o.on(t,"exitFullScreen",(function(){o.isFullscreen=!1,o.exitFullScreen=void 0}));var a,s,l,c=e;if(void 0===i)l=o.$body;else{l=o.jQuery(i),a=l.add(e.get());var u="#h5p-iframe-"+e.parent().data("content-id");e=(s=o.jQuery(u)).parent()}a=e.add(o.$body).add(a);var d=function(e){a.addClass(e),void 0!==s&&s.css("height","")},f=function(){o.trigger(t,"resize"),o.trigger(t,"focus"),o.trigger(t,"enterFullScreen")},h=function(e){o.isFullscreen=!1,a.removeClass(e),o.trigger(t,"resize"),o.trigger(t,"focus"),o.exitFullScreen=void 0,void 0!==n&&n(),o.trigger(t,"exitFullScreen")};if(o.isFullscreen=!0,void 0===o.fullScreenBrowserPrefix||!0===r){if(o.isFramed)return;d("h5p-semi-fullscreen");var p,m,g,E=o.jQuery('<div role="button" tabindex="0" class="h5p-disable-fullscreen" title="'+o.t("disableFullscreen")+'" aria-label="'+o.t("disableFullscreen")+'"></div>').appendTo(c.find(".h5p-content-controls")),v=o.exitFullScreen=function(){m?g.content=m:C.removeChild(g),E.remove(),l.unbind("keyup",p),h("h5p-semi-fullscreen")};p=function(e){27===e.keyCode&&v()},E.click(v),l.keyup(p);for(var T=document.getElementsByTagName("meta"),b=0;b<T.length;b++)if("viewport"===T[b].name){g=T[b],m=g.content;break}if(m||((g=document.createElement("meta")).name="viewport"),g.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",!m){var C=document.getElementsByTagName("head")[0];C.appendChild(g)}f()}else{d("h5p-fullscreen");var y,I="ms"===o.fullScreenBrowserPrefix?"MSFullscreenChange":o.fullScreenBrowserPrefix+"fullscreenchange";if(document.addEventListener(I,(function(){if(void 0===y)return y=!1,void f();h("h5p-fullscreen"),document.removeEventListener(I,arguments.callee,!1)})),""===o.fullScreenBrowserPrefix)e[0].requestFullScreen();else{var O="ms"===o.fullScreenBrowserPrefix?"msRequestFullscreen":o.fullScreenBrowserPrefix+"RequestFullScreen",D="webkit"===o.fullScreenBrowserPrefix&&0===o.safariBrowser?Element.ALLOW_KEYBOARD_INPUT:void 0;e[0][O](D)}o.exitFullScreen=function(){""===o.fullScreenBrowserPrefix?document.exitFullscreen():"moz"===o.fullScreenBrowserPrefix?document.mozCancelFullScreen():document[o.fullScreenBrowserPrefix+"ExitFullscreen"]()}}}},function(){o.addQueryParameter=function(e,t){let n,i;const o=e.split("?");return o[1]?(i=o[1].split("#"),n=o[0]+"?"+i[0]+"&"):(i=o[0].split("#"),n=i[0]+"?"),n+=t,i[1]&&(n+="#"+i[1]),n},o.setSource=function(e,t,n){let r=t.path;const a=o.getCrossOrigin(t);a?(e.crossOrigin=a,i.crossoriginCacheBuster&&(r=o.addQueryParameter(r,i.crossoriginCacheBuster))):e.removeAttribute("crossorigin"),e.src=o.getPath(r,n)};var e=function(e){return e.match(/^[a-z0-9]+:\/\//i)};o.getCrossOrigin=function(t){return"object"!=typeof t?i.crossorigin&&i.crossoriginRegex&&t.match(i.crossoriginRegex)?i.crossorigin:null:i.crossorigin&&!e(t.path)?i.crossorigin:void 0},o.getPath=function(t,n){if(e(t))return t;var o,r="#tmp"===t.substr(-4,4);if(void 0===n||r){if(void 0===window.H5PEditor)return;o=H5PEditor.filesPath}else void 0!==i.contents&&i.contents["cid-"+n]&&(o=i.contents["cid-"+n].contentUrl),o||(o=i.url+"/content/"+n);return e(o)||(o=window.location.protocol+"//"+window.location.host+o),o+"/"+t}}(),o.getContentPath=function(e){return i.url+"/content/"+e},o.classFromName=function(e){var t=e.split(".");return this[t[t.length-1]]},o.newRunnable=function(e,t,n,r,a){var s,l,c,u;try{c=(s=e.library.split(" ",2))[0],l=s[1].split(".",2)}catch(t){return o.error("Invalid library string: "+e.library)}if(e.params instanceof Object!=!0||e.params instanceof Array==!0)return o.error("Invalid library params for: "+e.library),o.error(e.params);try{s=s[0].split("."),u=window;for(var d=0;d<s.length;d++)u=u[s[d]];if("function"!=typeof u)throw null}catch(t){return o.error("Unable to find constructor for: "+e.library)}void 0===a&&(a={}),e.subContentId&&(a.subContentId=e.subContentId),e.userDatas&&e.userDatas.state&&i.saveFreq&&(a.previousState=e.userDatas.state),e.metadata&&(a.metadata=e.metadata);var f,h=a.standalone||!1;return u.prototype=o.jQuery.extend({},o.ContentType(h).prototype,u.prototype),void 0===(f=o.jQuery.inArray(e.library,["H5P.CoursePresentation 1.0","H5P.CoursePresentation 1.1","H5P.CoursePresentation 1.2","H5P.CoursePresentation 1.3"])>-1?new u(e.params,t):new u(e.params,t,a)).$&&(f.$=o.jQuery(f)),void 0===f.contentId&&(f.contentId=t),void 0===f.subContentId&&e.subContentId&&(f.subContentId=e.subContentId),void 0===f.parent&&a&&a.parent&&(f.parent=a.parent),void 0===f.libraryInfo&&(f.libraryInfo={versionedName:e.library,versionedNameNoSpaces:c+"-"+l[0]+"."+l[1],machineName:c,majorVersion:l[0],minorVersion:l[1]}),void 0!==n&&(n.toggleClass("h5p-standalone",h),f.attach(n),o.trigger(f,"domChanged",{$target:n,library:c,key:"newLibrary"},{bubbles:!0,external:!0}),void 0!==r&&r||o.trigger(f,"resize")),f},o.error=function(e){void 0!==window.console&&void 0!==console.error&&console.error(e.stack?e.stack:e)},o.t=function(e,t,n){if(void 0===n&&(n="H5P"),void 0===i.l10n[n])return'[Missing translation namespace "'+n+'"]';if(void 0===i.l10n[n][e])return'[Missing translation "'+e+'" in "'+n+'"]';var o=i.l10n[n][e];if(void 0!==t)for(var r in t)o=o.replace(r,t[r]);return o},o.Dialog=function(e,t,n,i){var r=this,a=o.jQuery('<div class="h5p-popup-dialog h5p-'+e+'-dialog" role="dialog" tabindex="-1">                              <div class="h5p-inner">                                <h2>'+t+'</h2>                                <div class="h5p-scroll-content">'+n+'</div>                                <div class="h5p-close" role="button" tabindex="0" aria-label="'+o.t("close")+'" title="'+o.t("close")+'"></div>                              </div>                            </div>').insertAfter(i).click((function(e){e&&e.originalEvent&&e.originalEvent.preventClosing||r.close()})).children(".h5p-inner").click((function(e){e.originalEvent.preventClosing=!0})).find(".h5p-close").click((function(){r.close()})).keypress((function(e){if(13===e.which||32===e.which)return r.close(),!1})).end().find("a").click((function(e){e.stopPropagation()})).end().end();r.open=function(e){e&&a.css("height","100%"),setTimeout((function(){a.addClass("h5p-open"),o.jQuery(r).trigger("dialog-opened",[a]),a.focus()}),1)},r.close=function(){a.removeClass("h5p-open"),setTimeout((function(){a.remove(),o.jQuery(r).trigger("dialog-closed",[a]),i.attr("tabindex","-1"),i.focus()}),200)}},o.getCopyrights=function(e,t,n,i){var r;if(void 0!==e.getCopyrights)try{r=e.getCopyrights()}catch(e){}void 0===r&&(r=new o.ContentCopyrights,o.findCopyrights(r,t,n));var a=o.buildMetadataCopyrights(i,e.libraryInfo.machineName);return void 0!==a&&r.addMediaInFront(a),void 0!==r&&(r=r.toString()),r},o.findCopyrights=function(e,t,n,i){var r;for(var a in i&&(i.params=t,c(i,i.machineName,n)),t)if(t.hasOwnProperty(a))if("overrideSettings"!==a){var s=t[a];if(s&&s.library&&"string"==typeof s.library?r=s.library.split(" ")[0]:s&&s.library&&"object"==typeof s.library&&(r=s.library.library&&"string"==typeof s.library.library?s.library.library.split(" ")[0]:r),s instanceof Array)o.findCopyrights(e,s,n);else if(s instanceof Object)if(c(s,r,n),void 0===s.copyright||void 0===s.copyright.license||void 0===s.path||void 0===s.mime)o.findCopyrights(e,s,n);else{var l=new o.MediaCopyright(s.copyright);void 0!==s.width&&void 0!==s.height&&l.setThumbnail(new o.Thumbnail(o.getPath(s.path,n),s.width,s.height)),e.addMedia(l)}}else console.warn("The semantics field 'overrideSettings' is DEPRECATED and should not be used."),console.warn(t);function c(t,n,i){if(t.metadata){const r=o.buildMetadataCopyrights(t.metadata,n);if(void 0!==r){if(t.params&&"Image"===t.params.contentName&&t.params.file){const e=t.params.file.path,n=t.params.file.width,a=t.params.file.height;r.setThumbnail(new o.Thumbnail(o.getPath(e,i),n,a))}e.addMedia(r)}}}},o.buildMetadataCopyrights=function(e){if(e&&void 0!==e.license&&"U"!==e.license){var t={contentType:e.contentType,title:e.title,author:e.authors&&e.authors.length>0?e.authors.map((function(e){return e.role?e.name+" ("+e.role+")":e.name})).join(", "):void 0,source:e.source,year:e.yearFrom?e.yearFrom+(e.yearTo?"-"+e.yearTo:""):void 0,license:e.license,version:e.licenseVersion,licenseExtras:e.licenseExtras,changes:e.changes&&e.changes.length>0?e.changes.map((function(e){return e.log+(e.author?", "+e.author:"")+(e.date?", "+e.date:"")})).join(" / "):void 0};return new o.MediaCopyright(t)}},o.openReuseDialog=function(e,t,n,i,r){let a="";t.displayOptions.export&&(a+='<button type="button" class="h5p-big-button h5p-download-button"><div class="h5p-button-title">Download as an .h5p file</div><div class="h5p-button-description">.h5p files may be uploaded to any web-site where H5P content may be created.</div></button>'),t.displayOptions.export&&t.displayOptions.copy&&(a+='<div class="h5p-horizontal-line-text"><span>or</span></div>'),t.displayOptions.copy&&(a+='<button type="button" class="h5p-big-button h5p-copy-button"><div class="h5p-button-title">Copy content</div><div class="h5p-button-description">Copied content may be pasted anywhere this content type is supported on this website.</div></button>');const s=new o.Dialog("reuse",o.t("reuseContent"),a,e);o.jQuery(s).on("dialog-opened",(function(e,a){o.jQuery('<a href="https://h5p.org/node/442225" target="_blank">More Info</a>').click((function(e){e.stopPropagation()})).appendTo(a.find("h2")),a.find(".h5p-download-button").click((function(){window.location.href=t.exportUrl,i.triggerXAPI("downloaded"),s.close()})),a.find(".h5p-copy-button").click((function(){const e=new o.ClipboardItem(n);e.contentId=r,o.setClipboard(e),i.triggerXAPI("copied"),s.close(),o.attachToastTo(o.jQuery(".h5p-content:first")[0],o.t("contentCopied"),{position:{horizontal:"centered",vertical:"centered",noOverflowX:!0}})})),o.trigger(i,"resize")})).on("dialog-closed",(function(){o.trigger(i,"resize")})),s.open()},o.openEmbedDialog=function(e,t,n,i,r){var a=t+n,s=new o.Dialog("embed",o.t("embed"),'<textarea class="h5p-embed-code-container" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>'+o.t("size")+': <input type="text" value="'+Math.ceil(i.width)+'" class="h5p-embed-size"/> Ã <input type="text" value="'+Math.ceil(i.height)+'" class="h5p-embed-size"/> px<br/><div role="button" tabindex="0" class="h5p-expander">'+o.t("showAdvanced")+'</div><div class="h5p-expander-content"><p>'+o.t("advancedHelp")+'</p><textarea class="h5p-embed-code-container" autocorrect="off" autocapitalize="off" spellcheck="false">'+n+"</textarea></div>",e);o.jQuery(s).on("dialog-opened",(function(e,t){var n=t.find(".h5p-inner").find(".h5p-scroll-content"),s=(n.outerHeight(),n.innerHeight(),function(){o.trigger(r,"resize")}),l=t.find(".h5p-embed-size:eq(0)"),c=t.find(".h5p-embed-size:eq(1)"),u=function(e,t){var n=parseFloat(e.val());return isNaN(n)?t:Math.ceil(n)},d=function(){t.find(".h5p-embed-code-container:first").val(a.replace(":w",u(l,i.width)).replace(":h",u(c,i.height)))};l.change(d),c.change(d),d(),t.find(".h5p-embed-code-container").each((function(){o.jQuery(this).css("height",this.scrollHeight+"px").focus((function(){o.jQuery(this).select()}))})),t.find(".h5p-embed-code-container").eq(0).select(),s();var f=function(){var e=o.jQuery(this),n=e.next();n.is(":visible")?(e.removeClass("h5p-open").text(o.t("showAdvanced")).attr("aria-expanded","true"),n.hide()):(e.addClass("h5p-open").text(o.t("hideAdvanced")).attr("aria-expanded","false"),n.show()),t.find(".h5p-embed-code-container").each((function(){o.jQuery(this).css("height",this.scrollHeight+"px")})),s()};t.find(".h5p-expander").click(f).keypress((function(e){if(32===e.keyCode)return f.apply(this),!1}))})).on("dialog-closed",(function(){o.trigger(r,"resize")})),s.open()},o.attachToastTo=function(e,t,n){if(void 0===e||void 0===t)return;const i=function(t){-1===function(e){var t=e.composedPath&&e.composedPath()||e.path,n=e.target;if(null!=t)return t.indexOf(window)<0?t.concat(window):t;if(n===window)return[window];return[n].concat(function e(t,n){n=n||[];var i=t.parentNode;return i?e(i,n.concat(i)):n}(n),window)}(t).indexOf(e)&&(clearTimeout(l),o())},o=function(){document.removeEventListener("click",i),r.parentNode&&r.parentNode.removeChild(r)};(n=n||{}).style=n.style||"h5p-toast",n.duration=n.duration||3e3;const r=document.createElement("div");r.setAttribute("id",n.style),r.classList.add("h5p-toast-disabled"),r.classList.add(n.style);const a=document.createElement("span");a.innerHTML=t,r.appendChild(a),document.body.appendChild(r);const s=function(e,t,n){(n=n||{}).offsetHorizontal=n.offsetHorizontal||0,n.offsetVertical=n.offsetVertical||0;const i=t.getBoundingClientRect(),o=e.getBoundingClientRect();let r=0,a=0;switch(n.horizontal){case"before":r=o.left-i.width-n.offsetHorizontal;break;case"after":r=o.left+o.width+n.offsetHorizontal;break;case"left":r=o.left+n.offsetHorizontal;break;case"right":r=o.left+o.width-i.width-n.offsetHorizontal;break;case"centered":r=o.left+o.width/2-i.width/2+n.offsetHorizontal;break;default:r=o.left+o.width/2-i.width/2+n.offsetHorizontal}switch(n.vertical){case"above":a=o.top-i.height-n.offsetVertical;break;case"below":a=o.top+o.height+n.offsetVertical;break;case"top":a=o.top+n.offsetVertical;break;case"bottom":a=o.top+o.height-i.height-n.offsetVertical;break;case"centered":a=o.top+o.height/2-i.height/2+n.offsetVertical;break;default:a=o.top+o.height+n.offsetVertical}const s=document.body.getBoundingClientRect();return(n.noOverflowLeft||n.noOverflowX)&&r<s.x&&(r=s.x),(n.noOverflowRight||n.noOverflowX)&&r+i.width>s.x+s.width&&(r=s.x+s.width-i.width),(n.noOverflowTop||n.noOverflowY)&&a<s.y&&(a=s.y),(n.noOverflowBottom||n.noOverflowY)&&a+i.height>s.y+s.height&&(r=s.y+s.height-i.height),{left:r,top:a}}(e,r,n.position);r.style.left=Math.round(s.left)+"px",r.style.top=Math.round(s.top)+"px",r.classList.remove("h5p-toast-disabled");const l=setTimeout(o,n.duration);document.addEventListener("click",i)},o.ContentCopyrights=function(){var e,t=[],n=[];this.setLabel=function(t){e=t},this.addMedia=function(e){void 0!==e&&t.push(e)},this.addMediaInFront=function(e){void 0!==e&&t.unshift(e)},this.addContent=function(e){void 0!==e&&n.push(e)},this.toString=function(){for(var i="",o=0;o<t.length;o++)i+=t[o];for(o=0;o<n.length;o++)i+=n[o];return""!==i&&(void 0!==e&&(i="<h3>"+e+"</h3>"+i),i='<div class="h5p-content-copyrights">'+i+"</div>"),i}},o.MediaCopyright=function(e,t,n,i){var r,a=new o.DefinitionList,s=function(e){return void 0===t||void 0===t[e]?o.t(e):t[e]},l=function(e,t){var n,i,r=o.copyrightLicenses[e],a="";"PD"===e&&t||(a+=r.hasOwnProperty("label")?r.label:r),r.versions&&(!r.versions.default||t&&r.versions[t]||(t=r.versions.default),t&&r.versions[t]&&(n=r.versions[t])),n&&(a&&(a+=" "),a+=n.hasOwnProperty("label")?n.label:n),r.hasOwnProperty("link")?i=r.link.replace(":version",r.linkVersions?r.linkVersions[t]:t):n&&r.hasOwnProperty("link")&&(i=n.link),i&&(a='<a href="'+i+'" target="_blank">'+a+"</a>");var s="";return"PD"!==e&&"C"!==e&&(s+=e),t&&"CC0 1.0"!==t&&(s&&"GNU GPL"!==e&&(s+=" "),s+=t),s&&(a+=" ("+s+")"),"C"===e&&(a+=" &copy;"),a};if(void 0!==e){for(var c in i)i.hasOwnProperty(c)&&(e[c]=i[c]);void 0===n&&(n=["contentType","title","license","author","year","source","licenseExtras","changes"]);for(var u=0;u<n.length;u++){var d=n[u];if(void 0!==e[d]&&""!==e[d]){var f=e[d];"license"===d&&(f=l(e.license,e.version)),"source"===d&&(f=f?'<a href="'+f+'" target="_blank">'+f+"</a>":void 0),a.add(new o.Field(s(d),f))}}}this.setThumbnail=function(e){r=e},this.undisclosed=function(){if(1===a.size()){var e=a.get(0);if(e.getLabel()===s("license")&&e.getValue()===l("U"))return!0}return!1},this.toString=function(){var e="";return this.undisclosed()?e:(void 0!==r&&(e+=r),""!==(e+=a)&&(e='<div class="h5p-media-copyright">'+e+"</div>"),e)}},o.Thumbnail=function(e,t,n){var i;void 0!==t&&(i=Math.round(t/n*100)),this.toString=function(){return'<img src="'+e+'" alt="'+o.t("thumbnail")+'" class="h5p-thumbnail" height="100"'+(void 0===i?"":' width="'+i+'"')+"/>"}},o.Field=function(e,t){this.getLabel=function(){return e},this.getValue=function(){return t}},o.DefinitionList=function(){var e=[];this.add=function(t){e.push(t)},this.size=function(){return e.length},this.get=function(t){return e[t]},this.toString=function(){for(var t="",n=0;n<e.length;n++){var i=e[n];t+="<dt>"+i.getLabel()+"</dt><dd>"+i.getValue()+"</dd>"}return""===t?t:'<dl class="h5p-definition-list">'+t+"</dl>"}},o.Coords=function(e,t,n,i){return this instanceof o.Coords?(this.x=0,this.y=0,this.w=1,this.h=1,"object"==typeof e?(this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h):(void 0!==e&&(this.x=e),void 0!==t&&(this.y=t),void 0!==n&&(this.w=n),void 0!==i&&(this.h=i)),this):new o.Coords(e,t,n,i)},o.libraryFromString=function(e){var t=/(.+)\s(\d+)\.(\d+)$/g.exec(e);return null!==t&&{machineName:t[1],majorVersion:parseInt(t[2]),minorVersion:parseInt(t[3])}},o.getLibraryPath=function(e){return void 0!==i.urlLibraries?i.urlLibraries+"/"+e:i.url+"/libraries/"+e},o.cloneObject=function(e,t){var n=e instanceof Array?[]:{};for(var i in e)e.hasOwnProperty(i)&&(void 0!==t&&t&&"object"==typeof e[i]?n[i]=o.cloneObject(e[i],t):n[i]=e[i]);return n},o.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},o.jsLoaded=function(e){return i.loadedJs=i.loadedJs||[],-1!==o.jQuery.inArray(e,i.loadedJs)},o.cssLoaded=function(e){return i.loadedCss=i.loadedCss||[],-1!==o.jQuery.inArray(e,i.loadedCss)},o.shuffleArray=function(e){if(e instanceof Array){var t,n,i,o=e.length;if(0===o)return!1;for(;--o;)t=Math.floor(Math.random()*(o+1)),n=e[o],i=e[t],e[o]=i,e[t]=n;return e}},o.setFinished=function(e,t,n,r){if(("number"==typeof t||t instanceof Number)&&!0===i.postUserStatistics){var a=function(e){return Math.round(e.getTime()/1e3)};const s={contentId:e,score:t,maxScore:n,opened:a(o.opened[e]),finished:a(new Date),time:r};o.jQuery.post(i.ajax.setFinished,s).fail((function(){o.offlineRequestQueue.add(i.ajax.setFinished,s)}))}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),void 0===String.prototype.trim&&(String.prototype.trim=function(){return o.trim(this)}),o.trigger=function(e,t,n,i){void 0!==e.trigger?e.trigger(t,n,i):void 0!==e.$&&void 0!==e.$.trigger&&e.$.trigger(t)},o.on=function(e,t,n){void 0!==e.on?e.on(t,n):void 0!==e.$&&void 0!==e.$.on&&e.$.on(t,n)},o.createUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},o.createTitle=function(e,t){if(!e)return"";void 0===t&&(t=60);var n=o.jQuery("<div></div>").text(e.replace(/(<([^>]+)>)/gi,"")).text();return n.length>t&&(n=n.substr(0,t-3)+"..."),n},function(e){function t(t,n,o,r,a,s,l,c){if(void 0!==i.user){var u={url:i.ajax.contentUserData.replace(":contentId",t).replace(":dataType",n).replace(":subContentId",o||0),dataType:"json",async:void 0===c||c};void 0!==a?(u.type="POST",u.data={data:null===a?0:a,preload:s?1:0,invalidate:l?1:0}):u.type="GET",void 0!==r&&(u.error=function(e,t){r(t)},u.success=function(e){e.success?!1!==e.data&&void 0!==e.data?r(void 0,e.data):r():r(e.message)}),e.ajax(u)}else r("Not signed in.")}o.getUserData=function(e,n,o,r){r||(r=0),i.contents=i.contents||{};var a=i.contents["cid-"+e]||{},s=a.contentUserData;if(s&&s[r]&&void 0!==s[r][n]){if("RESET"===s[r][n])return void o(void 0,null);try{o(void 0,JSON.parse(s[r][n]))}catch(e){o(e)}}else t(e,n,r,(function(e,t){if(e||void 0===t)o(e,t);else{void 0===a.contentUserData&&(a.contentUserData=s={}),void 0===s[r]&&(s[r]={}),s[r][n]=t;try{o(void 0,JSON.parse(t))}catch(e){o(e)}}}))},o.setUserData=function(e,n,r,a){var s=o.jQuery.extend(!0,{},{subContentId:0,preloaded:!0,deleteOnChange:!1,async:!0},a);try{r=JSON.stringify(r)}catch(e){return void(s.errorCallback&&s.errorCallback(e))}var l=i.contents["cid-"+e];void 0===l&&(l=i.contents["cid-"+e]={}),l.contentUserData||(l.contentUserData={});var c=l.contentUserData;void 0===c[s.subContentId]&&(c[s.subContentId]={}),r!==c[s.subContentId][n]&&(c[s.subContentId][n]=r,t(e,n,s.subContentId,(function(e){s.errorCallback&&e&&s.errorCallback(e)}),r,s.preloaded,s.deleteOnChange,s.async))},o.deleteUserData=function(e,n,o){o||(o=0);var r=i.contents["cid-"+e].contentUserData;r&&r[o]&&r[o][n]&&delete r[o][n],t(e,n,o,void 0,null)},o.getContentForInstance=function(e){var t="cid-"+e;return i&&i.contents&&i.contents[t]?i.contents[t]:void 0},o.ClipboardItem=function(e,t,n){var i=this;t||(t="action",e={action:e}),i.specific=e,t&&e[t]&&(i.generic=t),n&&(i.from=n),window.H5PEditor&&H5PEditor.contentId&&(i.contentId=H5PEditor.contentId),i.specific.width||i.specific.height||function(){if(i.generic){var e=i.specific[i.generic];e.params.file&&e.params.file.width&&e.params.file.height&&(i.width=20,i.height=e.params.file.height/e.params.file.width*i.width)}}()},o.clipboardify=function(e){e instanceof o.ClipboardItem||(e=new o.ClipboardItem(e)),o.setClipboard(e)},o.getClipboard=function(){return n()},o.setClipboard=function(e){localStorage.setItem("h5pClipboard",JSON.stringify(e)),o.externalDispatcher.trigger("datainclipboard",{reset:!1})},o.getLibraryConfig=function(e){return i.libraryConfig&&i.libraryConfig[e]?i.libraryConfig[e]:{}};var n=function(){var e=localStorage.getItem("h5pClipboard");if(e){try{e=JSON.parse(e)}catch(e){return void console.error("Unable to parse JSON from clipboard.",e)}return r(e.specific,(function(t){return"#tmp"===t.substr(-4,4)||!e.contentId||t.match(/^https?:\/\//i)?t:H5PEditor.contentId?"../"+e.contentId+"/"+t:(H5PEditor.contentRelUrl?H5PEditor.contentRelUrl:"../content/")+e.contentId+"/"+t})),e.generic&&(e.generic=e.specific[e.generic]),e}},r=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]instanceof Object){var i=e[n];void 0!==i.path&&void 0!==i.mime?i.path=t(i.path):(void 0!==i.library&&void 0!==i.subContentId&&delete i.subContentId,r(i,t))}};e(document).ready((function(){window.addEventListener("storage",(function(e){"h5pClipboard"===e.key&&o.externalDispatcher.trigger("datainclipboard",{reset:null===e.newValue})}));var e={default:"4.0","4.0":o.t("licenseCC40"),"3.0":o.t("licenseCC30"),2.5:o.t("licenseCC25"),"2.0":o.t("licenseCC20"),"1.0":o.t("licenseCC10")};if(o.copyrightLicenses={U:o.t("licenseU"),"CC BY":{label:o.t("licenseCCBY"),link:"http://creativecommons.org/licenses/by/:version",versions:e},"CC BY-SA":{label:o.t("licenseCCBYSA"),link:"http://creativecommons.org/licenses/by-sa/:version",versions:e},"CC BY-ND":{label:o.t("licenseCCBYND"),link:"http://creativecommons.org/licenses/by-nd/:version",versions:e},"CC BY-NC":{label:o.t("licenseCCBYNC"),link:"http://creativecommons.org/licenses/by-nc/:version",versions:e},"CC BY-NC-SA":{label:o.t("licenseCCBYNCSA"),link:"http://creativecommons.org/licenses/by-nc-sa/:version",versions:e},"CC BY-NC-ND":{label:o.t("licenseCCBYNCND"),link:"http://creativecommons.org/licenses/by-nc-nd/:version",versions:e},"CC0 1.0":{label:o.t("licenseCC010"),link:"https://creativecommons.org/publicdomain/zero/1.0/"},"GNU GPL":{label:o.t("licenseGPL"),link:"http://www.gnu.org/licenses/gpl-:version-standalone.html",linkVersions:{v3:"3.0",v2:"2.0",v1:"1.0"},versions:{default:"v3",v3:o.t("licenseV3"),v2:o.t("licenseV2"),v1:o.t("licenseV1")}},PD:{label:o.t("licensePD"),versions:{"CC0 1.0":{label:o.t("licenseCC010"),link:"https://creativecommons.org/publicdomain/zero/1.0/"},"CC PDM":{label:o.t("licensePDM"),link:"https://creativecommons.org/publicdomain/mark/1.0/"}}},"ODC PDDL":'<a href="http://opendatacommons.org/licenses/pddl/1.0/" target="_blank">Public Domain Dedication and Licence</a>',"CC PDM":{label:o.t("licensePDM"),link:"https://creativecommons.org/publicdomain/mark/1.0/"},C:o.t("licenseC")},o.isFramed&&!1===o.externalEmbed&&o.externalDispatcher.on("*",(function(e){window.parent.H5P.externalDispatcher.trigger.call(this,e)})),o.preventInit||o.init(document.body),!1!==i.saveFreq){var t=0,n=function(){var e=(new Date).getTime();if(e-t>250){t=e;for(var n=0;n<o.instances.length;n++){var i=o.instances[n];if(i.getCurrentState instanceof Function||"function"==typeof i.getCurrentState){var r=i.getCurrentState();void 0!==r&&o.setUserData(i.contentId,"state",r,{deleteOnChange:!0,async:!1})}}}};o.$window.one("beforeunload unload",(function(){o.$window.off("pagehide beforeunload unload"),n()})),o.$window.on("pagehide",n)}}))}(o.jQuery),e.exports=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(6),o=n.n(i),r=n(7),a=n.n(r);H5PIntegration=window.H5PIntegration;class s{constructor(e,t="workspace",n={},i={},o={}){return this.id=n.id||Math.random().toString(36).substr(2,9),this.path=t,this.librariesPath=o=={}?this.path:o,console.log("This.librariesPath = "+this.librariesPath),this.initElement(e),this.initH5P(n.frameCss,n.frameJs,i,n.preventH5PInit)}initElement(e){if(!(e instanceof HTMLElement))throw new Error("createH5P must be passed an element");e.innerHTML=`<div class="h5p-iframe-wrapper" style="background-color:#DDD;">\n        <iframe id="h5p-iframe-${this.id}" class="h5p-iframe" data-content-id="${this.id}" style="width: 100%; height: 100%; border: none; display: block;" src="about:blank" frameBorder="0"></iframe>\n      </div>`}async initH5P(e="./styles/h5p.css",t="./frame.bundle.js",n,i){this.h5p=await this.getJSON(`${this.path}/h5p.json`);const o=await this.getJSON(`${this.path}/content/content.json`);H5PIntegration.pathIncludesVersion=this.pathIncludesVersion=await this.checkIfPathIncludesVersion(),this.mainLibrary=await this.findMainLibrary();const r=await this.findAllDependencies(),{styles:s,scripts:l}=this.sortDependencies(r);H5PIntegration.url=this.path,H5PIntegration.contents=H5PIntegration.contents?H5PIntegration.contents:{},H5PIntegration.core={styles:[e],scripts:[t]},H5PIntegration.contents[`cid-${this.id}`]={library:`${this.mainLibrary.machineName} ${this.mainLibrary.majorVersion}.${this.mainLibrary.minorVersion}`,jsonContent:JSON.stringify(o),styles:s,scripts:l,displayOptions:n},a.a.init()}getJSON(e){return fetch(e).then(e=>e.json())}async checkIfPathIncludesVersion(){let e,t=this.h5p.preloadedDependencies[0],n=t.machineName+"-"+t.majorVersion+"."+t.minorVersion;try{await this.getJSON(`${this.librariesPath}/${n}/library.json`),e=!0}catch(t){e=!1}return e}libraryPath(e){return e.machineName+(this.pathIncludesVersion?"-"+e.majorVersion+"."+e.minorVersion:"")}findMainLibrary(){const e=this.h5p.preloadedDependencies.find(e=>e.machineName===this.h5p.mainLibrary);return this.mainLibraryPath=this.h5p.mainLibrary+(this.pathIncludesVersion?"-"+e.majorVersion+"."+e.minorVersion:""),this.getJSON(`${this.librariesPath}/${this.mainLibraryPath}/library.json`)}findAllDependencies(){const e=this.h5p.preloadedDependencies.map(e=>this.libraryPath(e));return this.loadDependencies(e,[])}async loadDependencies(e,t){let n=t,i=[],o=await Promise.all(e.map(e=>this.findLibraryDependencies(e)));return o.forEach(e=>{n.push(e),e.dependencies.forEach(e=>{n.find(t=>t.libraryPath===e)||o.find(t=>t.libraryPath===e)||i.push(e)})}),i.length>0?this.loadDependencies(i,n):n}async findLibraryDependencies(e){const t=await this.getJSON(`${this.librariesPath}/${e}/library.json`),n=this.libraryPath(t);let i=[];return t.preloadedDependencies&&(i=t.preloadedDependencies.map(e=>this.libraryPath(e))),{libraryPath:n,dependencies:i,preloadedCss:t.preloadedCss,preloadedJs:t.preloadedJs}}sortDependencies(e){const t=new o.a;let n={},i={};e.forEach(e=>{t.add(e.libraryPath,e.dependencies),e.preloadedCss&&(n[e.libraryPath]=n[e.libraryPath]?n[e.libraryPath]:[],e.preloadedCss.forEach(t=>{n[e.libraryPath].push(`${this.librariesPath}/${e.libraryPath}/${t.path}`)})),e.preloadedJs&&(i[e.libraryPath]=i[e.libraryPath]?i[e.libraryPath]:[],e.preloadedJs.forEach(t=>{i[e.libraryPath].push(`${this.librariesPath}/${e.libraryPath}/${t.path}`)}))});let r=[],a=[];return t.sort().reverse().forEach((function(e){Array.prototype.push.apply(r,n[e]),Array.prototype.push.apply(a,i[e])})),this.mainLibrary.preloadedCss&&Array.prototype.push.apply(r,this.mainLibrary.preloadedCss.map(e=>`${this.librariesPath}/${this.mainLibraryPath}/${e.path}`)),this.mainLibrary.preloadedJs&&Array.prototype.push.apply(a,this.mainLibrary.preloadedJs.map(e=>`${this.librariesPath}/${this.mainLibraryPath}/${e.path}`)),{styles:r,scripts:a}}}},function(e,t){const n={l10n:{H5P:{fullscreen:"Fullscreen",disableFullscreen:"Disable fullscreen",download:"Download",copyrights:"Rights of use",embed:"Embed",size:"Size",showAdvanced:"Show advanced",hideAdvanced:"Hide advanced",advancedHelp:"Include this script on your website if you want dynamic sizing of the embedded content:",copyrightInformation:"Rights of use",close:"Close",title:"Title",author:"Author",year:"Year",source:"Source",license:"License",thumbnail:"Thumbnail",noCopyrights:"No copyright information available for this content.",reuse:"Reuse",reuseContent:"Reuse Content",reuseDescription:"Reuse this content.",downloadDescription:"Download this content as a H5P file.",copyrightsDescription:"View copyright information for this content.",embedDescription:"View the embed code for this content.",h5pDescription:"Visit H5P.org to check out more cool content.",contentChanged:"This content has changed since you last used it.",startingOver:"You'll be starting over.",by:"by",showMore:"Show more",showLess:"Show less",subLevel:"Sublevel",confirmDialogHeader:"Confirm action",confirmDialogBody:"Please confirm that you wish to proceed. This action is not reversible.",cancelLabel:"Cancel",confirmLabel:"Confirm",licenseU:"Undisclosed",licenseCCBY:"Attribution",licenseCCBYSA:"Attribution-ShareAlike",licenseCCBYND:"Attribution-NoDerivs",licenseCCBYNC:"Attribution-NonCommercial",licenseCCBYNCSA:"Attribution-NonCommercial-ShareAlike",licenseCCBYNCND:"Attribution-NonCommercial-NoDerivs",licenseCC40:"4.0 International",licenseCC30:"3.0 Unported",licenseCC25:"2.5 Generic",licenseCC20:"2.0 Generic",licenseCC10:"1.0 Generic",licenseGPL:"General Public License",licenseV3:"Version 3",licenseV2:"Version 2",licenseV1:"Version 1",licensePD:"Public Domain",licenseCC010:"CC0 1.0 Universal (CC0 1.0) Public Domain Dedication",licensePDM:"Public Domain Mark",licenseC:"Copyright",contentType:"Content Type",licenseExtras:"License Extras",changes:"Changelog",contentCopied:"Content is copied to the clipboard",connectionLost:"Connection lost. Results will be stored and sent when you regain connection.",connectionReestablished:"Connection reestablished.",resubmitScores:"Attempting to submit stored results.",offlineDialogHeader:"Your connection to the server was lost",offlineDialogBody:"We were unable to send information about your completion of this task. Please check your internet connection.",offlineDialogRetryMessage:"Retrying in :num....",offlineDialogRetryButtonLabel:"Retry now",offlineSuccessfulSubmit:"Successfully submitted results."}}};window.H5PIntegration=n},function(e,t,n){var i,o,r;o=[t,e],void 0===(r="function"==typeof(i=function(e,t){"use strict";var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.edges=[],this.Toposort=e}return e.prototype.add=function(e,t){if("string"!=typeof e||!e)throw new TypeError("Dependent name must be given as a not empty string");if((t=Array.isArray(t)?t:[t]).length>0){var n=t,i=Array.isArray(n),o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=r;if("string"!=typeof a||!a)throw new TypeError("Dependency name must be given as a not empty string");this.edges.push([e,a])}}else this.edges.push([e]);return this},e.prototype.sort=function(){var e=this,t=[],n=this.edges,i=Array.isArray(n),o=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var a=T=r,s=Array.isArray(a),l=0;for(a=s?a:a[Symbol.iterator]();;){var c;if(s){if(l>=a.length)break;c=a[l++]}else{if((l=a.next()).done)break;c=l.value}var u=c;-1===t.indexOf(u)&&t.push(u)}}for(var d=t.length,f=new Array(t.length),h=function n(i,o){if(0!==o.length&&-1!==o.indexOf(i))throw new Error("Cyclic dependency found. "+i+" is dependent of itself.\nDependency chain: "+o.join(" -> ")+" => "+i);var r=t.indexOf(i);if(-1!==r){var a=!1;t[r]=!1;var s=e.edges,l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var h=u;h[0]===i&&(a=a||o.concat([i]),n(h[1],a))}f[--d]=i}},p=0;p<t.length;p++)if(!1!==(u=t[p])){t[p]=!1;var m=this.edges,g=Array.isArray(m),E=0;for(m=g?m:m[Symbol.iterator]();;){var v,T;if(g){if(E>=m.length)break;v=m[E++]}else{if((E=m.next()).done)break;v=E.value}(T=v)[0]===u&&h(T[1],[u])}f[--d]=u}return f},e.prototype.clear=function(){return this.edges=[],this},e}();t.exports=n})?i.apply(t,o):i)||(e.exports=r)},,function(e,t){!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=20)}([function(e,t,n){"use strict";e.exports=n(23)},function(e,t,n){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=n(34)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"init",value:function(t){e.dictionary=t}},{key:"get",value:function(t,n){var i=e.dictionary[t];if(void 0===i)return"Key not found in dictionary: "+t;for(var o in n)n[o]&&(i=i.replace(o,n[o]));return i}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=i(n(0)),l=i(n(1)),c=i(n(2));n(46);var u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"createTroubleshootingURL",value:function(e){return e?"https://h5p.org/documentation/troubleshooting#"+e:void 0}},{key:"render",value:function(){var e=this,t="h5p-hub-message "+this.props.severity+(this.props.onClose?" dismissible":""),n=this.props.message;n&&!Array.isArray(n)&&(n=[n]);var i=n?n.map((function(t,n){var i=t.message||t,o=e.createTroubleshootingURL(t.code);return s.default.createElement("p",{key:n,className:"message-body"},s.default.createElement("span",{dangerouslySetInnerHTML:{__html:i}}),o&&s.default.createElement("a",{className:"get-help",target:"_blank",href:o},c.default.get("getHelp")))})):null;return s.default.createElement("div",{className:t,role:"alert"},this.props.onClose&&s.default.createElement("button",{className:"message-close",tabIndex:"0","aria-label":c.default.get("Close"),onClick:this.props.onClose}),s.default.createElement("div",{className:"message-content"},s.default.createElement("h2",null,this.props.title),i),this.props.children)}}]),t}(s.default.Component);u.propTypes={severity:l.default.oneOf(["info","warning","error"]).isRequired,title:l.default.string.isRequired,message:l.default.oneOfType([l.default.string,l.default.array]),onClose:l.default.func,children:l.default.oneOfType([l.default.object,l.default.array])},t.default=u},function(e,t,n){"use strict";function i(e){return function(){return e}}var o=function(){};o.thatReturns=i,o.thatReturnsFalse=i(!1),o.thatReturnsTrue=i(!0),o.thatReturnsNull=i(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(6);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.default=function(e,t){return fetch(e,{method:void 0===t?"GET":"POST",credentials:"include",body:t}).then((function(e){return e.json().catch((function(){throw{title:e.statusText+" ("+e.status+")",message:[i.default.get("unableToInterpretError"),i.default.get("unableToInterpretSolution")]}}))})).then((function(e){if(!1===e.success)throw{title:e.message,message:e.details};return e}))}},function(e,t,n){"use strict";(function(e){!function(t){function n(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function a(t){if(t.bodyUsed)return e.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new e((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function l(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&E(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!v(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return e.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return e.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||e.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return function(e){var t=new FileReader,n=s(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return e.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e,t){var n=(t=t||{}).body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=function(e){var t=e.toUpperCase();return T.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}})),t}function h(e){var t=new r;return e.replace(/\r?\n[\t ]+/," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();t.append(i,o)}})),t}function p(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=function(e){return e&&DataView.prototype.isPrototypeOf(e)},v=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,t){e=n(e),t=i(t);var o=this.map[e];this.map[e]=o?o+","+t:t},r.prototype.delete=function(e){delete this.map[n(e)]},r.prototype.get=function(e){return e=n(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(n(e))},r.prototype.set=function(e,t){this.map[n(e)]=i(t)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),o(e)},r.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),o(e)},r.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),o(e)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},u.call(d.prototype),u.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];p.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},t.Headers=r,t.Request=d,t.Response=p,t.fetch=function(t,n){return new e((function(e,i){var o=new d(t,n),r=new XMLHttpRequest;r.onload=function(){var t={status:r.status,statusText:r.statusText,headers:h(r.getAllResponseHeaders()||"")};t.url="responseURL"in r?r.responseURL:t.headers.get("X-Request-URL");var n="response"in r?r.response:r.responseText;e(new p(n,t))},r.onerror=function(){i(new TypeError("Network request failed"))},r.ontimeout=function(){i(new TypeError("Network request failed"))},r.open(o.method,o.url,!0),"include"===o.credentials&&(r.withCredentials=!0),"responseType"in r&&m.blob&&(r.responseType="blob"),o.headers.forEach((function(e,t){r.setRequestHeader(t,e)})),r.send(void 0===o._bodyInit?null:o._bodyInit)}))},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0)}).call(t,n(37))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(1)),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cloneChild=function(e){return e?r.default.cloneElement(e,e.props.id?{className:(e.props.className?e.props.className+" ":"")+(n.state.selected?e.props.id===n.state.selected?"hightlight":"":n.count?"":"highlight"),tabIndex:n.state.focused?e.props.id===n.state.focused?0:-1:n.count++?-1:0,role:-1!==["a","button"].indexOf(e.type)?void 0:e.props.role||"button",onClick:function(t){return n.handleClick(t,e.props.id)},onKeyDown:function(t){return n.handleKeyDown(t,e.props.id)},ref:function(e){return e?n.items.push(e):void 0}}:void 0,!e.props.id&&e.props.children?r.default.Children.map(e.props.children,n.cloneChild):e.props.children):null},n.state={selected:e.selected,focused:e.selected},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({selected:e.selected,focused:e.selected}),e.setFocus!==this.props.setFocus&&this.setState({focusOnRender:!0})}},{key:"select",value:function(e){this.props.onChange(e),this.setState({selected:e})}},{key:"focus",value:function(e,t){e&&(this.setState({focused:e,focusOnRender:!t}),this.props.onFocus&&this.props.onFocus(e))}},{key:"getSiblingIdFor",value:function(e,t){for(var n=0;n<this.items.length;n++)if(e===this.items[n].id){var i=this.items[n+t];if(i)return i.id}}},{key:"handleClick",value:function(e,t){e.defaultPrevented||(this.select(t),"A"===e.target.tagName&&e.preventDefault())}},{key:"handleKeyDown",value:function(e,t){if(!e.defaultPrevented)switch(e.which){case 37:case 38:this.focus(this.getSiblingIdFor(t,-1)),e.preventDefault();break;case 39:case 40:this.focus(this.getSiblingIdFor(t,1)),e.preventDefault();break;case 32:case 13:this.select(t),e.preventDefault()}}},{key:"componentDidUpdate",value:function(){if(this.state.focusOnRender)if(delete this.state.focusOnRender,this.state.focused)for(var e=0;e<this.items.length;e++)this.state.focused===this.items[e].id&&this.items[e].focus();else this.items[0]&&this.items[0].focus()}},{key:"render",value:function(){return this.items=[],this.count=0,r.default.Children.map(this.props.children,this.cloneChild)}}]),t}(r.default.Component);s.propTypes={selected:a.default.string,setFocus:a.default.bool,onChange:a.default.func.isRequired,onFocus:a.default.func,onScrollIntoView:a.default.func},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonEmptyString=function(e,t,n){if(void 0===e[t]||0===e[t].length)return new Error("Non empty string for prop "+t+" in "+n)},t.stopPropagation=function(e){return e.stopPropagation()},t.onSpaceOrEnterEvent=function(e,t){-1!==[32,13].indexOf(e.which)&&(e.preventDefault(),t())}},function(e,t,n){"use strict";function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(o({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,l=i(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))a.call(n,u)&&(l[u]=n[u]);if(r){o=r(n);for(var d=0;d<o.length;d++)s.call(n,o[d])&&(l[o[d]]=n[o[d]])}}return l}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}})(),e.exports=n(24)},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgMjI1Ij4NCiAgPGRlZnM+DQogICAgPHN0eWxlPg0KICAgICAgLmNscy0xIHsNCiAgICAgIGZpbGw6IG5vbmU7DQogICAgICB9DQoNCiAgICAgIC5jbHMtMiB7DQogICAgICBmaWxsOiAjYzZjNmM3Ow0KICAgICAgfQ0KDQogICAgICAuY2xzLTMsIC5jbHMtNCB7DQogICAgICBmaWxsOiAjZmZmOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTMgew0KICAgICAgb3BhY2l0eTogMC43Ow0KICAgICAgfQ0KICAgIDwvc3R5bGU+DQogIDwvZGVmcz4NCiAgPHRpdGxlPmNvbnRlbnQgdHlwZSBwbGFjZWhvbGRlcl8yPC90aXRsZT4NCiAgPGcgaWQ9IkxheWVyXzIiIGRhdGEtbmFtZT0iTGF5ZXIgMiI+DQogICAgPGcgaWQ9ImNvbnRlbnRfdHlwZV9wbGFjZWhvbGRlci0xX2NvcHkiIGRhdGEtbmFtZT0iY29udGVudCB0eXBlIHBsYWNlaG9sZGVyLTEgY29weSI+DQogICAgICA8cmVjdCBjbGFzcz0iY2xzLTEiIHdpZHRoPSI0MDAiIGhlaWdodD0iMjI1Ii8+DQogICAgICA8cmVjdCBjbGFzcz0iY2xzLTIiIHg9IjExMi41MSIgeT0iNDMuNDEiIHdpZHRoPSIxNzYuOTYiIGhlaWdodD0iMTM1LjQ1IiByeD0iMTAiIHJ5PSIxMCIvPg0KICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSIxMzYuNjYiIGN5PSI2MS45OCIgcj0iNC44MSIvPg0KICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSIxNTEuNDkiIGN5PSI2MS45OCIgcj0iNC44MSIvPg0KICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSIxNjYuMSIgY3k9IjYxLjk4IiByPSI0LjgxIi8+DQogICAgICA8ZyBpZD0iX0dyb3VwXyIgZGF0YS1uYW1lPSImbHQ7R3JvdXAmZ3Q7Ij4NCiAgICAgICAgPGcgaWQ9Il9Hcm91cF8yIiBkYXRhLW5hbWU9IiZsdDtHcm91cCZndDsiPg0KICAgICAgICAgIDxwYXRoIGlkPSJfQ29tcG91bmRfUGF0aF8iIGRhdGEtbmFtZT0iJmx0O0NvbXBvdW5kIFBhdGgmZ3Q7IiBjbGFzcz0iY2xzLTQiIGQ9Ik0yNjMuMjgsOTUuMjFDMjYwLDkyLjA3LDI1NSw5MS41LDI0OC40Myw5MS41SDIyN3Y4SDE5OS41bC0yLjE3LDEwLjI0YTI1Ljg0LDI1Ljg0LDAsMCwxLDExLjQ4LTEuNjMsMTkuOTMsMTkuOTMsMCwwLDEsMTQuMzksNS41NywxOC4yNiwxOC4yNiwwLDAsMSw1LjUyLDEzLjYsMjMuMTEsMjMuMTEsMCwwLDEtMi44NCwxMS4wNSwxOC42NSwxOC42NSwwLDAsMS04LjA2LDcuNzksOSw5LDAsMCwxLTQuMTIsMS4zN0gyMzZ2LTIxaDEwLjQyYzcuMzYsMCwxMi44My0xLjYxLDE2LjQyLTVzNS4zOC03LjQ4LDUuMzgtMTMuNDRDMjY4LjIyLDEwMi4yOSwyNjYuNTcsOTguMzUsMjYzLjI4LDk1LjIxWm0tMTUsMTdjLTEuNDIsMS4yMi0zLjksMS4yNS03LjQxLDEuMjVIMjM2di0xNGg1LjYyYTkuNTcsOS41NywwLDAsMSw3LDIuOTMsNy4wNSw3LjA1LDAsMCwxLDEuODUsNC45MkE2LjMzLDYuMzMsMCwwLDEsMjQ4LjMxLDExMi4yNVoiLz4NCiAgICAgICAgICA8cGF0aCBpZD0iX1BhdGhfIiBkYXRhLW5hbWU9IiZsdDtQYXRoJmd0OyIgY2xhc3M9ImNscy00IiBkPSJNMjAyLjksMTE5LjExYTguMTIsOC4xMiwwLDAsMC03LjI4LDQuNTJsLTE2LTEuMjIsNy4yMi0zMC45MkgxNzR2MjJIMTUzdi0yMkgxMzZ2NTZoMTd2LTIxaDIxdjIxaDIwLjMxYy0yLjcyLDAtNS0xLjUzLTctM2ExOS4xOSwxOS4xOSwwLDAsMS00LjczLTQuODMsMjMuNTgsMjMuNTgsMCwwLDEtMy02LjZsMTYtMi4yNmE4LjExLDguMTEsMCwxLDAsNy4yNi0xMS43MloiLz4NCiAgICAgICAgPC9nPg0KICAgICAgPC9nPg0KICAgICAgPHJlY3QgY2xhc3M9ImNscy0zIiB4PSIxNzcuNjYiIHk9IjU3LjY2IiB3aWR0aD0iOTIuMjgiIGhlaWdodD0iOS4zOCIgcng9IjMuNSIgcnk9IjMuNSIvPg0KICAgIDwvZz4NCiAgPC9nPg0KPC9zdmc+DQo="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.major>e.h5pMajorVersion||t.major===e.h5pMajorVersion&&t.minor>=e.h5pMinorVersion;return!e.isUpToDate&&e.installed&&e.canInstall&&n}},function(e,t,n){"use strict";function i(e){return e.offsetWidth<=0&&e.offsetHeight<=0||"none"===e.style.display}function o(e,t){var n=e.nodeName.toLowerCase();return(a.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}(e)}function r(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(r)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var a=/input|select|textarea|button|object/;e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function o(e){var t=e;if("string"==typeof t){var n=document.querySelectorAll(t);i(n,t),t="length"in n?n[0]:n}return s=t||s}function r(){return!(!document||!document.body||(o(document.body),0))}function a(e){if(!e&&!s&&!r())throw new Error(["react-modal: Cannot fallback to `document.body`, because it is not","ready or available. If you are doing server-side rendering, use this","function to defined an element. `Modal.setAppElement(el)` to make","this accessible"].join(" "))}Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=i,t.setElement=o,t.tryForceFallback=r,t.validateElement=a,t.hide=function(e){a(e),(e||s).setAttribute("aria-hidden","true")},t.show=function(e){a(e),(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=document.body};var s=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(){return i},t.add=function(e){return i[e]||(i[e]=0),i[e]+=1,e},t.remove=function(e){return i[e]&&(i[e]-=1),e},t.totalCount=function(){return Object.keys(i).reduce((function(e,t){return e+i[t]}),0)};var i={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(63)).default,o=i.canUseDOM?window.HTMLElement:{};t.canUseDOM=i.canUseDOM,t.default=o},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=i(n(0)),c=i(n(1)),u=n(8),d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.type||"div";return l.default.createElement(t,a({},this.props.buttonProps,{role:"button",tabIndex:"0",onClick:function(){return e.props.onButtonClick()},onKeyPress:function(t){return(0,u.onSpaceOrEnterEvent)(t,e.props.onButtonClick)}}),this.props.children)}}]),t}(l.default.Component);d.propTypes={onButtonClick:c.default.func,buttonProps:c.default.object,type:c.default.string},t.default=d},function(e,t,n){"use strict";n(21),H5P=H5P||{},H5P.HubClient=n(22).default},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=i(n(0)),a=i(n(11)),s=i(n(33)),l=i(n(2)),c=n(85);t.default=function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),o(this,(0,c.Eventful)());var i=this,u=document.createElement("div");l.default.init(n);var d=function(){a.default.render(r.default.createElement(s.default,{title:t.title,expanded:t.expanded,canPaste:t.canPaste,canPasteTitle:t.canPasteTitle,contentId:t.contentId,contentTypes:t.contentTypes,selected:t.selected,getAjaxUrl:t.getAjaxUrl,onResize:i.trigger.bind(i,"resize"),onUse:i.trigger.bind(i,"select"),onUpload:i.trigger.bind(i,"upload"),onUpdate:i.trigger.bind(i,"update"),onPaste:i.trigger.bind(i,"paste"),onRender:function(e,n){t.title=e,t.expanded=n}}),u)};this.setPanelTitle=function(e,n){t.title=e,t.expanded=n,d()},this.setCanPaste=function(e,n){t.canPaste=e,t.canPasteTitle=n,d()},this.getElement=function(){return u},d()}},function(e,t,n){"use strict";function i(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}function o(e,t,n){this.props=e,this.context=t,this.refs=T,this.updater=n||C}function r(e,t,n){this.props=e,this.context=t,this.refs=T,this.updater=n||C}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=T,this.updater=n||C}function l(e,t,n){var i,o={},r=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(r=""+t.key),t)D.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:R,type:e,key:r,ref:a,props:o,_owner:O.current}}function c(e){return"object"===(void 0===e?"undefined":E(e))&&null!==e&&e.$$typeof===R}function u(e,t,n,i){if(S.length){var o=S.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=i,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>S.length&&S.push(e)}function f(e,t,n,o){var r=void 0===e?"undefined":E(e);if("undefined"!==r&&"boolean"!==r||(e=null),null===e||"string"===r||"number"===r||"object"===r&&e.$$typeof===w||"object"===r&&e.$$typeof===K)return n(o,e,""===t?"."+h(e,0):t),1;var a=0;if(t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=t+h(r=e[s],s);a+=f(r,l,n,o)}else if("function"==typeof(l=k&&e[k]||e["@@iterator"]))for(e=l.call(e),s=0;!(r=e.next()).done;)a+=f(r=r.value,l=t+h(r,s++),n,o);else"object"===r&&i("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return a}function h(e,t){return"object"===(void 0===e?"undefined":E(e))&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function p(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var i=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?g(e,i,n,b.thatReturnsArgument):null!=e&&(c(e)&&(t=o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(x,"$&/")+"/")+n,e={$$typeof:R,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),i.push(e))}function g(e,t,n,i,o){var r="";null!=n&&(r=(""+n).replace(x,"$&/")+"/"),t=u(t,r,i,o),null==e||f(e,"",m,t),d(t)}
/** @license React v16.1.1
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=n(9),T=n(10),b=n(4),C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};o.prototype.isReactComponent={},o.prototype.setState=function(e,t){"object"!==(void 0===e?"undefined":E(e))&&"function"!=typeof e&&null!=e&&i("85"),this.updater.enqueueSetState(this,e,t,"setState")},o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=o.prototype;var y=r.prototype=new a;y.constructor=r,v(y,o.prototype),y.isPureReactComponent=!0;var I=s.prototype=new a;I.constructor=s,v(I,o.prototype),I.unstable_isAsyncReactComponent=!0,I.render=function(){return this.props.children};var O={current:null},D=Object.prototype.hasOwnProperty,R="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,_={key:!0,ref:!0,__self:!0,__source:!0},k="function"==typeof Symbol&&Symbol.iterator,w="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,K="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,x=/\/+/g,S=[];"function"==typeof Symbol&&Symbol.for&&Symbol.for("react.fragment");var N={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return g(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;t=u(null,null,t,n),null==e||f(e,"",p,t),d(t)},count:function(e){return null==e?0:f(e,"",b.thatReturnsNull,null)},toArray:function(e){var t=[];return g(e,t,null,b.thatReturnsArgument),t},only:function(e){return c(e)||i("143"),e}},Component:o,PureComponent:r,unstable_AsyncComponent:s,createElement:l,cloneElement:function(e,t,n){var i=v({},e.props),o=e.key,r=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,a=O.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)D.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:R,type:e.type,key:o,ref:r,props:i,_owner:a}},createFactory:function(e){var t=l.bind(null,e);return t.type=e,t},isValidElement:c,version:"16.1.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:O,assign:v}},P=Object.freeze({default:N}),A=P&&N||P;e.exports=A.default?A.default:A},function(e,t,n){"use strict";function i(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}function o(e,t){return(e&t)===t}function r(e,t){if(mn.hasOwnProperty(e)||2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))return!1;if(null===t)return!0;switch(void 0===t?"undefined":on(t)){case"boolean":return mn.hasOwnProperty(e)?e=!0:(t=a(e))?e=t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:e="data-"===(e=e.toLowerCase().slice(0,5))||"aria-"===e,e;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function a(e){return En.hasOwnProperty(e)?En[e]:null}function s(e){return e[1].toUpperCase()}function l(e,t,n,i,o,r,a,s,l){xn._hasCaughtError=!1,xn._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){xn._caughtError=e,xn._hasCaughtError=!0}}function c(){if(xn._hasRethrowError){var e=xn._rethrowError;throw xn._rethrowError=null,xn._hasRethrowError=!1,e}}function u(){if(Sn)for(var e in Nn){var t=Nn[e],n=Sn.indexOf(e);if(-1<n||i("96",e),!Pn[n])for(var o in t.extractEvents||i("97",e),Pn[n]=t,n=t.eventTypes){var r=void 0,a=n[o],s=t,l=o;An.hasOwnProperty(l)&&i("99",l),An[l]=a;var c=a.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&d(c[r],s,l);r=!0}else a.registrationName?(d(a.registrationName,s,l),r=!0):r=!1;r||i("98",o,e)}}}function d(e,t,n){Ln[e]&&i("100",e),Ln[e]=t,Fn[e]=t.eventTypes[n].dependencies}function f(e){Sn&&i("101"),Sn=Array.prototype.slice.call(e),u()}function h(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var o=e[t];Nn.hasOwnProperty(t)&&Nn[t]===o||(Nn[t]&&i("102",t),Nn[t]=o,n=!0)}n&&u()}function p(e,t,n,i){t=e.type||"unknown-event",e.currentTarget=Hn(i),xn.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function m(e,t){return null==t&&i("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function g(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function E(e,t){if(e){var n=e._dispatchListeners,i=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)p(e,t,n[o],i[o]);else n&&p(e,t,n,i);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function v(e){return E(e,!0)}function T(e){return E(e,!1)}function b(e,t){var n=e.stateNode;if(!n)return null;var o=Mn(n);if(!o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&i("231",t,void 0===n?"undefined":on(n)),n)}function C(e,t,n,i){for(var o,r=0;r<Pn.length;r++){var a=Pn[r];a&&(a=a.extractEvents(e,t,n,i))&&(o=m(o,a))}return o}function y(e){e&&(jn=m(jn,e))}function I(e){var t=jn;jn=null,g(t,e?v:T),jn&&i("95"),xn.rethrowCaughtError()}function O(e){if(e[Vn])return e[Vn];for(var t=[];!e[Vn];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n=void 0,i=e[Vn];if(5===i.tag||6===i.tag)return i;for(;e&&(i=e[Vn]);e=t.pop())n=i;return n}function D(e){if(5===e.tag||6===e.tag)return e.stateNode;i("33")}function R(e){return e[Wn]||null}function _(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function k(e,t,n){for(var i=[];e;)i.push(e),e=_(e);for(e=i.length;0<e--;)t(i[e],"captured",n);for(e=0;e<i.length;e++)t(i[e],"bubbled",n)}function w(e,t,n){(t=b(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function K(e){e&&e.dispatchConfig.phasedRegistrationNames&&k(e._targetInst,w,e)}function x(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;k(t=t?_(t):null,w,e)}}function S(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=b(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function N(e){e&&e.dispatchConfig.registrationName&&S(e._targetInst,null,e)}function P(e){g(e,K)}function A(e,t,n,i){if(n&&i)e:{for(var o=n,r=i,a=0,s=o;s;s=_(s))a++;s=0;for(var l=r;l;l=_(l))s++;for(;0<a-s;)o=_(o),a--;for(;0<s-a;)r=_(r),s--;for(;a--;){if(o===r||o===r.alternate)break e;o=_(o),r=_(r)}o=null}else o=null;for(r=o,o=[];n&&n!==r&&(null===(a=n.alternate)||a!==r);)o.push(n),n=_(n);for(n=[];i&&i!==r&&(null===(a=i.alternate)||a!==r);)n.push(i),i=_(i);for(i=0;i<o.length;i++)S(o[i],"bubbled",e);for(e=n.length;0<e--;)S(n[e],"captured",t)}function L(){return!Yn&&an.canUseDOM&&(Yn="textContent"in document.documentElement?"textContent":"innerText"),Yn}function F(){if(Qn._fallbackText)return Qn._fallbackText;var e,t,n=Qn._startText,i=n.length,o=B(),r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===o[r-t];t++);return Qn._fallbackText=o.slice(e,1<t?1-t:void 0),Qn._fallbackText}function B(){return"value"in Qn._root?Qn._root.value:Qn._root[L()]}function M(e,t,n,i){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=i:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ln.thatReturnsTrue:ln.thatReturnsFalse,this.isPropagationStopped=ln.thatReturnsFalse,this}function $(e,t,n,i){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,i),o}return new this(e,t,n,i)}function H(e){e instanceof this||i("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function j(e){e.eventPool=[],e.getPooled=$,e.release=H}function U(e,t,n,i){return M.call(this,e,t,n,i)}function q(e,t,n,i){return M.call(this,e,t,n,i)}function z(e,t){switch(e){case"topKeyUp":return-1!==ti.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function V(e){return"object"===(void 0===(e=e.detail)?"undefined":on(e))&&"data"in e?e.data:null}function W(e){if(e=$n(e)){hi&&"function"==typeof hi.restoreControlledState||i("194");var t=Mn(e.stateNode);hi.restoreControlledState(e.stateNode,e.type,t)}}function G(e){pi?mi?mi.push(e):mi=[e]:pi=e}function X(){if(pi){var e=pi,t=mi;if(mi=pi=null,W(e),t)for(e=0;e<t.length;e++)W(t[e])}}function Y(e,t){return e(t)}function Q(e,t){if(vi)return Y(e,t);vi=!0;try{return Y(e,t)}finally{vi=!1,X()}}function J(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ti[e.type]:"textarea"===t}function Z(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ee(e,t){if(!an.canUseDOM||t&&!("addEventListener"in document))return!1;var n=(t="on"+e)in document;return n||((n=document.createElement("div")).setAttribute(t,"return;"),n="function"==typeof n[t]),!n&&ri&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function te(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ne(e){e._valueTracker||(e._valueTracker=function(e){var t=te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){i=""+e,n.set.call(this,e)}}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}(e))}function ie(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=te(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function oe(e,t,n){return(e=M.getPooled(bi.change,e,t,n)).type="change",G(n),P(e),e}function re(e){y(e),I(!1)}function ae(e){if(ie(D(e)))return e}function se(e,t){if("topChange"===e)return t}function le(){Ci&&(Ci.detachEvent("onpropertychange",ce),yi=Ci=null)}function ce(e){"value"===e.propertyName&&ae(yi)&&Q(re,e=oe(yi,e,Z(e)))}function ue(e,t,n){"topFocus"===e?(le(),yi=n,(Ci=t).attachEvent("onpropertychange",ce)):"topBlur"===e&&le()}function de(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return ae(yi)}function fe(e,t){if("topClick"===e)return ae(t)}function he(e,t){if("topInput"===e||"topChange"===e)return ae(t)}function pe(e,t,n,i){return M.call(this,e,t,n,i)}function me(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Di[e])&&!!t[e]}function ge(){return me}function Ee(e,t,n,i){return M.call(this,e,t,n,i)}function ve(e){return"string"==typeof(e=e.type)?e:"function"==typeof e?e.displayName||e.name:null}function Te(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function be(e){return!!(e=e._reactInternalFiber)&&2===Te(e)}function Ce(e){2!==Te(e)&&i("188")}function ye(e){var t=e.alternate;if(!t)return 3===(t=Te(e))&&i("188"),1===t?null:e;for(var n=e,o=t;;){var r=n.return,a=r?r.alternate:null;if(!r||!a)break;if(r.child===a.child){for(var s=r.child;s;){if(s===n)return Ce(r),e;if(s===o)return Ce(r),t;s=s.sibling}i("188")}if(n.return!==o.return)n=r,o=a;else{s=!1;for(var l=r.child;l;){if(l===n){s=!0,n=r,o=a;break}if(l===o){s=!0,o=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,o=r;break}if(l===o){s=!0,o=a,n=r;break}l=l.sibling}s||i("189")}}n.alternate!==o&&i("190")}return 3!==n.tag&&i("188"),n.stateNode.current===n?e:t}function Ie(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=O(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],xi(e.topLevelType,t,e.nativeEvent,Z(e.nativeEvent))}function Oe(e){Ki=!!e}function De(e,t,n){return n?cn.listen(n,t,_e.bind(null,e)):null}function Re(e,t,n){return n?cn.capture(n,t,_e.bind(null,e)):null}function _e(e,t){if(Ki){var n=Z(t);if(null===(n=O(n))||"number"!=typeof n.tag||2===Te(n)||(n=null),wi.length){var i=wi.pop();i.topLevelType=e,i.nativeEvent=t,i.targetInst=n,e=i}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Q(Ie,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wi.length&&wi.push(e)}}}function ke(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function we(e){if(Pi[e])return Pi[e];if(!Ni[e])return e;var t,n=Ni[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ai)return Pi[e]=n[t];return""}function Ke(e){return Object.prototype.hasOwnProperty.call(e,Mi)||(e[Mi]=Bi++,Fi[e[Mi]]={}),Fi[e[Mi]]}function xe(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Se(e,t){var n,i=xe(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=xe(i)}}function Ne(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function Pe(e,t){if(zi||null==ji||ji!==un())return null;var n=ji;return"selectionStart"in n&&Ne(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,qi&&dn(qi,n)?null:(qi=n,(e=M.getPooled(Hi.select,Ui,e,t)).type="select",e.target=ji,P(e),e)}function Ae(e,t,n,i){return M.call(this,e,t,n,i)}function Le(e,t,n,i){return M.call(this,e,t,n,i)}function Fe(e,t,n,i){return M.call(this,e,t,n,i)}function Be(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function Me(e,t,n,i){return M.call(this,e,t,n,i)}function $e(e,t,n,i){return M.call(this,e,t,n,i)}function He(e,t,n,i){return M.call(this,e,t,n,i)}function je(e,t,n,i){return M.call(this,e,t,n,i)}function Ue(e,t,n,i){return M.call(this,e,t,n,i)}function qe(e){0>Zi||(e.current=Ji[Zi],Ji[Zi]=null,Zi--)}function ze(e,t){Zi++,Ji[Zi]=e.current,e.current=t}function Ve(e){return Ge(e)?ao:oo.current}function We(e,t){var n=e.type.contextTypes;if(!n)return pn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ge(e){return 2===e.tag&&null!=e.type.childContextTypes}function Xe(e){Ge(e)&&(qe(ro),qe(oo))}function Ye(e,t,n){null!=oo.cursor&&i("168"),ze(oo,t),ze(ro,n)}function Qe(e,t){var n=e.stateNode,o=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var r in n=n.getChildContext())r in o||i("108",ve(e)||"Unknown",r);return sn({},t,n)}function Je(e){if(!Ge(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||pn,ao=oo.current,ze(oo,t),ze(ro,ro.current),!0}function Ze(e,t){var n=e.stateNode;if(n||i("169"),t){var o=Qe(e,ao);n.__reactInternalMemoizedMergedChildContext=o,qe(ro),qe(oo),ze(oo,o)}else qe(ro);ze(ro,t)}function et(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function tt(e,t,n){var i=e.alternate;return null===i?((i=new et(e.tag,e.key,e.internalContextTag)).type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.expirationTime=n,i.pendingProps=t,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function nt(e,t,n){var o=void 0,r=e.type,a=e.key;return"function"==typeof r?((o=r.prototype&&r.prototype.isReactComponent?new et(2,a,t):new et(0,a,t)).type=r,o.pendingProps=e.props):"string"==typeof r?((o=new et(5,a,t)).type=r,o.pendingProps=e.props):"object"===(void 0===r?"undefined":on(r))&&null!==r&&"number"==typeof r.tag?(o=r).pendingProps=e.props:i("130",null==r?r:void 0===r?"undefined":on(r),""),o.expirationTime=n,o}function it(e,t,n,i){return(t=new et(10,i,t)).pendingProps=e,t.expirationTime=n,t}function ot(e,t,n){return(t=new et(6,null,t)).pendingProps=e,t.expirationTime=n,t}function rt(e,t,n){return(t=new et(7,e.key,t)).type=e.handler,t.pendingProps=e,t.expirationTime=n,t}function at(e,t,n){return(e=new et(9,null,t)).expirationTime=n,e}function st(e,t,n){return(t=new et(4,e.key,t)).pendingProps=e.children||[],t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lt(e){return function(t){try{return e(t)}catch(e){}}}function ct(e){"function"==typeof so&&so(e)}function ut(e){"function"==typeof lo&&lo(e)}function dt(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function ft(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function ht(e,t){var n=e.alternate,i=e.updateQueue;null===i&&(i=e.updateQueue=dt(null)),null!==n?null===(e=n.updateQueue)&&(e=n.updateQueue=dt(null)):e=null,null===(e=e!==i?e:null)?ft(i,t):null===i.last||null===e.last?(ft(i,t),ft(e,t)):(ft(i,t),e.last=t)}function pt(e,t,n,i){return"function"==typeof(e=e.partialState)?e.call(t,n,i):e}function mt(e,t,n,i,o,r){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var a=!0,s=n.first,l=!1;null!==s;){var c=s.expirationTime;if(c>r){var u=n.expirationTime;(0===u||u>c)&&(n.expirationTime=c),l||(l=!0,n.baseState=e)}else l||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(e=pt(s,i,e,o),a=!0):(c=pt(s,i,e,o))&&(e=a?sn({},e,c):sn(e,c),a=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(null===(c=n.callbackList)&&(c=n.callbackList=[]),c.push(s));s=s.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||(t.updateQueue=null),l||(n.baseState=e),e}function gt(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var o=n[e],r=o.callback;o.callback=null,"function"!=typeof r&&i("191",r),r.call(t)}}function Et(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:co,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function vt(e){return null==e?null:"function"==typeof(e=fo&&e[fo]||e["@@iterator"])?e:null}function Tt(e,t){var n=t.ref;if(null!==n&&"function"!=typeof n){if(t._owner){t=t._owner;var o=void 0;t&&(2!==t.tag&&i("110"),o=t.stateNode),o||i("147",n);var r=""+n;return null!==e&&null!==e.ref&&e.ref._stringRef===r?e.ref:((e=function(e){var t=o.refs===pn?o.refs={}:o.refs;null===e?delete t[r]:t[r]=e})._stringRef=r,e)}"string"!=typeof n&&i("148"),t._owner||i("149",n)}return n}function bt(e,t){"textarea"!==e.type&&i("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ct(e,t){function n(n,i){if(t){if(!e){if(null===i.alternate)return;i=i.alternate}var o=n.lastEffect;null!==o?(o.nextEffect=i,n.lastEffect=i):n.firstEffect=n.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function o(e,i){if(!t)return null;for(;null!==i;)n(e,i),i=i.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(t,n,i){return e?((t=tt(t,n,i)).index=0,t.sibling=null,t):(t.expirationTime=i,t.effectTag=0,t.index=0,t.sibling=null,t.pendingProps=n,t)}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.effectTag=2,n):i:(e.effectTag=2,n):n}function l(e){return t&&null===e.alternate&&(e.effectTag=2),e}function c(e,t,n,i){return null===t||6!==t.tag?((t=ot(n,e.internalContextTag,i)).return=e,t):((t=a(t,n,i)).return=e,t)}function u(e,t,n,i){return null!==t&&t.type===n.type?((i=a(t,n.props,i)).ref=Tt(t,n),i.return=e,i):((i=nt(n,e.internalContextTag,i)).ref=Tt(t,n),i.return=e,i)}function d(e,t,n,i){return null===t||7!==t.tag?((t=rt(n,e.internalContextTag,i)).return=e,t):((t=a(t,n,i)).return=e,t)}function f(e,t,n,i){return null===t||9!==t.tag?((t=at(n,e.internalContextTag,i)).type=n.value,t.return=e,t):((t=a(t,null,i)).type=n.value,t.return=e,t)}function h(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=st(n,e.internalContextTag,i)).return=e,t):((t=a(t,n.children||[],i)).return=e,t)}function p(e,t,n,i,o){return null===t||10!==t.tag?((t=it(n,e.internalContextTag,i,o)).return=e,t):((t=a(t,n,i)).return=e,t)}function m(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ot(""+t,e.internalContextTag,n)).return=e,t;if("object"===(void 0===t?"undefined":on(t))&&null!==t){switch(t.$$typeof){case eo:return t.type===io?((t=it(t.props.children,e.internalContextTag,n,t.key)).return=e,t):((n=nt(t,e.internalContextTag,n)).ref=Tt(null,t),n.return=e,n);case to:return(t=rt(t,e.internalContextTag,n)).return=e,t;case no:return(n=at(t,e.internalContextTag,n)).type=t.value,n.return=e,n;case co:return(t=st(t,e.internalContextTag,n)).return=e,t}if(uo(t)||vt(t))return(t=it(t,e.internalContextTag,n,null)).return=e,t;bt(e,t)}return null}function g(e,t,n,i){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:c(e,t,""+n,i);if("object"===(void 0===n?"undefined":on(n))&&null!==n){switch(n.$$typeof){case eo:return n.key===o?n.type===io?p(e,t,n.props.children,i,o):u(e,t,n,i):null;case to:return n.key===o?d(e,t,n,i):null;case no:return null===o?f(e,t,n,i):null;case co:return n.key===o?h(e,t,n,i):null}if(uo(n)||vt(n))return null!==o?null:p(e,t,n,i,null);bt(e,n)}return null}function E(e,t,n,i,o){if("string"==typeof i||"number"==typeof i)return c(t,e=e.get(n)||null,""+i,o);if("object"===(void 0===i?"undefined":on(i))&&null!==i){switch(i.$$typeof){case eo:return e=e.get(null===i.key?n:i.key)||null,i.type===io?p(t,e,i.props.children,o,i.key):u(t,e,i,o);case to:return d(t,e=e.get(null===i.key?n:i.key)||null,i,o);case no:return f(t,e=e.get(n)||null,i,o);case co:return h(t,e=e.get(null===i.key?n:i.key)||null,i,o)}if(uo(i)||vt(i))return p(t,e=e.get(n)||null,i,o,null);bt(t,i)}return null}function v(e,i,a,l){for(var c=null,u=null,d=i,f=i=0,h=null;null!==d&&f<a.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=g(e,d,a[f],l);if(null===p){null===d&&(d=h);break}t&&d&&null===p.alternate&&n(e,d),i=s(p,i,f),null===u?c=p:u.sibling=p,u=p,d=h}if(f===a.length)return o(e,d),c;if(null===d){for(;f<a.length;f++)(d=m(e,a[f],l))&&(i=s(d,i,f),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(e,d);f<a.length;f++)(h=E(d,e,f,a[f],l))&&(t&&null!==h.alternate&&d.delete(null===h.key?f:h.key),i=s(h,i,f),null===u?c=h:u.sibling=h,u=h);return t&&d.forEach((function(t){return n(e,t)})),c}function T(e,a,l,c){var u=vt(l);"function"!=typeof u&&i("150"),null==(l=u.call(l))&&i("151");for(var d=u=null,f=a,h=a=0,p=null,v=l.next();null!==f&&!v.done;h++,v=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var T=g(e,f,v.value,c);if(null===T){f||(f=p);break}t&&f&&null===T.alternate&&n(e,f),a=s(T,a,h),null===d?u=T:d.sibling=T,d=T,f=p}if(v.done)return o(e,f),u;if(null===f){for(;!v.done;h++,v=l.next())null!==(v=m(e,v.value,c))&&(a=s(v,a,h),null===d?u=v:d.sibling=v,d=v);return u}for(f=r(e,f);!v.done;h++,v=l.next())null!==(v=E(f,e,h,v.value,c))&&(t&&null!==v.alternate&&f.delete(null===v.key?h:v.key),a=s(v,a,h),null===d?u=v:d.sibling=v,d=v);return t&&f.forEach((function(t){return n(e,t)})),u}return function(e,t,r,s){var c="object"===(void 0===r?"undefined":on(r))&&null!==r;if(c)switch(r.$$typeof){case eo:e:{var u=r.key;for(c=t;null!==c;){if(c.key===u){if(10===c.tag?r.type===io:c.type===r.type){o(e,c.sibling),(t=a(c,r.type===io?r.props.children:r.props,s)).ref=Tt(c,r),t.return=e,e=t;break e}o(e,c);break}n(e,c),c=c.sibling}r.type===io?((r=it(r.props.children,e.internalContextTag,s,r.key)).return=e,e=r):((s=nt(r,e.internalContextTag,s)).ref=Tt(t,r),s.return=e,e=s)}return l(e);case to:e:{for(c=r.key;null!==t;){if(t.key===c){if(7===t.tag){o(e,t.sibling),(r=a(t,r,s)).return=e,e=r;break e}o(e,t);break}n(e,t),t=t.sibling}(r=rt(r,e.internalContextTag,s)).return=e,e=r}return l(e);case no:e:{if(null!==t){if(9===t.tag){o(e,t.sibling),(t=a(t,null,s)).type=r.value,t.return=e,e=t;break e}o(e,t)}(t=at(r,e.internalContextTag,s)).type=r.value,t.return=e,e=t}return l(e);case co:e:{for(c=r.key;null!==t;){if(t.key===c){if(4===t.tag&&t.stateNode.containerInfo===r.containerInfo&&t.stateNode.implementation===r.implementation){o(e,t.sibling),(r=a(t,r.children||[],s)).return=e,e=r;break e}o(e,t);break}n(e,t),t=t.sibling}(r=st(r,e.internalContextTag,s)).return=e,e=r}return l(e)}if("string"==typeof r||"number"==typeof r)return r=""+r,null!==t&&6===t.tag?(o(e,t.sibling),r=a(t,r,s)):(o(e,t),r=ot(r,e.internalContextTag,s)),r.return=e,l(e=r);if(uo(r))return v(e,t,r,s);if(vt(r))return T(e,t,r,s);if(c&&bt(e,r),void 0===r)switch(e.tag){case 2:case 1:i("152",(r=e.type).displayName||r.name||"Component")}return o(e,t)}}function yt(e,t,n,o,r){function a(e,t,n){s(e,t,n,t.expirationTime)}function s(e,t,n,i){t.child=null===e?go(t,t.child,n,i):e.child===t.child?po(t,t.child,n,i):mo(t,t.child,n,i)}function l(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=128)}function c(e,t,n,i){if(l(e,t),!n)return i&&Ze(t,!1),d(e,t);n=t.stateNode,ki.current=t;var o=n.render();return t.effectTag|=1,a(e,t,o),t.memoizedState=n.state,t.memoizedProps=n.props,i&&Ze(t,!0),t.child}function u(e){var t=e.stateNode;t.pendingContext?Ye(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ye(0,t.context,!1),E(e,t.containerInfo)}function d(e,t){if(null!==e&&t.child!==e.child&&i("153"),null!==t.child){var n=tt(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=tt(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function f(e,t){switch(t.tag){case 3:u(t);break;case 2:Je(t);break;case 4:E(t,t.stateNode.containerInfo)}return null}var h=e.shouldSetTextContent,p=e.useSyncScheduling,m=e.shouldDeprioritizeSubtree,g=t.pushHostContext,E=t.pushHostContainer,v=n.enterHydrationState,T=n.resetHydrationState,b=n.tryToClaimNextHydratableInstance,C=(e=function(e,t,n,o){function r(e,t){t.updater=a,e.stateNode=t,t._reactInternalFiber=e}var a={isMounted:be,enqueueSetState:function(n,i,o){n=n._reactInternalFiber,o=void 0===o?null:o;var r=t(n);ht(n,{expirationTime:r,partialState:i,callback:o,isReplace:!1,isForced:!1,nextCallback:null,next:null}),e(n,r)},enqueueReplaceState:function(n,i,o){n=n._reactInternalFiber,o=void 0===o?null:o;var r=t(n);ht(n,{expirationTime:r,partialState:i,callback:o,isReplace:!0,isForced:!1,nextCallback:null,next:null}),e(n,r)},enqueueForceUpdate:function(n,i){n=n._reactInternalFiber,i=void 0===i?null:i;var o=t(n);ht(n,{expirationTime:o,partialState:null,callback:i,isReplace:!1,isForced:!0,nextCallback:null,next:null}),e(n,o)}};return{adoptClassInstance:r,constructClassInstance:function(e,t){var n=e.type,i=Ve(e),o=2===e.tag&&null!=e.type.contextTypes,a=o?We(e,i):pn;return r(e,t=new n(t,a)),o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t},mountClassInstance:function(e,t){var n=e.alternate,o=e.stateNode,r=o.state||null,s=e.pendingProps;s||i("158");var l=Ve(e);o.props=s,o.state=e.memoizedState=r,o.refs=pn,o.context=We(e,l),null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=1),"function"==typeof o.componentWillMount&&(r=o.state,o.componentWillMount(),r!==o.state&&a.enqueueReplaceState(o,o.state,null),null!==(r=e.updateQueue)&&(o.state=mt(n,e,r,o,s,t))),"function"==typeof o.componentDidMount&&(e.effectTag|=4)},updateClassInstance:function(e,t,r){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var l=t.memoizedProps,c=t.pendingProps;c||null==(c=l)&&i("159");var u=s.context,d=Ve(t);if(d=We(t,d),"function"!=typeof s.componentWillReceiveProps||l===c&&u===d||(u=s.state,s.componentWillReceiveProps(c,d),s.state!==u&&a.enqueueReplaceState(s,s.state,null)),u=t.memoizedState,r=null!==t.updateQueue?mt(e,t,t.updateQueue,s,c,r):u,!(l!==c||u!==r||ro.current||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),!1;var f=c;if(null===l||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)f=!0;else{var h=t.stateNode,p=t.type;f="function"==typeof h.shouldComponentUpdate?h.shouldComponentUpdate(f,r,d):!(p.prototype&&p.prototype.isPureReactComponent&&dn(l,f)&&dn(u,r))}return f?("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(c,r,d),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4)):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),n(t,c),o(t,r)),s.props=c,s.state=r,s.context=d,f}}}(o,r,(function(e,t){e.memoizedProps=t}),(function(e,t){e.memoizedState=t}))).adoptClassInstance,y=e.constructClassInstance,I=e.mountClassInstance,O=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n)return f(0,t);switch(t.tag){case 0:null!==e&&i("155");var o=t.type,r=t.pendingProps,s=Ve(t);return o=o(r,s=We(t,s)),t.effectTag|=1,"object"===(void 0===o?"undefined":on(o))&&null!==o&&"function"==typeof o.render?(t.tag=2,r=Je(t),C(t,o),I(t,n),t=c(e,t,!0,r)):(t.tag=1,a(e,t,o),t.memoizedProps=r,t=t.child),t;case 1:e:{if(r=t.type,n=t.pendingProps,o=t.memoizedProps,ro.current)null===n&&(n=o);else if(null===n||o===n){t=d(e,t);break e}r=r(n,o=We(t,o=Ve(t))),t.effectTag|=1,a(e,t,r),t.memoizedProps=n,t=t.child}return t;case 2:return r=Je(t),o=void 0,null===e?t.stateNode?i("153"):(y(t,t.pendingProps),I(t,n),o=!0):o=O(e,t,n),c(e,t,o,r);case 3:return u(t),null!==(r=t.updateQueue)?(o=t.memoizedState)===(r=mt(e,t,r,null,null,n))?(T(),t=d(e,t)):(o=r.element,s=t.stateNode,(null===e||null===e.child)&&s.hydrate&&v(t)?(t.effectTag|=2,t.child=go(t,t.child,o,n)):(T(),a(e,t,o)),t.memoizedState=r,t=t.child):(T(),t=d(e,t)),t;case 5:g(t),null===e&&b(t),r=t.type;var D=t.memoizedProps;return null===(o=t.pendingProps)&&null===(o=D)&&i("154"),s=null!==e?e.memoizedProps:null,ro.current||null!==o&&D!==o?(D=o.children,h(r,o)?D=null:s&&h(r,s)&&(t.effectTag|=16),l(e,t),2147483647!==n&&!p&&m(r,o)?(t.expirationTime=2147483647,t=null):(a(e,t,D),t.memoizedProps=o,t=t.child)):t=d(e,t),t;case 6:return null===e&&b(t),null===(e=t.pendingProps)&&(e=t.memoizedProps),t.memoizedProps=e,null;case 8:t.tag=7;case 7:return r=t.pendingProps,ro.current?null===r&&null===(r=e&&e.memoizedProps)&&i("154"):null!==r&&t.memoizedProps!==r||(r=t.memoizedProps),o=r.children,t.stateNode=null===e?go(t,t.stateNode,o,n):e.child===t.child?po(t,t.stateNode,o,n):mo(t,t.stateNode,o,n),t.memoizedProps=r,t.stateNode;case 9:return null;case 4:e:{if(E(t,t.stateNode.containerInfo),r=t.pendingProps,ro.current)null===r&&null==(r=e&&e.memoizedProps)&&i("154");else if(null===r||t.memoizedProps===r){t=d(e,t);break e}null===e?t.child=mo(t,t.child,r,n):a(e,t,r),t.memoizedProps=r,t=t.child}return t;case 10:e:{if(n=t.pendingProps,ro.current)null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n){t=d(e,t);break e}a(e,t,n),t.memoizedProps=n,t=t.child}return t;default:i("156")}},beginFailedWork:function(e,t,n){switch(t.tag){case 2:Je(t);break;case 3:u(t);break;default:i("157")}return t.effectTag|=64,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),0===t.expirationTime||t.expirationTime>n?f(0,t):(t.firstEffect=null,t.lastEffect=null,s(e,t,null,n),2===t.tag&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function It(e){function t(e){ie=W=!0;var t=e.stateNode;if(t.current===e&&i("177"),t.isReadyForCommit=!1,ki.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var n=e.firstEffect}else n=e;else n=e.firstEffect;for(j(),Q=n;null!==Q;){var o=!1,r=void 0;try{for(;null!==Q;){var a=Q.effectTag;if(16&a&&S(Q),128&a){var s=Q.alternate;null!==s&&B(s)}switch(-242&a){case 2:N(Q),Q.effectTag&=-3;break;case 6:N(Q),Q.effectTag&=-3,A(Q.alternate,Q);break;case 4:A(Q.alternate,Q);break;case 8:oe=!0,P(Q),oe=!1}Q=Q.nextEffect}}catch(e){o=!0,r=e}o&&(null===Q&&i("178"),l(Q,r),null!==Q&&(Q=Q.nextEffect))}for(U(),t.current=e,Q=n;null!==Q;){n=!1,o=void 0;try{for(;null!==Q;){var c=Q.effectTag;if(36&c&&L(Q.alternate,Q),128&c&&F(Q),64&c)switch(r=Q,a=void 0,null!==J&&(a=J.get(r),J.delete(r),null==a&&null!==r.alternate&&(r=r.alternate,a=J.get(r),J.delete(r))),null==a&&i("184"),r.tag){case 2:r.stateNode.componentDidCatch(a.error,{componentStack:a.componentStack});break;case 3:null===te&&(te=a.error);break;default:i("157")}var u=Q.nextEffect;Q.nextEffect=null,Q=u}}catch(e){n=!0,o=e}n&&(null===Q&&i("178"),l(Q,o),null!==Q&&(Q=Q.nextEffect))}return W=ie=!1,ct(e.stateNode),ee&&(ee.forEach(m),ee=null),null!==te&&(e=te,te=null,y(e)),0===(t=t.current.expirationTime)&&(Z=J=null),t}function n(e){for(;;){var t=x(e.alternate,e,Y),n=e.return,i=e.sibling,o=e;if(2147483647===Y||2147483647!==o.expirationTime){if(2!==o.tag&&3!==o.tag)var r=0;else r=null===(r=o.updateQueue)?0:r.expirationTime;for(var a=o.child;null!==a;)0!==a.expirationTime&&(0===r||r>a.expirationTime)&&(r=a.expirationTime),a=a.sibling;o.expirationTime=r}if(null!==t)return t;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==i)return i;if(null===n){e.stateNode.isReadyForCommit=!0;break}e=n}return null}function o(e){var t=w(e.alternate,e,Y);return null===t&&(t=n(e)),ki.current=null,t}function r(e){var t=K(e.alternate,e,Y);return null===t&&(t=n(e)),ki.current=null,t}function a(e){if(null!==J){if(!(0===Y||Y>e))if(Y<=z)for(;null!==G;)G=c(G)?r(G):o(G);else for(;null!==G&&!C();)G=c(G)?r(G):o(G)}else if(!(0===Y||Y>e))if(Y<=z)for(;null!==G;)G=o(G);else for(;null!==G&&!C();)G=o(G)}function s(e,t){if(W&&i("243"),W=!0,e.isReadyForCommit=!1,e!==X||t!==Y||null===G){for(;-1<Zi;)Ji[Zi]=null,Zi--;ao=pn,oo.current=pn,ro.current=!1,_(),Y=t,G=tt((X=e).current,null,t)}var n=!1,o=null;try{a(t)}catch(e){n=!0,o=e}for(;n;){if(ne){te=o;break}var s=G;if(null===s)ne=!0;else{var c=l(s,o);if(null===c&&i("183"),!ne){try{for(o=t,c=n=c;null!==s;){switch(s.tag){case 2:Xe(s);break;case 5:R(s);break;case 3:D(s);break;case 4:D(s)}if(s===c||s.alternate===c)break;s=s.return}G=r(n),a(o)}catch(e){n=!0,o=e;continue}break}}}return t=te,ne=W=!1,te=null,null!==t&&y(t),e.isReadyForCommit?e.current.alternate:null}function l(e,t){var n=ki.current=null,i=!1,o=!1,r=null;if(3===e.tag)n=e,u(e)&&(ne=!0);else for(var a=e.return;null!==a&&null===n;){if(2===a.tag?"function"==typeof a.stateNode.componentDidCatch&&(i=!0,r=ve(a),n=a,o=!0):3===a.tag&&(n=a),u(a)){if(oe||null!==ee&&(ee.has(a)||null!==a.alternate&&ee.has(a.alternate)))return null;n=null,o=!1}a=a.return}if(null!==n){null===Z&&(Z=new Set),Z.add(n);var s="";a=e;do{e:switch(a.tag){case 0:case 1:case 2:case 5:var l=a._debugOwner,c=a._debugSource,d=ve(a),f=null;l&&(f=ve(l)),d="\n    in "+(d||"Unknown")+((l=c)?" (at "+l.fileName.replace(/^.*[\\\/]/,"")+":"+l.lineNumber+")":f?" (created by "+f+")":"");break e;default:d=""}s+=d,a=a.return}while(a);a=s,e=ve(e),null===J&&(J=new Map),t={componentName:e,componentStack:a,error:t,errorBoundary:i?n.stateNode:null,errorBoundaryFound:i,errorBoundaryName:r,willRetry:o},J.set(n,t);try{console.error(t.error)}catch(e){console.error(e)}return ie?(null===ee&&(ee=new Set),ee.add(n)):m(n),n}return null===te&&(te=t),null}function c(e){return null!==J&&(J.has(e)||null!==e.alternate&&J.has(e.alternate))}function u(e){return null!==Z&&(Z.has(e)||null!==e.alternate&&Z.has(e.alternate))}function d(){return 20*(1+((g()+100)/20|0))}function f(e){return 0!==V?V:W?ie?1:Y:!H||1&e.internalContextTag?d():1}function h(e,t){return p(e,t)}function p(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!W&&n===X&&t<=Y&&(G=X=null,Y=0);var o=t;if(Te>Ee&&i("185"),null===n.nextScheduledRoot)n.remainingExpirationTime=o,null===ae?(re=ae=n,n.nextScheduledRoot=n):(ae=ae.nextScheduledRoot=n).nextScheduledRoot=re;else{var r=n.remainingExpirationTime;(0===r||o<r)&&(n.remainingExpirationTime=o)}le||(me?ge&&b(n,1):1===o?T(1,null):se||(se=!0,$(v)))}e=e.return}}function m(e){p(e,1)}function g(){return z=2+((M()-q)/10|0)}function E(){var e=0,t=null;if(null!==ae)for(var n=ae,o=re;null!==o;){var r=o.remainingExpirationTime;if(0===r){if((null===n||null===ae)&&i("244"),o===o.nextScheduledRoot){re=ae=o.nextScheduledRoot=null;break}if(o===re)re=r=o.nextScheduledRoot,ae.nextScheduledRoot=r,o.nextScheduledRoot=null;else{if(o===ae){(ae=n).nextScheduledRoot=re,o.nextScheduledRoot=null;break}n.nextScheduledRoot=o.nextScheduledRoot,o.nextScheduledRoot=null}o=n.nextScheduledRoot}else{if((0===e||r<e)&&(e=r,t=o),o===ae)break;n=o,o=o.nextScheduledRoot}}null!==(n=ce)&&n===t?Te++:Te=0,ce=t,ue=e}function v(e){T(0,e)}function T(e,t){for(pe=t,E();null!==ce&&0!==ue&&(0===e||ue<=e)&&!de;)b(ce,ue),E();if(null!==pe&&(se=!1),null===ce||se||(se=!0,$(v)),pe=null,de=!1,Te=0,fe)throw e=he,he=null,fe=!1,e}function b(e,n){if(le&&i("245"),le=!0,n<=g()){var o=e.finishedWork;null!==o?(e.finishedWork=null,e.remainingExpirationTime=t(o)):(e.finishedWork=null,null!==(o=s(e,n))&&(e.remainingExpirationTime=t(o)))}else null!==(o=e.finishedWork)?(e.finishedWork=null,e.remainingExpirationTime=t(o)):(e.finishedWork=null,null!==(o=s(e,n))&&(C()?e.finishedWork=o:e.remainingExpirationTime=t(o)));le=!1}function C(){return!(null===pe||pe.timeRemaining()>be)&&(de=!0)}function y(e){null===ce&&i("246"),ce.remainingExpirationTime=0,fe||(fe=!0,he=e)}var I=function(e){function t(e){return e===Eo&&i("174"),e}var n=e.getChildHostContext,o=e.getRootHostContext,r={current:Eo},a={current:Eo},s={current:Eo};return{getHostContext:function(){return t(r.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){qe(r),qe(a),qe(s)},popHostContext:function(e){a.current===e&&(qe(r),qe(a))},pushHostContainer:function(e,t){ze(s,t),t=o(t),ze(a,e),ze(r,t)},pushHostContext:function(e){var i=t(s.current),o=t(r.current);o!==(i=n(o,e.type,i))&&(ze(a,e),ze(r,i))},resetHostContainer:function(){r.current=Eo,s.current=Eo}}}(e),O=function(e){function t(e,t){var n=new et(5,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=a(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=s(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function o(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;f=e}var r=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){i("175")},prepareToHydrateHostTextInstance:function(){i("176")},popHydrationState:function(){return!1}};var a=e.canHydrateInstance,s=e.canHydrateTextInstance,l=e.getNextHydratableSibling,c=e.getFirstHydratableChild,u=e.hydrateInstance,d=e.hydrateTextInstance,f=null,h=null,p=!1;return{enterHydrationState:function(e){return h=c(e.stateNode.containerInfo),f=e,p=!0},resetHydrationState:function(){h=f=null,p=!1},tryToClaimNextHydratableInstance:function(e){if(p){var i=h;if(i){if(!n(e,i)){if(!(i=l(i))||!n(e,i))return e.effectTag|=2,p=!1,void(f=e);t(f,h)}f=e,h=c(i)}else e.effectTag|=2,p=!1,f=e}},prepareToHydrateHostInstance:function(e,t,n){return t=u(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return d(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==f)return!1;if(!p)return o(e),p=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!r(n,e.memoizedProps))for(n=h;n;)t(e,n),n=l(n);return o(e),h=f?l(e.stateNode):null,!0}}}(e),D=I.popHostContainer,R=I.popHostContext,_=I.resetHostContainer,k=yt(e,I,O,h,f),w=k.beginWork,K=k.beginFailedWork,x=function(e,t,n){function o(e){e.effectTag|=4}var r=e.createInstance,a=e.createTextInstance,s=e.appendInitialChild,l=e.finalizeInitialChildren,c=e.prepareUpdate,u=e.persistence,d=t.getRootHostContainer,f=t.popHostContext,h=t.getHostContext,p=t.popHostContainer,m=n.prepareToHydrateHostInstance,g=n.prepareToHydrateHostTextInstance,E=n.popHydrationState,v=void 0,T=void 0,b=void 0;return e.mutation?(v=function(){},T=function(e,t,n){(t.updateQueue=n)&&o(t)},b=function(e,t,n,i){n!==i&&o(t)}):i(u?"235":"236"),{completeWork:function(e,t,n){var u=t.pendingProps;switch(null===u?u=t.memoizedProps:2147483647===t.expirationTime&&2147483647!==n||(t.pendingProps=null),t.tag){case 1:return null;case 2:return Xe(t),null;case 3:return p(t),qe(ro),qe(oo),(u=t.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==e&&null!==e.child||(E(t),t.effectTag&=-3),v(t),null;case 5:f(t),n=d();var C=t.type;if(null!==e&&null!=t.stateNode){var y=e.memoizedProps,I=t.stateNode,O=h();I=c(I,C,y,u,n,O),T(e,t,I,C,y,u,n),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!u)return null===t.stateNode&&i("166"),null;if(e=h(),E(t))m(t,n,e)&&o(t);else{e=r(C,u,n,e,t);e:for(y=t.child;null!==y;){if(5===y.tag||6===y.tag)s(e,y.stateNode);else if(4!==y.tag&&null!==y.child){y.child.return=y,y=y.child;continue}if(y===t)break;for(;null===y.sibling;){if(null===y.return||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l(e,C,u,n)&&o(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)b(e,t,e.memoizedProps,u);else{if("string"!=typeof u)return null===t.stateNode&&i("166"),null;e=d(),n=h(),E(t)?g(t)&&o(t):t.stateNode=a(u,e,n,t)}return null;case 7:(u=t.memoizedProps)||i("165"),t.tag=8,C=[];e:for((y=t.stateNode)&&(y.return=t);null!==y;){if(5===y.tag||6===y.tag||4===y.tag)i("247");else if(9===y.tag)C.push(y.type);else if(null!==y.child){y.child.return=y,y=y.child;continue}for(;null===y.sibling;){if(null===y.return||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}return u=(y=u.handler)(u.props,C),t.child=po(t,null!==e?e.child:null,u,n),t.child;case 8:return t.tag=7,null;case 9:case 10:return null;case 4:return p(t),v(t),null;case 0:i("167");default:i("156")}}}}(e,I,O).completeWork,S=(I=function(e,t){function n(e){var n=e.ref;if(null!==n)try{n(null)}catch(n){t(e,n)}}function o(e){switch(ut(e),e.tag){case 2:n(e);var i=e.stateNode;if("function"==typeof i.componentWillUnmount)try{i.props=e.memoizedProps,i.state=e.memoizedState,i.componentWillUnmount()}catch(n){t(e,n)}break;case 5:n(e);break;case 7:r(e.stateNode);break;case 4:c&&s(e)}}function r(e){for(var t=e;;)if(o(t),null===t.child||c&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function a(e){return 5===e.tag||3===e.tag||4===e.tag}function s(e){for(var t=e,n=!1,a=void 0,s=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&i("160"),n.tag){case 5:a=n.stateNode,s=!1;break e;case 3:case 4:a=n.stateNode.containerInfo,s=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)r(t),s?T(a,t.stateNode):v(a,t.stateNode);else if(4===t.tag?a=t.stateNode.containerInfo:o(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var l=e.getPublicInstance,c=e.mutation;e=e.persistence,c||i(e?"235":"236");var u=c.commitMount,d=c.commitUpdate,f=c.resetTextContent,h=c.commitTextUpdate,p=c.appendChild,m=c.appendChildToContainer,g=c.insertBefore,E=c.insertInContainerBefore,v=c.removeChild,T=c.removeChildFromContainer;return{commitResetTextContent:function(e){f(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(a(t)){var n=t;break e}t=t.return}i("160"),n=void 0}var o=t=void 0;switch(n.tag){case 5:t=n.stateNode,o=!1;break;case 3:case 4:t=n.stateNode.containerInfo,o=!0;break;default:i("161")}16&n.effectTag&&(f(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||a(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){if(5===r.tag||6===r.tag)n?o?E(t,r.stateNode,n):g(t,r.stateNode,n):o?m(t,r.stateNode):p(t,r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},commitDeletion:function(e){s(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var o=t.memoizedProps;e=null!==e?e.memoizedProps:o;var r=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&d(n,a,r,e,o,t)}break;case 6:null===t.stateNode&&i("162"),n=t.memoizedProps,h(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:i("163")}},commitLifeCycles:function(e,t){switch(t.tag){case 2:var n=t.stateNode;if(4&t.effectTag)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var o=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(o,e)}null!==(t=t.updateQueue)&&gt(t,n);break;case 3:null!==(n=t.updateQueue)&&gt(n,null!==t.child?t.child.stateNode:null);break;case 5:n=t.stateNode,null===e&&4&t.effectTag&&u(n,t.type,t.memoizedProps,t);break;case 6:case 4:break;default:i("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:t(l(n));break;default:t(n)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}(e,l)).commitResetTextContent,N=I.commitPlacement,P=I.commitDeletion,A=I.commitWork,L=I.commitLifeCycles,F=I.commitAttachRef,B=I.commitDetachRef,M=e.now,$=e.scheduleDeferredCallback,H=e.useSyncScheduling,j=e.prepareForCommit,U=e.resetAfterCommit,q=M(),z=2,V=0,W=!1,G=null,X=null,Y=0,Q=null,J=null,Z=null,ee=null,te=null,ne=!1,ie=!1,oe=!1,re=null,ae=null,se=!1,le=!1,ce=null,ue=0,de=!1,fe=!1,he=null,pe=null,me=!1,ge=!1,Ee=1e3,Te=0,be=1;return{computeAsyncExpiration:d,computeExpirationForFiber:f,scheduleWork:h,batchedUpdates:function(e,t){var n=me;me=!0;try{return e(t)}finally{(me=n)||le||T(1,null)}},unbatchedUpdates:function(e){if(me&&!ge){ge=!0;try{return e()}finally{ge=!1}}return e()},flushSync:function(e){var t=me;me=!0;try{e:{var n=V;V=1;try{var o=e();break e}finally{V=n}o=void 0}return o}finally{me=t,le&&i("187"),T(1,null)}},deferredUpdates:function(e){var t=V;V=d();try{return e()}finally{V=t}}}}function Ot(e){function t(e){return null===(e=function(e){if(!(e=ye(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode}var n=e.getPublicInstance,o=(e=It(e)).computeAsyncExpiration,r=e.computeExpirationForFiber,a=e.scheduleWork;return{createContainer:function(e,t){var n=new et(3,null,0);return e={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null},n.stateNode=e},updateContainer:function(e,t,n,s){var l=t.current;if(n){var c;e:{for(2===Te(n=n._reactInternalFiber)&&2===n.tag||i("170"),c=n;3!==c.tag;){if(Ge(c)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}(c=c.return)||i("171")}c=c.stateNode.context}n=Ge(n)?Qe(n,c):c}else n=pn;null===t.context?t.context=n:t.pendingContext=n,t=void 0===(t=s)?null:t,ht(l,{expirationTime:s=null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent?o():r(l),partialState:{element:e},callback:t,isReplace:!1,isForced:!1,nextCallback:null,next:null}),a(l,s)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return n(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:t,findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=ye(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},injectIntoDevTools:function(e){var n=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);so=lt((function(e){return t.onCommitFiberRoot(n,e)})),lo=lt((function(e){return t.onCommitFiberUnmount(n,e)}))}catch(e){}return!0}(sn({},e,{findHostInstanceByFiber:function(e){return t(e)},findFiberByHostInstance:function(e){return n?n(e):null}}))}}}function Dt(e,t,n){var i=a(t);if(i&&r(t,n)){var o=i.mutationMethod;o?o(e,n):null==n||i.hasBooleanValue&&!n||i.hasNumericValue&&isNaN(n)||i.hasPositiveNumericValue&&1>n||i.hasOverloadedBooleanValue&&!1===n?_t(e,t):i.mustUseProperty?e[i.propertyName]=n:(t=i.attributeName,(o=i.attributeNamespace)?e.setAttributeNS(o,t,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===n?e.setAttribute(t,""):e.setAttribute(t,""+n))}else Rt(e,t,r(t,n)?n:null)}function Rt(e,t,n){(function(e){return!!Po.hasOwnProperty(e)||!No.hasOwnProperty(e)&&(So.test(e)?Po[e]=!0:(No[e]=!0,!1))})(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))}function _t(e,t){var n=a(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&"":e.removeAttribute(n.attributeName):e.removeAttribute(t)}function kt(e,t){var n=t.value,i=t.checked;return sn({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=i?i:e._wrapperState.initialChecked})}function wt(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Kt(e,t){var n=t.checked;null!=n&&Dt(e,"checked",n||!1),null!=(n=t.value)?0===n&&""===e.value?e.value="0":"number"===t.type?(n!=(t=parseFloat(e.value)||0)||n==t&&e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))}function xt(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function St(e,t){return e=sn({children:void 0},t),(t=function(e){var t="";return rn.Children.forEach(e,(function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)})),t}(t.children))&&(e.children=t),e}function Nt(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Pt(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function At(e,t){return null!=t.dangerouslySetInnerHTML&&i("91"),sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lt(e,t){var n=t.value,o=n;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&i("92"),Array.isArray(t)&&(1>=t.length||i("93"),t=t[0]),n=""+t),null==n&&(n=""),o=n),e._wrapperState={initialValue:""+o}}function Ft(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Bt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function Mt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Mt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function Ht(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function jt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=n,r=t[n];o=null==r||"boolean"==typeof r||""===r?"":i||"number"!=typeof r||0===r||Ho.hasOwnProperty(o)&&Ho[o]?(""+r).trim():r+"px","float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}function Ut(e,t,n){t&&(Uo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&i("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&i("60"),"object"===on(t.dangerouslySetInnerHTML)&&"__html"in t.dangerouslySetInnerHTML||i("61")),null!=t.style&&"object"!==on(t.style)&&i("62",n()))}function qt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function zt(e,t){var n=Ke(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Fn[t];for(var i=0;i<t.length;i++){var o=t[i];n.hasOwnProperty(o)&&n[o]||("topWheel"===o?ee("wheel")?De("topWheel","wheel",e):ee("mousewheel")?De("topWheel","mousewheel",e):De("topWheel","DOMMouseScroll",e):"topScroll"===o?Re("topScroll","scroll",e):"topFocus"===o||"topBlur"===o?(Re("topFocus","focus",e),Re("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===o?(ee("cancel",!0)&&Re("topCancel","cancel",e),n.topCancel=!0):"topClose"===o?(ee("close",!0)&&Re("topClose","close",e),n.topClose=!0):Li.hasOwnProperty(o)&&De(o,Li[o],e),n[o]=!0)}}function Vt(e,t,n,i){return n=9===n.nodeType?n:n.ownerDocument,i===qo&&(i=Mt(e)),i===qo?"script"===e?((e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(i,e),e}function Wt(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function Gt(e,t,n,i){var o=qt(t,n);switch(t){case"iframe":case"object":De("topLoad","load",e);var r=n;break;case"video":case"audio":for(r in Vo)Vo.hasOwnProperty(r)&&De(r,Vo[r],e);r=n;break;case"source":De("topError","error",e),r=n;break;case"img":case"image":De("topError","error",e),De("topLoad","load",e),r=n;break;case"form":De("topReset","reset",e),De("topSubmit","submit",e),r=n;break;case"details":De("topToggle","toggle",e),r=n;break;case"input":wt(e,n),r=kt(e,n),De("topInvalid","invalid",e),zt(i,"onChange");break;case"option":r=St(e,n);break;case"select":Pt(e,n),r=sn({},n,{value:void 0}),De("topInvalid","invalid",e),zt(i,"onChange");break;case"textarea":Lt(e,n),r=At(e,n),De("topInvalid","invalid",e),zt(i,"onChange");break;default:r=n}Ut(t,r,zo);var a,s=r;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];"style"===a?jt(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&Bo(e,l):"children"===a?"string"==typeof l?("textarea"!==t||""!==l)&&$o(e,l):"number"==typeof l&&$o(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Ln.hasOwnProperty(a)?null!=l&&zt(i,a):o?Rt(e,a,l):null!=l&&Dt(e,a,l))}switch(t){case"input":ne(e),xt(e,n);break;case"textarea":ne(e),Bt(e);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?Nt(e,!!n.multiple,t,!1):null!=n.defaultValue&&Nt(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(e.onclick=ln)}}function Xt(e,t,n,i,o){var r,a,s=null;switch(t){case"input":n=kt(e,n),i=kt(e,i),s=[];break;case"option":n=St(e,n),i=St(e,i),s=[];break;case"select":n=sn({},n,{value:void 0}),i=sn({},i,{value:void 0}),s=[];break;case"textarea":n=At(e,n),i=At(e,i),s=[];break;default:"function"!=typeof n.onClick&&"function"==typeof i.onClick&&(e.onclick=ln)}for(r in Ut(t,i,zo),e=null,n)if(!i.hasOwnProperty(r)&&n.hasOwnProperty(r)&&null!=n[r])if("style"===r)for(a in t=n[r])t.hasOwnProperty(a)&&(e||(e={}),e[a]="");else"dangerouslySetInnerHTML"!==r&&"children"!==r&&"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(Ln.hasOwnProperty(r)?s||(s=[]):(s=s||[]).push(r,null));for(r in i){var l=i[r];if(t=null!=n?n[r]:void 0,i.hasOwnProperty(r)&&l!==t&&(null!=l||null!=t))if("style"===r)if(t){for(a in t)!t.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in l)l.hasOwnProperty(a)&&t[a]!==l[a]&&(e||(e={}),e[a]=l[a])}else e||(s||(s=[]),s.push(r,e)),e=l;else"dangerouslySetInnerHTML"===r?(l=l?l.__html:void 0,t=t?t.__html:void 0,null!=l&&t!==l&&(s=s||[]).push(r,""+l)):"children"===r?t===l||"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(r,""+l):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&(Ln.hasOwnProperty(r)?(null!=l&&zt(o,r),s||t===l||(s=[])):(s=s||[]).push(r,l))}return e&&(s=s||[]).push("style",e),s}function Yt(e,t,n,i,o){qt(n,i),i=qt(n,o);for(var r=0;r<t.length;r+=2){var a=t[r],s=t[r+1];"style"===a?jt(e,s):"dangerouslySetInnerHTML"===a?Bo(e,s):"children"===a?$o(e,s):i?null!=s?Rt(e,a,s):e.removeAttribute(a):null!=s?Dt(e,a,s):_t(e,a)}switch(n){case"input":Kt(e,o),ie(e);break;case"textarea":Ft(e,o);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!o.multiple,null!=(n=o.value)?Nt(e,!!o.multiple,n,!1):t!==!!o.multiple&&(null!=o.defaultValue?Nt(e,!!o.multiple,o.defaultValue,!0):Nt(e,!!o.multiple,o.multiple?[]:"",!1))}}function Qt(e,t,n,i,o){switch(t){case"iframe":case"object":De("topLoad","load",e);break;case"video":case"audio":for(var r in Vo)Vo.hasOwnProperty(r)&&De(r,Vo[r],e);break;case"source":De("topError","error",e);break;case"img":case"image":De("topError","error",e),De("topLoad","load",e);break;case"form":De("topReset","reset",e),De("topSubmit","submit",e);break;case"details":De("topToggle","toggle",e);break;case"input":wt(e,n),De("topInvalid","invalid",e),zt(o,"onChange");break;case"select":Pt(e,n),De("topInvalid","invalid",e),zt(o,"onChange");break;case"textarea":Lt(e,n),De("topInvalid","invalid",e),zt(o,"onChange")}for(var a in Ut(t,n,zo),i=null,n)n.hasOwnProperty(a)&&(r=n[a],"children"===a?"string"==typeof r?e.textContent!==r&&(i=["children",r]):"number"==typeof r&&e.textContent!==""+r&&(i=["children",""+r]):Ln.hasOwnProperty(a)&&null!=r&&zt(o,a));switch(t){case"input":ne(e),xt(e,n);break;case"textarea":ne(e),Bt(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=ln)}return i}function Jt(e,t){return e.nodeValue!==t}function Zt(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function en(e,t,n,o,r){Zt(n)||i("200");var a=n._reactRootContainer;if(a)Yo.updateContainer(t,a,e,r);else{if(!(o=o||function(e){return!(!(e=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))}(n)))for(a=void 0;a=n.lastChild;)n.removeChild(a);var s=Yo.createContainer(n,o);a=n._reactRootContainer=s,Yo.unbatchedUpdates((function(){Yo.updateContainer(t,s,e,r)}))}return Yo.getPublicRootInstance(a)}function tn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Zt(t)||i("200"),Et(e,t,null,n)}function nn(e,t){this._reactRootContainer=Yo.createContainer(e,t)}
/** @license React v16.1.2
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn=n(0),an=n(25),sn=n(9),ln=n(4),cn=n(26),un=n(27),dn=n(28),fn=n(29),hn=n(32),pn=n(10);rn||i("227");var mn={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},gn={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=gn,n=e.Properties||{},r=e.DOMAttributeNamespaces||{},a=e.DOMAttributeNames||{};for(var s in e=e.DOMMutationMethods||{},n){En.hasOwnProperty(s)&&i("48",s);var l=s.toLowerCase(),c=n[s];1>=(l={attributeName:l,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:o(c,t.MUST_USE_PROPERTY),hasBooleanValue:o(c,t.HAS_BOOLEAN_VALUE),hasNumericValue:o(c,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:o(c,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:o(c,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:o(c,t.HAS_STRING_BOOLEAN_VALUE)}).hasBooleanValue+l.hasNumericValue+l.hasOverloadedBooleanValue||i("50",s),a.hasOwnProperty(s)&&(l.attributeName=a[s]),r.hasOwnProperty(s)&&(l.attributeNamespace=r[s]),e.hasOwnProperty(s)&&(l.mutationMethod=e[s]),En[s]=l}}},En={},vn=gn,Tn=vn.MUST_USE_PROPERTY,bn=vn.HAS_BOOLEAN_VALUE,Cn=vn.HAS_NUMERIC_VALUE,yn=vn.HAS_POSITIVE_NUMERIC_VALUE,In=vn.HAS_OVERLOADED_BOOLEAN_VALUE,On=vn.HAS_STRING_BOOLEAN_VALUE,Dn={Properties:{allowFullScreen:bn,async:bn,autoFocus:bn,autoPlay:bn,capture:In,checked:Tn|bn,cols:yn,contentEditable:On,controls:bn,default:bn,defer:bn,disabled:bn,download:In,draggable:On,formNoValidate:bn,hidden:bn,loop:bn,multiple:Tn|bn,muted:Tn|bn,noValidate:bn,open:bn,playsInline:bn,readOnly:bn,required:bn,reversed:bn,rows:yn,rowSpan:Cn,scoped:bn,seamless:bn,selected:Tn|bn,size:yn,start:Cn,span:yn,spellCheck:On,style:0,tabIndex:0,itemScope:bn,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:On},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},Rn=vn.HAS_STRING_BOOLEAN_VALUE,_n="http://www.w3.org/1999/xlink",kn="http://www.w3.org/XML/1998/namespace",wn={Properties:{autoReverse:Rn,externalResourcesRequired:Rn,preserveAlpha:Rn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:_n,xlinkArcrole:_n,xlinkHref:_n,xlinkRole:_n,xlinkShow:_n,xlinkTitle:_n,xlinkType:_n,xmlBase:kn,xmlLang:kn,xmlSpace:kn}},Kn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach((function(e){var t=e.replace(Kn,s);wn.Properties[t]=0,wn.DOMAttributeNames[t]=e})),vn.injectDOMPropertyConfig(Dn),vn.injectDOMPropertyConfig(wn);var xn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!=typeof e.invokeGuardedCallback&&i("197"),l=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,i,o,r,a,s,c){l.apply(xn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,i,o,r,a,s,l){if(xn.invokeGuardedCallback.apply(this,arguments),xn.hasCaughtError()){var c=xn.clearCaughtError();xn._hasRethrowError||(xn._hasRethrowError=!0,xn._rethrowError=c)}},rethrowCaughtError:function(){return c.apply(xn,arguments)},hasCaughtError:function(){return xn._hasCaughtError},clearCaughtError:function(){if(xn._hasCaughtError){var e=xn._caughtError;return xn._caughtError=null,xn._hasCaughtError=!1,e}i("198")}},Sn=null,Nn={},Pn=[],An={},Ln={},Fn={},Bn=Object.freeze({plugins:Pn,eventNameDispatchConfigs:An,registrationNameModules:Ln,registrationNameDependencies:Fn,possibleRegistrationNames:null,injectEventPluginOrder:f,injectEventPluginsByName:h}),Mn=null,$n=null,Hn=null,jn=null,Un={injectEventPluginOrder:f,injectEventPluginsByName:h},qn=Object.freeze({injection:Un,getListener:b,extractEvents:C,enqueueEvents:y,processEventQueue:I}),zn=Math.random().toString(36).slice(2),Vn="__reactInternalInstance$"+zn,Wn="__reactEventHandlers$"+zn,Gn=Object.freeze({precacheFiberNode:function(e,t){t[Vn]=e},getClosestInstanceFromNode:O,getInstanceFromNode:function(e){return!(e=e[Vn])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:D,getFiberCurrentPropsFromNode:R,updateFiberProps:function(e,t){e[Wn]=t}}),Xn=Object.freeze({accumulateTwoPhaseDispatches:P,accumulateTwoPhaseDispatchesSkipTarget:function(e){g(e,x)},accumulateEnterLeaveDispatches:A,accumulateDirectDispatches:function(e){g(e,N)}}),Yn=null,Qn={_root:null,_startText:null,_fallbackText:null},Jn="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),Zn={type:null,target:null,currentTarget:ln.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};sn(M.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ln.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ln.thatReturnsTrue)},persist:function(){this.isPersistent=ln.thatReturnsTrue},isPersistent:ln.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<Jn.length;t++)this[Jn[t]]=null}}),M.Interface=Zn,M.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var i=new n;sn(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=sn({},this.Interface,t),e.augmentClass=this.augmentClass,j(e)},j(M),M.augmentClass(U,{data:null}),M.augmentClass(q,{data:null});var ei,ti=[9,13,27,32],ni=an.canUseDOM&&"CompositionEvent"in window,ii=null;if(an.canUseDOM&&"documentMode"in document&&(ii=document.documentMode),ei=an.canUseDOM&&"TextEvent"in window&&!ii){var oi=window.opera;ei=!("object"===(void 0===oi?"undefined":on(oi))&&"function"==typeof oi.version&&12>=parseInt(oi.version(),10))}var ri,ai=ei,si=an.canUseDOM&&(!ni||ii&&8<ii&&11>=ii),li=String.fromCharCode(32),ci={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},ui=!1,di=!1,fi={eventTypes:ci,extractEvents:function(e,t,n,i){var o;if(ni)e:{switch(e){case"topCompositionStart":var r=ci.compositionStart;break e;case"topCompositionEnd":r=ci.compositionEnd;break e;case"topCompositionUpdate":r=ci.compositionUpdate;break e}r=void 0}else di?z(e,n)&&(r=ci.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(r=ci.compositionStart);return r?(si&&(di||r!==ci.compositionStart?r===ci.compositionEnd&&di&&(o=F()):(Qn._root=i,Qn._startText=B(),di=!0)),r=U.getPooled(r,t,n,i),o?r.data=o:null!==(o=V(n))&&(r.data=o),P(r),o=r):o=null,(e=ai?function(e,t){switch(e){case"topCompositionEnd":return V(t);case"topKeyPress":return 32!==t.which?null:(ui=!0,li);case"topTextInput":return(e=t.data)===li&&ui?null:e;default:return null}}(e,n):function(e,t){if(di)return"topCompositionEnd"===e||!ni&&z(e,t)?(e=F(),Qn._root=null,Qn._startText=null,Qn._fallbackText=null,di=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return si?null:t.data;default:return null}}(e,n))?((t=q.getPooled(ci.beforeInput,t,n,i)).data=e,P(t)):t=null,[o,t]}},hi=null,pi=null,mi=null,gi={injectFiberControlledHostComponent:function(e){hi=e}},Ei=Object.freeze({injection:gi,enqueueStateRestore:G,restoreStateIfNeeded:X}),vi=!1,Ti={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};an.canUseDOM&&(ri=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var bi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ci=null,yi=null,Ii=!1;an.canUseDOM&&(Ii=ee("input")&&(!document.documentMode||9<document.documentMode));var Oi={eventTypes:bi,_isInputEventSupported:Ii,extractEvents:function(e,t,n,i){var o=t?D(t):window,r=o.nodeName&&o.nodeName.toLowerCase();if("select"===r||"input"===r&&"file"===o.type)var a=se;else if(J(o))if(Ii)a=he;else{a=de;var s=ue}else!(r=o.nodeName)||"input"!==r.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type||(a=fe);if(a&&(a=a(e,t)))return oe(a,n,i);s&&s(e,o,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||o._wrapperState)&&e.controlled&&"number"===o.type&&(e=""+o.value,o.getAttribute("value")!==e&&o.setAttribute("value",e))}};M.augmentClass(pe,{view:null,detail:null});var Di={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};pe.augmentClass(Ee,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ge,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var Ri={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},_i={eventTypes:Ri,extractEvents:function(e,t,n,i){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?O(t):null):e=null,e===t)return null;var r=null==e?o:D(e);o=null==t?o:D(t);var a=Ee.getPooled(Ri.mouseLeave,e,n,i);return a.type="mouseleave",a.target=r,a.relatedTarget=o,(n=Ee.getPooled(Ri.mouseEnter,t,n,i)).type="mouseenter",n.target=o,n.relatedTarget=r,A(a,n,e,t),[a,n]}},ki=rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wi=[],Ki=!0,xi=void 0,Si=Object.freeze({get _enabled(){return Ki},get _handleTopLevel(){return xi},setHandleTopLevel:function(e){xi=e},setEnabled:Oe,isEnabled:function(){return Ki},trapBubbledEvent:De,trapCapturedEvent:Re,dispatchEvent:_e}),Ni={animationend:ke("Animation","AnimationEnd"),animationiteration:ke("Animation","AnimationIteration"),animationstart:ke("Animation","AnimationStart"),transitionend:ke("Transition","TransitionEnd")},Pi={},Ai={};an.canUseDOM&&(Ai=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);var Li={topAbort:"abort",topAnimationEnd:we("animationend")||"animationend",topAnimationIteration:we("animationiteration")||"animationiteration",topAnimationStart:we("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:we("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Fi={},Bi=0,Mi="_reactListenersID"+(""+Math.random()).slice(2),$i=an.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Hi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ji=null,Ui=null,qi=null,zi=!1,Vi={eventTypes:Hi,extractEvents:function(e,t,n,i){var o,r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(o=!r)){e:{r=Ke(r),o=Fn.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!r.hasOwnProperty(s)||!r[s]){r=!1;break e}}r=!0}o=!r}if(o)return null;switch(r=t?D(t):window,e){case"topFocus":(J(r)||"true"===r.contentEditable)&&(ji=r,Ui=t,qi=null);break;case"topBlur":qi=Ui=ji=null;break;case"topMouseDown":zi=!0;break;case"topContextMenu":case"topMouseUp":return zi=!1,Pe(n,i);case"topSelectionChange":if($i)break;case"topKeyDown":case"topKeyUp":return Pe(n,i)}return null}};M.augmentClass(Ae,{animationName:null,elapsedTime:null,pseudoElement:null}),M.augmentClass(Le,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pe.augmentClass(Fe,{relatedTarget:null});var Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};pe.augmentClass(Me,{key:function(e){if(e.key){var t=Wi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Be(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Gi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ge,charCode:function(e){return"keypress"===e.type?Be(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Be(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ee.augmentClass($e,{dataTransfer:null}),pe.augmentClass(He,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ge}),M.augmentClass(je,{propertyName:null,elapsedTime:null,pseudoElement:null}),Ee.augmentClass(Ue,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var Xi={},Yi={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach((function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t;n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[t="top"+t]},Xi[e]=n,Yi[t]=n}));var Qi={eventTypes:Xi,extractEvents:function(e,t,n,i){var o=Yi[e];if(!o)return null;switch(e){case"topKeyPress":if(0===Be(n))return null;case"topKeyDown":case"topKeyUp":e=Me;break;case"topBlur":case"topFocus":e=Fe;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=Ee;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=$e;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=He;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Ae;break;case"topTransitionEnd":e=je;break;case"topScroll":e=pe;break;case"topWheel":e=Ue;break;case"topCopy":case"topCut":case"topPaste":e=Le;break;default:e=M}return P(t=e.getPooled(o,t,n,i)),t}};xi=function(e,t,n,i){y(e=C(e,t,n,i)),I(!1)},Un.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Mn=Gn.getFiberCurrentPropsFromNode,$n=Gn.getInstanceFromNode,Hn=Gn.getNodeFromInstance,Un.injectEventPluginsByName({SimpleEventPlugin:Qi,EnterLeaveEventPlugin:_i,ChangeEventPlugin:Oi,SelectEventPlugin:Vi,BeforeInputEventPlugin:fi});var Ji=[],Zi=-1;new Set;var eo,to,no,io,oo={current:pn},ro={current:!1},ao=pn,so=null,lo=null,co="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.portal")||60106,uo=Array.isArray,fo="function"==typeof Symbol&&Symbol.iterator;"function"==typeof Symbol&&Symbol.for?(eo=Symbol.for("react.element"),to=Symbol.for("react.call"),no=Symbol.for("react.return"),io=Symbol.for("react.fragment")):(eo=60103,to=60104,no=60105,io=60107);var ho,po=Ct(!0,!0),mo=Ct(!1,!0),go=Ct(!1,!1),Eo={},vo=Object.freeze({default:Ot}),To=vo&&Ot||vo,bo=To.default?To.default:To,Co="object"===("undefined"==typeof performance?"undefined":on(performance))&&"function"==typeof performance.now;ho=Co?function(){return performance.now()}:function(){return Date.now()};var yo=void 0;if(an.canUseDOM)if("function"!=typeof requestIdleCallback){var Io,Oo=null,Do=!1,Ro=!1,_o=0,ko=33,wo=33;Io=Co?{timeRemaining:function(){return _o-performance.now()}}:{timeRemaining:function(){return _o-Date.now()}};var Ko="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",(function(e){e.source===window&&e.data===Ko&&(Do=!1,e=Oo,Oo=null,null!==e&&e(Io))}),!1);var xo=function(e){Ro=!1;var t=e-_o+wo;t<wo&&ko<wo?(8>t&&(t=8),wo=t<ko?ko:t):ko=t,_o=e+wo,Do||(Do=!0,window.postMessage(Ko,"*"))};yo=function(e){return Oo=e,Ro||(Ro=!0,requestAnimationFrame(xo)),0}}else yo=requestIdleCallback;else yo=function(e){return setTimeout((function(){e({timeRemaining:function(){return 1/0}})})),0};var So=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,No={},Po={},Ao="http://www.w3.org/1999/xhtml",Lo="http://www.w3.org/2000/svg",Fo=void 0,Bo=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Lo||"innerHTML"in e)e.innerHTML=t;else{for((Fo=Fo||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=Fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}})),Mo=/["'&<>]/;an.canUseDOM&&("textContent"in document.documentElement||(Ht=function(e,t){if(3===e.nodeType)e.nodeValue=t;else{if("boolean"==typeof t||"number"==typeof t)t=""+t;else{t=""+t;var n=Mo.exec(t);if(n){var i,o="",r=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}r!==i&&(o+=t.substring(r,i)),r=i+1,o+=n}t=r!==i?o+t.substring(r,i):o}}Bo(e,t)}}));var $o=Ht,Ho={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jo=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach((function(e){jo.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ho[t]=Ho[e]}))}));var Uo=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),qo=Ao,zo=ln.thatReturns(""),Vo={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Wo=Object.freeze({createElement:Vt,createTextNode:Wt,setInitialProperties:Gt,diffProperties:Xt,updateProperties:Yt,diffHydratedProperties:Qt,diffHydratedText:Jt,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(Kt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=R(o);r||i("90"),Kt(o,r)}}}break;case"textarea":Ft(e,n);break;case"select":null!=(t=n.value)&&Nt(e,!!n.multiple,t,!1)}}});gi.injectFiberControlledHostComponent(Wo);var Go=null,Xo=null,Yo=bo({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$t(null,"");break;default:e=$t(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}return e},getChildHostContext:function(e,t){return $t(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){Go=Ki;var e=un();if(Ne(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{t.nodeType,o.nodeType}catch(e){t=null;break e}var r=0,a=-1,s=-1,l=0,c=0,u=e,d=null;t:for(;;){for(var f;u!==t||0!==i&&3!==u.nodeType||(a=r+i),u!==o||0!==n&&3!==u.nodeType||(s=r+n),3===u.nodeType&&(r+=u.nodeValue.length),null!==(f=u.firstChild);)d=u,u=f;for(;;){if(u===e)break t;if(d===t&&++l===i&&(a=r),d===o&&++c===n&&(s=r),null!==(f=u.nextSibling))break;d=(u=d).parentNode}u=f}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;Xo={focusedElem:e,selectionRange:t},Oe(!1)},resetAfterCommit:function(){var e=Xo,t=un(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&fn(document.documentElement,n)){if(Ne(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var o=n[L()].length;e=Math.min(i.start,o),i=void 0===i.end?e:Math.min(i.end,o),!t.extend&&e>i&&(o=i,i=e,e=o),o=Se(n,e);var r=Se(n,i);if(o&&r&&(1!==t.rangeCount||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==r.node||t.focusOffset!==r.offset)){var a=document.createRange();a.setStart(o.node,o.offset),t.removeAllRanges(),e>i?(t.addRange(a),t.extend(r.node,r.offset)):(a.setEnd(r.node,r.offset),t.addRange(a))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(hn(n),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}Xo=null,Oe(Go),Go=null},createInstance:function(e,t,n,i,o){return(e=Vt(e,t,n,i))[Vn]=o,e[Wn]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,i){Gt(e,t,n,i);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,n,i,o){return Xt(e,t,n,i,o)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"===on(t.dangerouslySetInnerHTML)&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,i){return(e=Wt(e,t))[Vn]=i,e},now:ho,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,i,o){e[Wn]=o,Yt(e,t,n,i,o)},resetTextContent:function(e){e.textContent=""},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,i,o,r){return e[Vn]=r,e[Wn]=n,Qt(e,t,n,o,i)},hydrateTextInstance:function(e,t,n){return e[Vn]=n,Jt(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:yo,useSyncScheduling:!0});Y=Yo.batchedUpdates,nn.prototype.render=function(e,t){Yo.updateContainer(e,this._reactRootContainer,null,t)},nn.prototype.unmount=function(e){Yo.updateContainer(null,this._reactRootContainer,null,e)};var Qo={createPortal:tn,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(t)return Yo.findHostInstance(t);"function"==typeof e.render?i("188"):i("213",Object.keys(e))},hydrate:function(e,t,n){return en(null,e,t,!0,n)},render:function(e,t,n){return en(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,o){return(null==e||void 0===e._reactInternalFiber)&&i("38"),en(e,t,n,!1,o)},unmountComponentAtNode:function(e){return Zt(e)||i("40"),!!e._reactRootContainer&&(Yo.unbatchedUpdates((function(){en(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:tn,unstable_batchedUpdates:Q,unstable_deferredUpdates:Yo.deferredUpdates,flushSync:Yo.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:qn,EventPluginRegistry:Bn,EventPropagators:Xn,ReactControlledComponent:Ei,ReactDOMComponentTree:Gn,ReactDOMEventListener:Si}};Yo.injectIntoDevTools({findFiberByHostInstance:O,bundleType:0,version:"16.1.2",rendererPackageName:"react-dom"});var Jo=Object.freeze({default:Qo}),Zo=Jo&&Qo||Jo;e.exports=Zo.default?Zo.default:Zo},function(e,t,n){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};e.exports=o},function(e,t,n){"use strict";var i=n(4),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:i}},registerDefault:function(){}};e.exports=o},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(i(e,t))return!0;if("object"!==(void 0===e?"undefined":o(e))||null===e||"object"!==(void 0===t?"undefined":o(t))||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var s=0;s<n.length;s++)if(!r.call(t,n[s])||!i(e[n[s]],t[n[s]]))return!1;return!0}},function(e,t,n){"use strict";var i=n(30);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!i(t)&&(i(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var i=n(31);e.exports=function(e){return i(e)&&3==e.nodeType}},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"===(void 0===e?"undefined":i(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";e.exports=function(e){try{e.focus()}catch(e){}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(0)),s=i(n(1)),l=i(n(2)),c=i(n(5)),u=i(n(41)),d=i(n(43)),f=i(n(45)),h=i(n(80)),p=i(n(3));n(84);var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleUse=function(e){n.setState({expanded:!1,title:e.title||e.machineName,infoMessage:null}),n.props.onUse(e)},n.handleUpload=function(e){for(var t=e.h5p.mainLibrary,i=0;i<e.contentTypes.libraries.length;i++)if(e.contentTypes.libraries[i].machineName===t){t=e.contentTypes.libraries[i].title;break}n.setState({expanded:!1,title:t,contentTypes:e.contentTypes,infoMessage:{title:l.default.get("uploadSuccess").replace(":title",t),message:e.contentTypes.details}}),n.props.onUpload(e)},n.handleUpdate=function(e){n.props.onUpdate(e),n.setState({contentTypes:e})},n.handleReload=function(){(0,c.default)(n.props.getAjaxUrl("content-type-cache")).then((function(e){return n.handleUpdate(e)})).catch((function(e){return n.setState({error:e})}))},n.handleInfoDismiss=function(){n.setState({infoMessage:null})},n.handleTabPanelSelect=function(e){n.setState({section:e})},n.handleRender=function(e,t){n.props.onRender(e,t)},n.state={expanded:e.expanded,section:"content-types",selected:e.selected,title:e.title,contentTypes:e.contentTypes},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){e.title!==this.state.title&&(this.state.title=e.title),e.expanded!==this.state.expanded&&(this.state.expanded=e.expanded)}},{key:"componentDidUpdate",value:function(){this.props.onResize()}},{key:"render",value:function(){var e=this;return this.handleRender(this.state.title,this.state.expanded),a.default.createElement("section",{className:"h5p-hub"},a.default.createElement("div",{className:"panel h5p-section-"+this.state.section+(this.state.expanded?" open":"")},a.default.createElement(u.default,{title:this.state.title||l.default.get("hubPanelLabel"),sectionId:this.state.section,isExpanded:this.state.expanded,togglePanel:function(){return e.setState({expanded:!e.state.expanded})}}),a.default.createElement("div",{id:"panel-body-"+this.state.section,role:"region",className:this.state.expanded?"":"hidden"},a.default.createElement(d.default,{selected:this.state.section,onSelect:this.handleTabPanelSelect,canPaste:this.props.canPaste,canPasteTitle:this.props.canPasteTitle,onPaste:this.props.onPaste},a.default.createElement(f.default,{id:"content-types",title:l.default.get("createContentTabLabel"),contentTypes:this.state.contentTypes,setFocus:this.state.expanded&&"content-types"===this.state.section,getAjaxUrl:this.props.getAjaxUrl,error:this.state.error,onUse:this.handleUse,onInstall:this.handleUpdate,onReload:this.handleReload}),a.default.createElement(h.default,{id:"upload",title:l.default.get("uploadTabLabel"),getAjaxUrl:this.props.getAjaxUrl,contentId:this.props.contentId,setFocus:this.state.expanded&&"upload"===this.state.section,onUpload:this.handleUpload})))),!!this.state.infoMessage&&a.default.createElement(p.default,o({},this.state.infoMessage,{severity:"info",onClose:this.handleInfoDismiss})))}}]),t}(a.default.Component);m.propTypes={title:s.default.string,contentTypes:s.default.object.isRequired,selected:s.default.string,getAjaxUrl:s.default.func.isRequired,onResize:s.default.func.isRequired,onUse:s.default.func.isRequired,onUpload:s.default.func.isRequired},t.default=m},function(e,t,n){"use strict";var i=n(4),o=n(35),r=n(36);e.exports=function(){function e(e,t,n,i,a,s){s!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";var i=function(e){};e.exports=function(e,t,n,o,r,a,s,l){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,r,a,s,l],d=0;(c=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";(function(i,o){var r,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */!function(i,o){"object"===s(t)&&void 0!==e?e.exports=o():void 0!==(a="function"==typeof(r=o)?r.call(t,n,t,e):r)&&(e.exports=a)}(0,(function(){function e(e){return"function"==typeof e}function t(){var e=setTimeout;return function(){return e(r,1)}}function r(){for(var e=0;e<O;e+=2)(0,N[e])(N[e+1]),N[e]=void 0,N[e+1]=void 0;O=0}function a(e,t){var n=arguments,i=this,o=new this.constructor(c);void 0===o[A]&&b(o);var r=i._state;return r?function(){var e=n[r-1];_((function(){return T(r,o,e,i._result)}))}():g(i,o,e,t),o}function l(e){if(e&&"object"===(void 0===e?"undefined":s(e))&&e.constructor===this)return e;var t=new this(c);return f(t,e),t}function c(){}function u(e){try{return e.then}catch(e){return M.error=e,M}}function d(t,n,i){n.constructor===t.constructor&&i===a&&n.constructor.resolve===l?function(e,t){t._state===F?p(e,t._result):t._state===B?m(e,t._result):g(t,void 0,(function(t){return f(e,t)}),(function(t){return m(e,t)}))}(t,n):i===M?(m(t,M.error),M.error=null):void 0===i?p(t,n):e(i)?function(e,t,n){_((function(e){var i=!1,o=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(n,t,(function(n){i||(i=!0,t!==n?f(e,n):p(e,n))}),(function(t){i||(i=!0,m(e,t))}),e._label);!i&&o&&(i=!0,m(e,o))}),e)}(t,n,i):p(t,n)}function f(e,t){e===t?m(e,new TypeError("You cannot resolve a promise with itself")):function(e){var t=void 0===e?"undefined":s(e);return null!==e&&("object"===t||"function"===t)}(t)?d(e,t,u(t)):p(e,t)}function h(e){e._onerror&&e._onerror(e._result),E(e)}function p(e,t){e._state===L&&(e._result=t,e._state=F,0!==e._subscribers.length&&_(E,e))}function m(e,t){e._state===L&&(e._state=B,e._result=t,_(h,e))}function g(e,t,n,i){var o=e._subscribers,r=o.length;e._onerror=null,o[r]=t,o[r+F]=n,o[r+B]=i,0===r&&e._state&&_(E,e)}function E(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,o=void 0,r=e._result,a=0;a<t.length;a+=3)i=t[a],o=t[a+n],i?T(n,i,o,r):o(r);e._subscribers.length=0}}function v(){this.error=null}function T(t,n,i,o){var r=e(i),a=void 0,s=void 0,l=void 0,c=void 0;if(r){if((a=function(e,t){try{return e(t)}catch(e){return $.error=e,$}}(i,o))===$?(c=!0,s=a.error,a.error=null):l=!0,n===a)return void m(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,l=!0;n._state!==L||(r&&l?f(n,a):c?m(n,s):t===F?p(n,a):t===B&&m(n,a))}function b(e){e[A]=H++,e._state=void 0,e._result=void 0,e._subscribers=[]}function C(e,t){this._instanceConstructor=e,this.promise=new e(c),this.promise[A]||b(this.promise),I(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&p(this.promise,this._result))):m(this.promise,new Error("Array Methods must be provided an Array"))}function y(e){this[A]=H++,this._result=this._state=void 0,this._subscribers=[],c!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof y?function(e,t){try{t((function(t){f(e,t)}),(function(t){m(e,t)}))}catch(t){m(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}var I=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},O=0,D=void 0,R=void 0,_=function(e,t){N[O]=e,N[O+1]=t,2===(O+=2)&&(R?R(r):P())},k="undefined"!=typeof window?window:void 0,w=k||{},K=w.MutationObserver||w.WebKitMutationObserver,x="undefined"==typeof self&&void 0!==i&&"[object process]"==={}.toString.call(i),S="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,N=new Array(1e3),P=void 0;P=x?function(){return i.nextTick(r)}:K?function(){var e=0,t=new K(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():S?function(){var e=new MessageChannel;return e.port1.onmessage=r,function(){return e.port2.postMessage(0)}}():void 0===k?function(){try{var e=n(40);return void 0!==(D=e.runOnLoop||e.runOnContext)?function(){D(r)}:t()}catch(e){return t()}}():t();var A=Math.random().toString(36).substring(16),L=void 0,F=1,B=2,M=new v,$=new v,H=0;return C.prototype._enumerate=function(e){for(var t=0;this._state===L&&t<e.length;t++)this._eachEntry(e[t],t)},C.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===l){var o=u(e);if(o===a&&e._state!==L)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===y){var r=new n(c);d(r,e,o),this._willSettleAt(r,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},C.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===L&&(this._remaining--,e===B?m(i,n):this._result[t]=n),0===this._remaining&&p(i,this._result)},C.prototype._willSettleAt=function(e,t){var n=this;g(e,void 0,(function(e){return n._settledAt(F,t,e)}),(function(e){return n._settledAt(B,t,e)}))},y.all=function(e){return new C(this,e).promise},y.race=function(e){var t=this;return new t(I(e)?function(n,i){for(var o=e.length,r=0;r<o;r++)t.resolve(e[r]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},y.resolve=l,y.reject=function(e){var t=new this(c);return m(t,e),t},y._setScheduler=function(e){R=e},y._setAsap=function(e){_=e},y._asap=_,y.prototype={constructor:y,then:a,catch:function(e){return this.then(null,e)}},y.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=y},y.Promise=y,y}))}).call(t,n(38),n(39))},function(e,t,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(){m&&h&&(m=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=r(a);m=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,m=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(e){u=i}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var h,p=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(i=window)}e.exports=i},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1));n(42);var a=function(e){var t=e.togglePanel,n=e.isExpanded,i=e.sectionId,r=e.title;return o.default.createElement("div",{className:"h5p-hub-client-drop-down","aria-level":"1",role:"heading"},o.default.createElement("div",{className:"icon-hub-icon",role:"button",onClick:t,onKeyUp:function(e){13!==e.which&&32!==e.which||t()},"aria-expanded":n.toString(),"aria-controls":"panel-body-"+i,tabIndex:"0"},o.default.createElement("span",{className:"h5p-hub-description"},"H5P Hub."),o.default.createElement("span",{className:"h5p-hub-selected"},r)))};a.propTypes={togglePanel:r.default.func.isRequired,isExpanded:r.default.bool.isRequired,sectionId:r.default.string.isRequired,title:r.default.string.isRequired},t.default=a},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(1));n(44);var s=i(n(7)),l=i(n(2)),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelect=function(e){n.setState({selected:e}),n.props.onSelect(e)},n.state={selected:e.selected},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this,t=r.default.Children.map(this.props.children,(function(t){return r.default.createElement("li",{className:"tab-button","aria-selected":e.state.selected===t.props.id,"aria-controls":"tab-panel-"+t.props.id,role:"tab",key:t.props.id},r.default.createElement("a",{id:t.props.id,href:"#"},t.props.title))})),n=r.default.Children.map(this.props.children,(function(t){return r.default.createElement("div",{className:"tabpanel"+(e.state.selected===t.props.id?"":" hidden"),id:"tab-panel-"+t.props.id,"aria-labelledby":t.props.id,role:"tabpanel"},t)}));return r.default.createElement("div",{className:"tab-panel"},r.default.createElement("nav",null,!!window.localStorage&&r.default.createElement("div",{className:"h5peditor-copypaste-wrap"},r.default.createElement("button",{id:"h5peditor-hub-paste-button",className:"h5peditor-paste-button "+(this.props.canPaste?"":"disabled"),disabled:!this.props.canPaste,title:this.props.canPaste?l.default.get("pasteFromClipboard"):this.props.canPasteTitle,onClick:this.props.onPaste},l.default.get("pasteButton"))),r.default.createElement("ul",{role:"tablist"},r.default.createElement(s.default,{selected:this.props.children[0].props.id,onChange:this.handleSelect},t))),n)}}]),t}(r.default.Component);c.propTypes={selected:a.default.string.isRequired,onSelect:a.default.func.isRequired},t.default=c},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(1)),s=i(n(3)),l=i(n(47)),c=i(n(49)),u=i(n(51)),d=i(n(55)),f=i(n(78)),h=i(n(79)),p=i(n(2)),m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDetailClose=function(){n.setState((function(e){return{detailViewActive:!1,setFocus:!e.setFocus}}))},n.handleDetailUse=function(e){n.handleDetailClose(),n.props.onUse(e)},n.handleListSelect=function(e){n.setState({library:e,detailViewActive:!0})},n.handleFilterOn=function(e){n.setState({contentTypes:(0,h.default)(n.props.contentTypes,e,n.state.orderBy),filterOn:e,focused:null,detailViewActive:!1})},n.handleOrderBy=function(e){n.setState({contentTypes:(0,h.default)(n.props.contentTypes,null,e),orderBy:e,filterOn:"",focused:null})},n.handleFocus=function(e){n.setState({focused:e})},n.handleFocusMove=function(e){for(var t=n.state.focused||n.state.contentTypes[0],i=0;i<n.state.contentTypes.length;i++)if(t===n.state.contentTypes[i])return void(n.state.contentTypes[i+e]&&n.setState({focused:n.state.contentTypes[i+e]}))},n.handleSearchSelect=function(){var e=n.state.focused||n.state.contentTypes[0];e&&(e.installed?n.props.onUse(e):n.handleListSelect(e))},n.handleWarningClose=function(){n.setState({warnOutdated:!1})},n.handleRetry=function(){n.setState({retrying:!0}),n.props.onReload()},n.state={orderBy:"recently",contentTypes:(0,h.default)(e.contentTypes,null,"recently"),detailViewActive:!1,warnOutdated:n.props.contentTypes.outdated},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState((function(t){var n=void 0;if(t.library)for(var i=0;i<e.contentTypes.libraries.length;i++){var o=e.contentTypes.libraries[i];o.machineName===t.library.machineName&&(n=o)}return{contentTypes:(0,h.default)(e.contentTypes,t.filterOn,t.orderBy),retrying:void 0,library:n}}))}},{key:"render",value:function(){return this.props.contentTypes.libraries&&this.props.contentTypes.libraries.length?r.default.createElement("div",{className:"content-type-section-view loaded"},r.default.createElement(l.default,{value:this.state.filterOn,auto:!this.state.detailViewActive,setFocus:this.props.setFocus,onFilter:this.handleFilterOn,onNavigate:this.handleFocusMove,onSelect:this.handleSearchSelect}),!!this.state.warnOutdated&&r.default.createElement(s.default,{severity:"warning",title:p.default.get("contentTypeCacheOutdated"),message:p.default.get("contentTypeCacheOutdatedDesc"),onClose:this.handleWarningClose}),r.default.createElement("div",{className:"content-type-section"+(this.state.warnOutdated?" height-limit":"")+(this.state.filterOn?" filtering":"")},r.default.createElement(c.default,{hits:this.state.contentTypes.length,selected:this.state.orderBy,onChange:this.handleOrderBy,hasRecentlyUsed:!(!this.props.contentTypes.recentlyUsed||!this.props.contentTypes.recentlyUsed.length),searching:!!this.state.filterOn,visible:!this.state.detailViewActive}),r.default.createElement(u.default,{contentTypes:this.state.contentTypes,apiVersion:this.props.contentTypes.apiVersion,focused:this.state.focused,setFocus:!this.state.setFocus,visible:!this.state.detailViewActive,onUse:this.props.onUse,onSelect:this.handleListSelect,onFocus:this.handleFocus}),r.default.createElement(d.default,{library:this.state.library,apiVersion:this.props.contentTypes.apiVersion,visible:this.state.detailViewActive,onUse:this.handleDetailUse,onClose:this.handleDetailClose,getAjaxUrl:this.props.getAjaxUrl,onInstall:this.props.onInstall}))):r.default.createElement(f.default,{throbbing:this.state.retrying,details:this.props.error,onRetry:this.handleRetry})}}]),t}(r.default.Component);m.propTypes={contentTypes:a.default.object.isRequired,setFocus:a.default.bool,getAjaxUrl:a.default.func.isRequired,onUse:a.default.func.isRequired,onInstall:a.default.func.isRequired},t.default=m},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(1)),s=i(n(2));n(48);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInput=function(e){var t=e.target;t.value!==n.state.value&&(n.setState({value:t.value}),n.props.auto&&!n.searchTimer&&(n.searchTimer=setTimeout((function(){n.props.onFilter(t.value),n.searchTimer=null}),40)))},n.handleKeyDown=function(e){switch(e.which){case 38:n.props.onNavigate(-1),e.preventDefault();break;case 40:n.props.onNavigate(1),e.preventDefault();break;case 13:n.props.auto?n.props.onSelect():n.props.onFilter(e.target.value),e.preventDefault()}},n.state={value:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&this.setState({value:e.value}),e.setFocus!==this.props.setFocus&&this.setState({focusOnRender:e.setFocus})}},{key:"componentDidUpdate",value:function(){this.state.focusOnRender&&(delete this.state.focusOnRender,this.input.focus())}},{key:"render",value:function(){var e=this,t=s.default.get("contentTypeSearchFieldPlaceholder");return r.default.createElement("div",{className:"search-wrapper",role:"search"},r.default.createElement("div",{className:"border-wrap"},r.default.createElement("input",{id:"hub-search-bar",type:"text",value:this.state.value||"","aria-label":t,placeholder:t,onInput:this.handleInput,onKeyDown:function(t){return e.handleKeyDown(t)},ref:function(t){return e.input=t}}),r.default.createElement("div",{className:"icon-search"})))}}]),t}(r.default.Component);l.propTypes={value:a.default.string,auto:a.default.bool.isRequired,onFilter:a.default.func.isRequired,onNavigate:a.default.func.isRequired,onSelect:a.default.func.isRequired},t.default=l},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=i(n(7)),s=i(n(2));n(50);var l=function(e){var t=e.hits,n=e.selected,i=e.onChange,r=e.hasRecentlyUsed,l=e.searching,c=e.visible;return o.default.createElement("div",{className:"navbar"+(c?"":" hidden")},o.default.createElement("div",{className:"result-header"},l?s.default.get("searchResults"):s.default.get("contentTypeSectionAll"),o.default.createElement("span",{className:"result-hits"},"(",s.default.get("numResults").replace(":num",t),")")),!l&&o.default.createElement("div",{id:"sort-by",className:"sort-by-header"},s.default.get("show"),":"),!l&&o.default.createElement("ul",{className:"sort-by-list","aria-labelledby":"sort-by"},o.default.createElement(a.default,{selected:n,onChange:i},o.default.createElement("li",null,o.default.createElement("a",{href:"#",id:"recently"},s.default.get(r?"recentlyUsedFirst":"popularFirst"))),o.default.createElement("li",null,o.default.createElement("a",{href:"#",id:"newest"},s.default.get("newestFirst"))),o.default.createElement("li",null,o.default.createElement("a",{href:"#",id:"a-to-z"},s.default.get("aToZ"))))))};l.propTypes={hits:r.default.number.isRequired,selected:r.default.string.isRequired,onChange:r.default.func.isRequired,hasRecentlyUsed:r.default.bool.isRequired,searching:r.default.bool.isRequired,visible:r.default.bool.isRequired},t.default=l},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(1)),s=i(n(52)),l=i(n(7)),c=i(n(2));n(54);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getLibrary=function(e){for(var t=0;t<n.props.contentTypes.length;t++){var i=n.props.contentTypes[t];if(i.machineName.toLocaleLowerCase().replace(".","-")===e)return i}},n.handleFocus=function(e){n.props.onFocus(n.getLibrary(e))},n.handleSelect=function(e){var t=n.getLibrary(e);t.installed?n.props.onUse(t):(n.props.onSelect(t),n.props.onFocus(t))},n.scrollIntoView=function(e){var t=n.choose.items[0].offsetTop;if(e.offsetTop-t<n.list.scrollTop)n.list.scrollTop=e.offsetTop-t;else{var i=e.offsetTop-t+e.clientHeight;if(i>n.list.scrollTop+n.list.clientHeight){var o=window.getComputedStyle(n.listElement);n.list.scrollTop=i-n.list.clientHeight+parseFloat(o.marginTop)+parseFloat(o.marginBottom)}}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){e.contentTypes!==this.props.contentTypes&&this.setState({resetScroll:!0})}},{key:"componentDidUpdate",value:function(){if(this.state&&this.state.resetScroll)delete this.state.resetScroll,this.list.scrollTop=0;else if(this.props.focused&&this.choose&&this.choose.items)for(var e=this.props.focused.machineName.toLocaleLowerCase().replace(".","-"),t=0;t<this.choose.items.length;t++)if(e===this.choose.items[t].id){this.scrollIntoView(this.choose.items[t]);break}}},{key:"render",value:function(){var e=this,t=this.props.contentTypes.map((function(t,n){return r.default.createElement("li",{key:n,id:t.machineName.toLocaleLowerCase().replace(".","-"),className:"media"},r.default.createElement(s.default,{contentType:t,apiVersion:e.props.apiVersion,tabindex:e.props.focused?e.props.focused===t?0:-1:0===n?0:-1,onSelect:e.props.onSelect}))}));return r.default.createElement("div",{className:"content-type-list","aria-hidden":!this.props.visible,ref:function(t){return e.list=t}},this.props.contentTypes.length?r.default.createElement("ol",{ref:function(t){return e.listElement=t}},r.default.createElement(l.default,{selected:this.props.focused?this.props.focused.machineName.toLocaleLowerCase().replace(".","-"):null,setFocus:this.props.setFocus,onChange:this.handleSelect,onFocus:this.handleFocus,ref:function(t){return e.choose=t}},t)):r.default.createElement("div",{className:"no-results"},r.default.createElement("div",{className:"no-results-title"},c.default.get("noResultsFound")),r.default.createElement("div",{className:"no-results-desc"},c.default.get("noResultsFoundDesc"))))}}]),t}(r.default.Component);u.propTypes={contentTypes:a.default.array.isRequired,apiVersion:a.default.object.isRequired,focused:a.default.object,visible:a.default.bool,setFocus:a.default.bool,onUse:a.default.func.isRequired,onSelect:a.default.func.isRequired,onFocus:a.default.func.isRequired},t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=i(n(12)),s=i(n(2)),l=i(n(13));n(53);var c=function(e){var t=e.contentType,n=e.apiVersion,i=e.tabindex,r=e.onSelect,c=t.title||t.machineName,u=(0,l.default)(t,n),d=function(e){r(t),e.preventDefault()},f=t.icons?t.icons.map((function(e,t){return o.default.createElement("img",{key:t,className:"media-text-icon",src:e.src,alt:e.alt,title:e.alt})})):null;return o.default.createElement("div",null,o.default.createElement("div",{className:"media-left"},o.default.createElement("img",{className:"media-object",src:t.icon||a.default,alt:c+" "+s.default.get("contentTypeIconAltText")})),o.default.createElement("div",{className:"media-body"},o.default.createElement("div",{className:"h4 media-heading"},c),f,t.installed?o.default.createElement("button",{type:"button",className:"button button-primary",tabIndex:i,onClick:d,onKeyDown:function(e){13!==e.which&&32!==e.which||d(e)}},s.default.get("contentTypeDetailButtonLabel")):o.default.createElement("button",{type:"button",className:"button button-inverse-primary button-install",tabIndex:i},s.default.get("contentTypeGetButtonLabel")),o.default.createElement("div",{className:"content-type-update-info"+(u?"":" hidden")},s.default.get("contentTypeUpdateAvailable")),o.default.createElement("div",{className:"description"},t.summary||"")))};c.propTypes={contentType:r.default.object.isRequired,apiVersion:r.default.object.isRequired,tabindex:r.default.number.isRequired,onSelect:r.default.func.isRequired},t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(0)),s=i(n(1)),l=i(n(2)),c=i(n(13)),u=n(8);n(6);var d=i(n(5)),f=i(n(12)),h=i(n(3)),p=i(n(56)),m=i(n(65)),g=i(n(71)),E=i(n(73)),v=i(n(75));n(77);var T={},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTransitionEnd=function(){!n.state.visible&&n.state.showImageSlider?n.setState({showImageSlider:!1}):n.state.visible&&n.setState({focusUseButton:n.state.visible})},n.onImageSelect=function(e){n.setState({modalType:"screenshots",selectedScreenshot:e})},n.onModalClose=function(){n.setState({modalType:void 0,licenseDetails:void 0})},n.handleInstall=function(){n.setState({installing:!0,errorMessage:null,infoMessage:null}),(0,d.default)(n.props.getAjaxUrl("library-install",{id:n.props.library.machineName}),"").then((function(e){n.props.onInstall(e.data);var t=n.props.installed?"contentTypeUpdateSuccess":"contentTypeInstallSuccess",i=n.props.library.title||n.props.library.machineName;n.setState({installed:!0,installing:!1,infoMessage:{title:l.default.get(t,{":contentType":i}),message:e.data.details}})})).catch((function(e){n.setState({updating:!1,installing:!1,errorMessage:e})}))},n.handleClose=function(e){e.preventDefault(),n.props.onClose()},n.handleUse=function(){n.props.onUse(n.props.library)},n.handleShowLicenseDetails=function(){var e=n.props.library.license.id,t=T[e];t?n.setState({licenseDetails:t}):fetch("https://api.h5p.org/v1/licenses/"+n.props.library.license.id).then((function(e){return e.json()})).then((function(i){t=!1===i.success?l.default.get("licenseFetchDetailsFailed"):T[e]=i.description.replace(":owner",n.props.library.owner).replace(":year",(new Date).getFullYear()),n.setState({licenseDetails:t})})).catch((function(){n.setState({licenseDetails:l.default.get("licenseFetchDetailsFailed")})})),n.setState({modalType:"license"})},n.handleErrorDismiss=function(){n.setState({errorMessage:null})},n.handleInfoDismiss=function(){n.setState({infoMessage:null})},n.handleBackKeyPress=function(e){32===e.which&&n.handleClose(e)},n.openExampleUrl=function(){window.open(n.props.library.example,"_blank")},n.state={visible:!1,selectedScreenshot:0,modalType:void 0,installed:!1,canInstall:!1,updatable:!1,installing:!1,showImageSlider:!0,message:void 0,opened:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){e.library&&(this.props.library!==e.library&&this.setState({errorMessage:null,infoMessage:null}),!this.props.visible&&e.visible?this.setState({opened:!0}):this.setState({opened:!1}),this.setState({installed:e.library.installed,canInstall:e.library.canInstall,updatable:(0,c.default)(e.library,e.apiVersion),installing:!1,visible:e.visible,showImageSlider:!0}))}},{key:"render",value:function(){var e=this,t="content-type-detail"+(this.state.visible?" show":""),n="content-type-detail-view-title";if(!this.props.library)return a.default.createElement("div",{className:t,id:"content-type-detail"});var i={};return"screenshots"===this.state.modalType&&(i.label=l.default.get("imageLightboxTitle")),"license"===this.state.modalType&&this.state.licenseDetails&&(i.labelledby="license-details-id",i.describedby="license-details-description"),a.default.createElement("div",{className:t,id:"content-type-detail",role:"region",tabIndex:"-1","aria-labelledby":n,onTransitionEnd:this.onTransitionEnd},a.default.createElement("a",{href:"#",className:"back-button icon-arrow-thick","aria-label":l.default.get("contentTypeBackButtonLabel"),onClick:this.handleClose,onKeyPress:this.handleBackKeyPress}),a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"image-wrapper"},a.default.createElement("img",{className:"img-responsive content-type-image",src:this.props.library.icon||f.default})),a.default.createElement("div",{className:"text-details"},a.default.createElement("h2",{id:n,className:"title",tabIndex:"-1"},this.props.library.title||this.props.library.machineName),a.default.createElement("div",{className:"owner"},this.props.library.owner),a.default.createElement(v.default,{text:this.props.library.description,maxLength:285}),this.props.library.example&&a.default.createElement("a",{className:"button demo-button",target:"_blank",href:this.props.library.example||"#",onKeyPress:function(t){return(0,u.onSpaceOrEnterEvent)(t,e.openExampleUrl)}},l.default.get("contentTypeDemoButtonLabel")))),this.state.showImageSlider&&this.props.library.screenshots&&a.default.createElement(g.default,{images:this.props.library.screenshots,onImageSelect:this.onImageSelect,showProgress:!1,selected:this.state.selectedScreenshot}),a.default.createElement("hr",null),!!this.state.errorMessage&&a.default.createElement(h.default,o({},this.state.errorMessage,{severity:"error",onClose:this.handleErrorDismiss})),!!this.state.infoMessage&&a.default.createElement(h.default,o({},this.state.infoMessage,{severity:"info",onClose:this.handleInfoDismiss})),a.default.createElement(E.default,{installed:this.state.installed,canInstall:this.state.canInstall,updatable:this.state.updatable,installing:this.state.installing,onInstall:this.handleInstall,onUse:this.handleUse,opened:this.state.opened}),a.default.createElement(m.default,{id:this.props.library.license?this.props.library.license.id:"Unspecified",attributes:this.props.library.license?this.props.library.license.attributes:void 0,onShowLicenseDetails:this.handleShowLicenseDetails}),a.default.createElement(p.default,{visible:void 0!==this.state.modalType,onClose:this.onModalClose,className:this.state.modalType||"",aria:i},a.default.createElement((function(){return"screenshots"===e.state.modalType?a.default.createElement(g.default,{images:e.props.library.screenshots,imagesToShow:1,showProgress:!0,selected:e.state.selectedScreenshot}):"license"===e.state.modalType?a.default.createElement("div",null,a.default.createElement("div",{className:"modal-header"},l.default.get("licenseModalTitle")),a.default.createElement("div",{className:"modal-content"},a.default.createElement("h5",{id:"license-details-id",className:"modal-title"},e.props.library.license.id),a.default.createElement("div",{id:"license-details-description",className:e.state.licenseDetails?void 0:"loading",dangerouslySetInnerHTML:{__html:e.state.licenseDetails}}))):null}),null)))}}]),t}(a.default.Component);b.propTypes={visible:s.default.bool.isRequired,onInstall:s.default.func.isRequired,onUse:s.default.func.isRequired,onClose:s.default.func.isRequired,getAjaxUrl:s.default.func.isRequired,library:s.default.shape({installed:s.default.bool.isRequired,canInstall:s.default.bool.isRequired,isUpToDate:s.default.bool.isRequired,example:s.default.string,title:s.default.string,description:s.default.string.isRequired,machineName:s.default.string.isRequired,screenshots:s.default.arrayOf(s.default.shape({url:u.nonEmptyString,alt:u.nonEmptyString})),owner:s.default.string.isRequired,icon:s.default.string,license:s.default.shape({id:s.default.string.isRequired,attributes:s.default.shape({canHoldLiable:s.default.bool.isRequired,useCommercially:s.default.bool,modifiable:s.default.bool,distributable:s.default.bool,sublicensable:s.default.bool,mustIncludeCopyright:s.default.bool,mustIncludeLicense:s.default.bool})})})},t.default=b},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(57)),s=i(n(1)),l=i(n(19)),c=i(n(2));n(64);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeModal=function(){document.querySelector(".h5p-section-content-types").removeAttribute("aria-hidden"),n.props.onClose()},n.getParent=function(){return document.querySelector(".h5p-hub")},a.default.setAppElement(".h5p-section-content-types"),n.state={modalIsOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({modalIsOpen:e.visible})}},{key:"render",value:function(){var e={className:"lightbox-close","aria-label":c.default.get("close")};return r.default.createElement(a.default,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,contentLabel:this.props.label,parentSelector:this.getParent,className:"lightbox-inner "+this.props.className,overlayClassName:"lightbox",aria:this.props.aria},r.default.createElement(l.default,{buttonProps:e,onButtonClick:this.closeModal}),this.props.children)}}]),t}(r.default.Component);u.propTypes={onClose:s.default.func.isRequired,aria:s.default.shape({label:s.default.string,labelledby:s.default.string,describedby:s.default.string}),className:s.default.string.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(58));t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function a(e){return e()}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),d=i(u),f=i(n(11)),h=i(n(1)),p=i(n(59)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(15)),g=n(17),E=i(g),v=t.portalClassName="ReactModalPortal",T=t.bodyOpenClassName="ReactModal__Body--open",b=void 0!==f.default.createPortal,C=b?f.default.createPortal:f.default.unstable_renderSubtreeIntoContainer,y=function(e){function t(){var e,n,i;o(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.removePortal=function(){!b&&f.default.unmountComponentAtNode(i.node),a(i.props.parentSelector).removeChild(i.node)},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=C(i,d.default.createElement(p.default,l({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},r(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"componentDidMount",value:function(){g.canUseDOM&&(b||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,a(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"componentWillReceiveProps",value:function(e){if(g.canUseDOM){var t=e.isOpen;if(this.props.isOpen||t){var n=a(this.props.parentSelector),i=a(e.parentSelector);i!==n&&(n.removeChild(this.node),i.appendChild(this.node)),!b&&this.renderPortal(e)}}}},{key:"componentWillUpdate",value:function(e){g.canUseDOM&&e.portalClassName!==this.props.portalClassName&&(this.node.className=e.portalClassName)}},{key:"componentWillUnmount",value:function(){if(g.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return g.canUseDOM&&b?(!this.node&&b&&(this.node=document.createElement("div")),C(d.default.createElement(p.default,l({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){m.setElement(e)}}]),t}(u.Component);y.propTypes={isOpen:h.default.bool.isRequired,style:h.default.shape({content:h.default.object,overlay:h.default.object}),portalClassName:h.default.string,bodyOpenClassName:h.default.string,className:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),overlayClassName:h.default.oneOfType([h.default.string,h.default.shape({base:h.default.string.isRequired,afterOpen:h.default.string.isRequired,beforeClose:h.default.string.isRequired})]),appElement:h.default.instanceOf(E.default),onAfterOpen:h.default.func,onRequestClose:h.default.func,closeTimeoutMS:h.default.number,ariaHideApp:h.default.bool,shouldFocusAfterRender:h.default.bool,shouldCloseOnOverlayClick:h.default.bool,shouldReturnFocusAfterClose:h.default.bool,parentSelector:h.default.func,aria:h.default.object,role:h.default.string,contentLabel:h.default.string,shouldCloseOnEsc:h.default.bool},y.defaultProps={isOpen:!1,portalClassName:v,bodyOpenClassName:T,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},y.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},t.default=y},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),u=o(c),d=o(n(1)),f=i(n(60)),h=o(n(61)),p=i(n(15)),m=i(n(16)),g=i(n(62)),E=o(n(17)),v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setFocusAfterRender=function(e){n.focusAfterRender=n.props.shouldFocusAfterRender&&e},n.setOverlayRef=function(e){n.overlay=e},n.setContentRef=function(e){n.content=e},n.afterClose=function(){g.remove(n.props.bodyOpenClassName),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(f.returnFocus(),f.teardownScopedFocus()):f.popWithoutFocus())},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(f.setupScopedFocus(n.node),f.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()})))},n.close=function(){n.beforeClose(),n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,h.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.preventDefault(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null,n.moveFromContentToOverlay=null},n.handleOverlayOnMouseUp=function(){null===n.moveFromContentToOverlay&&(n.shouldClose=!1)},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(){n.moveFromContentToOverlay=!1},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1,n.moveFromContentToOverlay=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var i="object"===(void 0===t?"undefined":s(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},o=i.base;return n.state.afterOpen&&(o=o+" "+i.afterOpen),n.state.beforeClose&&(o=o+" "+i.beforeClose),"string"==typeof t&&t?o+" "+t:o},n.ariaAttributes=function(e){return Object.keys(e).reduce((function(t,n){return t["aria-"+n]=e[n],t}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&(this.setFocusAfterRender(!0),this.open())}},{key:"componentWillReceiveProps",value:function(e){!this.props.isOpen&&e.isOpen?(this.setFocusAfterRender(!0),this.open()):this.props.isOpen&&!e.isOpen&&this.close()}},{key:"componentDidUpdate",value:function(){this.focusAfterRender&&(this.focusContent(),this.setFocusAfterRender(!1))}},{key:"componentWillUnmount",value:function(){g.remove(this.props.bodyOpenClassName),this.beforeClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,i=e.bodyOpenClassName;g.add(i),n&&p.hide(t)}},{key:"beforeClose",value:function(){var e=this.props,t=e.appElement;e.ariaHideApp&&m.totalCount()<1&&p.show(t)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.overlayClassName,i=e.defaultStyles,o=t?{}:i.content,r=n?{}:i.overlay;return this.shouldBeClosed()?null:u.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:a({},r,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,onMouseUp:this.handleOverlayOnMouseUp},u.default.createElement("div",a({ref:this.setContentRef,style:a({},o,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.ariaAttributes(this.props.aria||{})),this.props.children))}}]),t}(c.Component);T.defaultProps={style:{overlay:{},content:{}}},T.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),bodyOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.instanceOf(E.default),onAfterOpen:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function i(){l=!0}function o(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,r.default)(s)[0]||s).focus()}),0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=i,t.handleFocus=o,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(e=a.pop()).focus()}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",i,!1),document.addEventListener("focus",o,!0)):(window.attachEvent("onBlur",i),document.attachEvent("onFocus",o))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",i),document.removeEventListener("focus",o)):(window.detachEvent("onBlur",i),document.detachEvent("onFocus",o))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(14)),a=[],s=null,l=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(e);if(n.length){var o=t.shiftKey,r=n[0],a=n[n.length-1];if(e!==document.activeElement){var s;if(a!==document.activeElement||o||(s=r),r===document.activeElement&&o&&(s=a),s)return t.preventDefault(),void s.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=l&&"Chrome"!=l[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var c=n.indexOf(document.activeElement);c>-1&&(c+=o?-1:1),t.preventDefault(),n[c].focus()}}}else t.preventDefault()};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(14));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(e){e.split(" ").map(i.add).forEach((function(e){return document.body.classList.add(e)}))},t.remove=function(e){var t=i.get();e.split(" ").map(i.remove).filter((function(e){return 0===t[e]})).forEach((function(e){return document.body.classList.remove(e)}))};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16))},function(e,t,n){"use strict";var i,o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/o=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen},"object"===a(n(18))&&n(18)?void 0!==(i=function(){return r}.call(t,n,t,e))&&(e.exports=i):void 0!==e&&e.exports?e.exports=r:window.ExecutionEnvironment=r},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=i(n(2)),s=i(n(66)),l=i(n(68));n(70);var c=function(e){var t=e.id,n=e.attributes,i=e.onShowLicenseDetails;return o.default.createElement(s.default,null,o.default.createElement(l.default,{header:a.default.get("contentTypeLicensePanelTitle"),id:t,attributes:n,onShowLicenseDetails:i}))};c.propTypes={id:r.default.string,onShowLicenseDetails:r.default.func,attributes:r.default.shape({canHoldLiable:r.default.bool,useCommercially:r.default.bool,modifiable:r.default.bool,distributable:r.default.bool,sublicensable:r.default.bool,mustIncludeCopyright:r.default.bool,mustIncludeLicense:r.default.bool})},t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(19));n(67);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={expanded:e.expanded},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"handleToggle",value:function(e){this.setState({expanded:this.state.expanded===e.props.id?void 0:e.props.id})}},{key:"render",value:function(){var e=this,t=r.default.Children.map(this.props.children,(function(t){var n={className:"h5p-hub-accordion-toggler","aria-expanded":e.state.expanded===t.props.id};return r.default.createElement("div",null,r.default.createElement("dt",{"aria-level":"2",role:"heading",className:"h5p-hub-accordion-heading"},r.default.createElement(a.default,{buttonProps:n,onButtonClick:function(){return e.handleToggle(t)}},r.default.createElement("span",{className:"icon-accordion-arrow"}),r.default.createElement("span",null,t.props.header))),r.default.createElement("dl",{role:"region",className:"h5p-hub-accordion-region"+(e.state.expanded==t.props.id?"":" hidden")},r.default.createElement("div",{className:"panel-body"},t)))}));return r.default.createElement("dl",{className:"h5p-hub-accordion"},t)}}]),t}(r.default.Component);t.default=s},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=i(n(0)),l=i(n(1)),c=i(n(2));n(69);var u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"renderSection",value:function(e){return e?s.default.createElement("div",{className:"short-license-info"},s.default.createElement("h3",null,this.props.id),s.default.createElement("button",{type:"button",className:"short-license-read-more","aria-label":c.default.get("readMore"),onClick:this.props.onShowLicenseDetails}),s.default.createElement("p",null,c.default.get("licenseDescription")),s.default.createElement("ul",{className:"ul small"},s.default.createElement("li",null,c.default.get(this.props.attributes.canHoldLiable?"licenseCanHoldLiable":"licenseCannotHoldLiable")),this.props.attributes.useCommercially&&s.default.createElement("li",null,c.default.get("licenseCanUseCommercially")),this.props.attributes.modifiable&&s.default.createElement("li",null,c.default.get("licenseCanModify")),this.props.attributes.distributable&&s.default.createElement("li",null,c.default.get("licenseCanDistribute")),this.props.attributes.sublicensable&&s.default.createElement("li",null,c.default.get("licenseCanSublicense")),this.props.attributes.mustIncludeCopyright&&s.default.createElement("li",null,c.default.get("licenseMustIncludeCopyright")),this.props.attributes.mustIncludeLicense&&s.default.createElement("li",null,c.default.get("licenseMustIncludeLicense")))):s.default.createElement("div",{className:"short-license-info"},s.default.createElement("p",null,c.default.get("licenseUnspecified")))}},{key:"render",value:function(){return this.renderSection("Unspecified"!==this.props.id)}}]),t}(s.default.Component);u.propTypes={id:l.default.string,onShowLicenseDetails:l.default.func,attributes:l.default.shape({canHoldLiable:l.default.bool,useCommercially:l.default.bool,modifiable:l.default.bool,distributable:l.default.bool,sublicensable:l.default.bool,mustIncludeCopyright:l.default.bool,mustIncludeLicense:l.default.bool})},t.default=u},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(1)),s=i(n(2)),l=n(8);n(72);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u.call(n),n.state={imagesToShow:n.props.imagesToShow||5,offset:n.props.selected||0,selected:n.props.selected||0,modalIsOpen:!1,focusOnRender:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.imagesToShow||window.addEventListener("resize",this.onWindowResized)}},{key:"componentWillUnmount",value:function(){this.props.imagesToShow||window.removeEventListener("resize",this.onWindowResized)}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.state.focusOnRender&&!t.focusOnRender)}},{key:"moveFocus",value:function(e){var t=this;this.setState((function(n){var i=n.selected+e;if(i>=0&&i<t.props.images.length){var o=n.offset;return i<n.offset?o=n.offset-1:i>=n.offset+n.imagesToShow&&(o=n.offset+1),{selected:i,focusOnRender:!0,offset:o}}}))}},{key:"componentWillReceiveProps",value:function(e){this.setState({selected:e.selected||0,offset:0})}},{key:"componentDidUpdate",value:function(){this.state.focusOnRender&&(this.items[this.state.selected].focus(),this.scroller.scrollLeft=0,this.setState({focusOnRender:!1}))}},{key:"handleKeyDown",value:function(e,t){if(!e.defaultPrevented){var n=!1;switch(e.which){case 37:case 38:this.moveFocus(-1),n=!0;break;case 39:case 40:this.moveFocus(1),n=!0;break;case 32:case 13:this.handleImageSelected(t),n=!0}n&&(e.stopPropagation(),e.preventDefault())}}},{key:"render",value:function(){var e=this,t=this.props.images;if(!t||!t.length)return null;var n=this.state.imagesToShow,i=t.length,o={width:100/i+"%"},a=100*i/n,c={width:a+"%",marginLeft:"-"+this.state.offset*(a/i)+"%"};this.items=[];var u=t.map((function(t,n){return r.default.createElement("li",{key:n,style:o,tabIndex:n===e.state.selected?0:-1,onKeyDown:function(t){return e.handleKeyDown(t,n)},onClick:function(){return e.handleImageSelected(n)},ref:function(t){return t?e.items.push(t):void 0}},r.default.createElement("img",{src:t.url,alt:t.alt,className:e.props.onImageSelect?"selectable":""}))})),d=0===this.state.offset,h=this.state.imagesToShow+this.state.offset>=i,p=i>this.state.imagesToShow;return r.default.createElement("div",{className:"carousel",role:"region","aria-label":s.default.get("screenshots"),ref:function(t){return e.carousel=t},onKeyDown:this.handleGlobalKeyDown},p&&r.default.createElement(f,{type:"prev",label:s.default.get("previousImage"),onClick:this.previousSlide,disabled:d}),r.default.createElement("nav",{className:"scroller",ref:function(t){return e.scroller=t}},r.default.createElement("ul",{style:c,onTransitionEnd:l.stopPropagation},u)),p&&r.default.createElement(f,{type:"next",label:s.default.get("nextImage"),onClick:this.nextSlide,disabled:h}),this.props.showProgress&&r.default.createElement("div",{className:"progress",role:"alert"},s.default.get("imageLightBoxProgress").replace(":num",this.state.offset+1).replace(":total",i)))}}]),t}(r.default.Component),u=function(){var e=this;this.onWindowResized=function(){if(e.carousel){for(var t=e.carousel.offsetWidth,n=5,i=0;i<d.length;i++)if(t<d[i].breakpoint){n=d[i].imagesToShow;break}e.state.imagesToShow!=n&&e.setState({imagesToShow:n,offset:0,selected:0})}},this.handleImageSelected=function(t){e.props.onImageSelect&&e.props.onImageSelect(t)},this.previousSlide=function(){e.setState((function(e){var t=e.offset-1;if(t>=0)return{offset:t,selected:t}}))},this.nextSlide=function(){e.setState((function(e,t){var n=e.offset+1;if(n<t.images.length)return{offset:n,selected:n}}))},this.handleGlobalKeyDown=function(t){39===t.which?e.nextSlide():37===t.which&&e.previousSlide()}},d=[{breakpoint:576,imagesToShow:2},{breakpoint:768,imagesToShow:3},{breakpoint:992,imagesToShow:4}],f=function(e){var t=e.onClick,n=e.type,i=e.disabled,o=e.label;return r.default.createElement("button",{className:"navigation "+n,"aria-disabled":i,"aria-label":o,disabled:i,onClick:t})};c.propTypes={onImageSelect:a.default.func,imagesToShow:a.default.number,showProgress:a.default.bool.isRequired,selected:a.default.number,images:a.default.arrayOf(a.default.shape({url:l.nonEmptyString,alt:l.nonEmptyString})).isRequired},t.default=c},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(1)),s=i(n(2));n(74);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={focusOnRender:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){e.opened!==this.props.opened&&this.setState({focusOnRender:!0})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state===t}},{key:"componentDidUpdate",value:function(){this.state.focusOnRender&&(this.useButton?this.useButton.focus():this.installButton.focus()),delete this.state.focusOnRender}},{key:"render",value:function(){var e=this,t=void 0,n=!1,i=this.props.installed&&!this.props.installing;return this.props.installed&&this.props.updatable?(t=this.props.installing?"Updating":"Update",n=this.props.installing):this.props.installed||(t=this.props.installing?"Installing":"Install",n=this.props.installing),r.default.createElement("div",{className:"h5p-hub-content-type-detail-button-bar"},t&&r.default.createElement("button",{type:"button",className:"button button-inverse-primary button-"+t.toLowerCase(),disabled:n,onClick:this.props.installing?void 0:this.props.onInstall,ref:function(t){return e.installButton=t}},s.default.get("contentType"+t+"ButtonLabel")),i&&r.default.createElement("button",{type:"button",className:"button button-primary button-use",onClick:this.props.onUse,ref:function(t){return e.useButton=t}},s.default.get("contentTypeUseButtonLabel")))}}]),t}(r.default.Component);l.propTypes={canInstall:a.default.bool.isRequired,installed:a.default.bool.isRequired,installing:a.default.bool.isRequired,updatable:a.default.bool.isRequired,onInstall:a.default.func.isRequired,onUse:a.default.func.isRequired,opened:a.default.bool.isRequired},t.default=l},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(2));n(76);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleToggle=function(e){e.preventDefault(),n.setState({expanded:!n.state.expanded})},n.handleKeyPress=function(e){32===e.which&&n.handleToggle(e)},n.state={expanded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props.text;if(void 0===e||0===e.length)return null;var t=e.length>this.props.maxLength,n=t?e.substr(0,this.props.maxLength):e,i=t?e.substr(this.props.maxLength):"";return t&&!this.state.expanded&&(n+="â¦"),r.default.createElement("p",{className:"small"},r.default.createElement("span",{tabIndex:"-1"},n),t&&[r.default.createElement("span",{key:"part-two",tabIndex:"-1",className:this.state.expanded?"":"hidden"},i),r.default.createElement("a",{href:"#",key:"button",className:"link "+(this.state.expanded?"read-less":"read-more"),onClick:this.handleToggle,onKeyPress:this.handleKeyPress},a.default.get(this.state.expanded?"readLess":"readMore"))])}}]),t}(r.default.Component);t.default=s},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),r=i(n(1)),a=i(n(3)),s=i(n(2)),l=function(e){var t=e.throbbing,n=e.details,i=e.onRetry,r=[s.default.get("noContentTypesAvailableDesc")];return n&&n.title&&(r.push(n.title),n.details&&(r=r.concat(n.details))),o.default.createElement(a.default,{severity:"error",title:s.default.get("noContentTypesAvailable"),message:r},o.default.createElement("button",{type:"button",className:"button button-primary retry-button",tabIndex:"0",onClick:i,disabled:t},s.default.get("tryAgain")))};l.propTypes={throbbing:r.default.bool,details:r.default.object,onRetry:r.default.func.isRequired},l.defaultProps={throbbing:!1},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(t){var i=e.libraries.map((function(e){return{contentType:e,score:s(t,e)}})).filter((function(t){return t.score>0&&!a(t.contentType,e.apiVersion)}));return u(i)}var r=[o[n]];if("recently"===n)if(e.recentlyUsed&&e.recentlyUsed.length){for(var l=0;l<e.recentlyUsed.length;l++)for(var c=e.recentlyUsed[l],d=0;d<e.libraries.length;d++){var f=e.libraries[d];f.machineName===c&&(f.recently=l+1)}r.push("popularity")}else r=["popularity"];else"newest"===n&&r.splice(0,0,"installed");return u(e.libraries.filter((function(t){return!a(t,e.apiVersion)})),r)};var i=[{name:"title",max:1e3,min:100},{name:"summary",max:50,min:25},{name:"description",max:50,min:25},{name:"keywords",max:50,min:25},{name:"machineName",max:1,min:.5}],o={recently:"recently",newest:"createdAt","a-to-z":"title"},r=["createdAt","updatedAt"],a=function(e,t){var n=!(t.major>e.h5pMajorVersion||t.major===e.h5pMajorVersion&&t.minor>=e.h5pMinorVersion);return e.restricted||!e.installed&&n},s=function(e,t){var n=e.split(" ").filter((function(e){return""!==e})).map((function(e){return l(e,t)}));return n.indexOf(0)>-1?0:n.reduce((function(e,t){return e+t}),0)},l=function(e,t){e=e.trim();for(var n=0;n<i.length;n++){var o=i[n],r=c(e,t[o.name],o.max,o.min);if(-1!==r)return r}return 0},c=function e(t,n,i,o){if(!n)return-1;if(n instanceof Array){for(var r=0;r<n.length;r++){var a=e(t,n[r],i,o);if(-1!==a)return a}return-1}var s=n.toLowerCase().indexOf(t.toLowerCase());return-1===s?-1:(i-o)*((n.length-s)/n.length)+o},u=t.multiSort=function(e,t){return e.map((function(e){return e.hasOwnProperty("score")&&e.hasOwnProperty("contentType")?e:{contentType:e,score:.1}})).sort((function(e,n){return t?d(e,n,t[0],t.slice(1)):f(e,n)})).map((function(e){return e.contentType}))},d=function e(t,n,i,o){if(!t.contentType.hasOwnProperty(i))return 1;if(!n.contentType.hasOwnProperty(i))return-1;var a=-1===r.indexOf(i)?1:-1;return t.contentType[i]>n.contentType[i]?1*a:t.contentType[i]<n.contentType[i]?-1*a:o.length?e(t,n,o[0],o.slice(1)):0},f=function(e,t){return t.score!==e.score?t.score-e.score:t.contentType.popularity-e.contentType.popularity}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(0)),s=i(n(1));n(81);var l=i(n(5)),c=i(n(2)),u=i(n(3)),d=i(n(82)),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleErrorDismiss=function(){n.setState({error:null})},n.state={fileSelected:!1,filePath:"",fileUploading:!1,error:void 0,uploadData:{}},n.handleValidation=n.handleValidation.bind(n),n.handleUpload=n.handleUpload.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"handleValidation",value:function(e){if(this.setState({error:void 0}),0!==e.target.files.length){var t=e.target.files[0].name;"h5p"!==this.getFileExtension(t)?this.setState({fileSelected:!1,filePath:"",error:{title:c.default.get("h5pFileWrongExtensionTitle"),message:c.default.get("h5pFileWrongExtensionContent")}}):(this.setState({fileSelected:!0,filePath:t,fileUploading:!1,uploadData:e.target.files[0]}),e.stopPropagation())}}},{key:"handleUpload",value:function(){var e=this;this.setState({fileSelected:!0,fileUploading:!0});var t=new FormData;t.append("h5p",this.state.uploadData),t.append("contentId",this.props.contentId),(0,l.default)(this.props.getAjaxUrl("library-upload"),t).then((function(t){e.props.onUpload(t.data),e.setState({fileSelected:!1,fileUploading:!1,filePath:"",uploadData:{}})})).catch((function(t){e.setState({fileSelected:!1,fileUploading:!1,error:t,filePath:"",uploadData:{}})}))}},{key:"getFileExtension",value:function(e){return e.replace(/^.*\./,"")}},{key:"render",value:function(){return a.default.createElement("div",{className:"upload-wrapper"},!!this.state.error&&a.default.createElement(u.default,o({},this.state.error,{severity:"error",onClose:this.handleErrorDismiss})),a.default.createElement("div",{className:"upload-throbber"+(this.state.fileUploading?"":" hidden"),"aria-label":c.default.get("uploadingThrobber")}),a.default.createElement("h1",{className:"upload-instruction-header"},c.default.get("uploadInstructionsTitle")),a.default.createElement(d.default,{fileSelected:this.state.fileSelected,fileUploading:this.state.fileUploading,filePath:this.state.filePath,setFocus:this.props.setFocus,onValidate:this.handleValidation,onUpload:this.handleUpload}),a.default.createElement("p",{className:"upload-instruction-description",dangerouslySetInnerHTML:{__html:c.default.get("uploadInstructionsContent")}}))}}]),t}(a.default.Component);f.propTypes={onUpload:s.default.func.isRequired,getAjaxUrl:s.default.func.isRequired,setFocus:s.default.bool.isRequired},t.default=f},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),a=i(n(1));n(83),n(6);var s=i(n(2)),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clickFileField=n.clickFileField.bind(n),n.componentDidUpdate=n.componentDidUpdate.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidUpdate",value:function(){this.props.fileSelected?this.useButton.focus():this.fileField.value="",this.props.setFocus&&this.uploadButton.focus()}},{key:"clickFileField",value:function(){this.fileField.click()}},{key:"render",value:function(){var e=this;return r.default.createElement("div",{className:"upload-form"},r.default.createElement("input",{className:"upload-path",placeholder:this.props.fileSelected||this.props.fileUploading?this.props.filePath:s.default.get("uploadPlaceholder"),onClick:this.clickFileField,tabIndex:"-1",disabled:this.props.fileUploading,readOnly:!0}),r.default.createElement("button",{type:"button",ref:function(t){e.useButton=t},className:"button use-button","aria-hidden":this.props.fileSelected?"":"true",disabled:this.props.fileUploading,onClick:this.props.onUpload},s.default.get("contentTypeUseButtonLabel")),r.default.createElement("div",{className:"input-wrapper"},r.default.createElement("input",{type:"file",accept:".h5p","aria-hidden":"true",ref:function(t){e.fileField=t},onChange:this.props.onValidate}),r.default.createElement("button",{type:"button",ref:function(t){return e.uploadButton=t},className:"button upload-button",onClick:this.clickFileField,disabled:this.props.fileUploading,tabIndex:"0"},this.props.fileSelected?s.default.get("uploadFileButtonChangeLabel"):s.default.get("uploadFileButtonLabel"))))}}]),t}(r.default.Component);l.propTypes={fileSelected:a.default.bool.isRequired,fileUploading:a.default.bool.isRequired,filePath:a.default.string.isRequired,setFocus:a.default.bool.isRequired,onValidate:a.default.func.isRequired,onUpload:a.default.func.isRequired},t.default=l},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Eventful=function(){return{listeners:{},on:function(e,t,n){var i={listener:t,scope:n};return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(i),this},trigger:function(e,t){return(this.listeners[e]||[]).every((function(e){return!1!==e.listener.call(e.scope||this,t)}))},propagate:function(e,t,n){var i=this;e.forEach((function(e){return t.on(e,(function(t){return i.trigger(n||e,t)}))}))}}}}])},,,,,,function(e,t,n){"use strict";n.r(t);n(9),n(8),n(2),n(3),n(4),n(5),n(12),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(44),n(45),n(46),n(47),n(48),n(49),n(50)},function(e,t){var n;window.ns=window.H5PEditor=H5P.jQuery.extend(!1,{},window.parent.H5PEditor),ns.$=H5P.jQuery,H5PIntegration=H5P.jQuery.extend(!1,{},window.parent.H5PIntegration),H5PIntegration.loadedJs=[],H5PIntegration.loadedCss=[],ns.constants={otherLibraries:"Other Libraries"},ns.widgets={},ns.libraryCache={},ns.loadedCallbacks=[],ns.libraryLoaded={},ns.isIE=null!==navigator.userAgent.match(/; MSIE \d+.\d+;/),ns.renderableCommonFields={},ns.loadJs=function(e,t){if(H5P.jsLoaded(e))t();else{var n=document.createElement("script");n.type="text/javascript",n.charset="UTF-8",n.async=!1,n.onload=function(){H5PIntegration.loadedJs.push(e),t()},n.onerror=function(e){t(e)},n.src=e,document.head.appendChild(n)}},ns.libraryRequested=function(e,t){var n=ns.libraryCache[e];if(ns.libraryLoaded[e])t(ns.libraryCache[e].semantics);else{void 0!==n.css&&n.css.forEach((function(e){H5P.cssLoaded(e)||(H5PIntegration.loadedCss.push(e),e&&ns.$("head").append('<link rel="stylesheet" href="'+e+'" type="text/css" />'))}));var i=!1;void 0!==n.javascript&&n.javascript.length&&n.javascript.forEach((function(o){H5P.jsLoaded(o)||(i=!0,ns.loadJs(o,(function(i){if(i)console.error("Error while loading script",i);else if(n.javascript.reduce((function(e,t){return e&&H5P.jsLoaded(t)}),!0)){if(ns.libraryLoaded[e]=!0,n.translations)for(var o in n.translations)H5PEditor.language[o]=n.translations[o];t(ns.libraryCache[e].semantics)}})))})),i||(ns.libraryLoaded[e]=!0,t(ns.libraryCache[e].semantics))}},ns.loadLibrary=function(e,t){switch(ns.libraryCache[e]){default:ns.libraryRequested(e,t);break;case 0:void 0===ns.loadedCallbacks[e]&&(ns.loadedCallbacks[e]=[]),ns.loadedCallbacks[e].push(t);break;case void 0:ns.libraryCache[e]=0,ns.loadedCallbacks[e]=[];var n=ns.libraryFromString(e),i=ns.getAjaxUrl("libraries",n);void 0!==ns.contentLanguage&&(i+=(-1===i.indexOf("?")?"?":"&")+"language="+ns.contentLanguage);const o=ns.defaultLanguage;void 0!==o&&(i+=(-1===i.indexOf("?")?"?":"&")+"default-language="+o),ns.$.ajax({url:i,success:function(n){n.translation={en:n.semantics};let i=[];null!==n.language&&(i=JSON.parse(n.language).semantics,delete n.language);var r=ns.$.extend(!0,[],n.semantics,i);null!==n.defaultLanguage&&(n.translation[o]=JSON.parse(n.defaultLanguage).semantics,delete n.defaultLanguage,ns.updateCommonFieldsDefault(r,n.translation[o])),n.semantics=r,ns.libraryCache[e]=n,ns.libraryRequested(e,(function(n){if(t(n),ns.loadedCallbacks[e])for(var i=0;i<ns.loadedCallbacks[e].length;i++)ns.loadedCallbacks[e][i](n)}))},error:function(e,t,n){void 0!==window.console&&(console.warn("Ajax request failed"),console.warn(e),console.warn(t),console.warn(n))},dataType:"json"})}},ns.updateCommonFieldsDefault=function(e,t,n){for(let i=0;i<e.length;i++){const o=!0===e[i].common||n;o&&void 0!==e[i].default&&void 0!==t[i]&&void 0!==t[i].default&&(e[i].default=t[i].default),void 0!==e[i].fields&&e[i].fields.length&&void 0!==t[i].fields&&t[i].fields.length&&ns.updateCommonFieldsDefault(e[i].fields,t[i].fields,o),void 0!==e[i].field&&void 0!==t[i].field&&ns.updateCommonFieldsDefault([e[i].field],[t[i].field],o)}},ns.resetLoadedLibraries=function(){ns.$("head style.h5p-editor-style").remove(),H5PIntegration.loadedCss=[],H5PIntegration.loadedJs=[],ns.loadedCallbacks=[],ns.libraryLoaded={}},ns.renderCommonField=function(e,t){var n,i=ns.renderableCommonFields[e].fields,o=[];if(i.forEach((function(e){if(!e.rendered){var t=ns.addCommonField(e.field,e.parent,e.params,e.ancestor,!0);1===t.setValues.length&&(o.push({field:e,instance:t.instance}),e.instance=t.instance)}e.rendered=!0})),o.length){var r=e===ns.constants.otherLibraries?e:e.length?e.split(" ")[0]:"";t.length&&t[0].title&&(r=t[0].title);var a=!!ns.renderableCommonFields[e].wrapper,s=ns.renderableCommonFields[e].wrapper;if(!a){s=document.createElement("fieldset");var l=r.replace(/\s+/g,"-").toLowerCase();s.classList.add("common-fields-library-wrapper"),s.classList.add("common-fields-"+l);var c=document.createElement("legend");c.classList.add("common-field-legend"),c.textContent=r,c.tabIndex="0",c.setAttribute("role","button"),c.addEventListener("click",(function(){s.classList.toggle("expanded")})),c.addEventListener("keypress",(function(e){32===e.which&&s.classList.toggle("expanded")})),s.appendChild(c),ns.renderableCommonFields[e].wrapper=s}o.forEach((function(e){if(e.instance.appendTo(ns.$(s)),e.field&&e.field.ancestor){n=e.field.ancestor;const t=e.field,i=t.parent.currentLibrary,o=t.field.name;n.commonFields[i][o].params=t.params[o]}})),!a&&n&&n.$common[0].appendChild(s)}},ns.getParentLibrary=function(e){return e?e.currentLibrary?e.currentLibrary:ns.getParentLibrary(e.parent):null},ns.processSemanticsChunk=function(e,t,n,i,o){var r;if(i.children=[],void 0===i.passReadies)throw"Widget tried to run processSemanticsChunk without handling ready callbacks. [field:"+i.field.type+":"+i.field.name+"]";i.passReadies||(i.readies=[]);for(var a=0;a<e.length;a++){var s=e[a];if(void 0===s.name)throw ns.t("core","missingProperty",{":index":a,":property":"name"});if(void 0===s.type)throw ns.t("core","missingProperty",{":index":a,":property":"type"});void 0===t[s.name]&&void 0!==s.default&&(t[s.name]=s.default);var l=ns.getWidgetName(s);if(void 0!==ns.widgets[l])if(void 0!==s.common&&s.common){void 0===r&&(r=ns.findAncestor(i));var c=ns.getParentLibrary(i),u=o||(s.library?s.library:c||ns.constants.otherLibraries);ns.renderableCommonFields[u]=ns.renderableCommonFields[u]||{},ns.renderableCommonFields[u].fields=ns.renderableCommonFields[u].fields||[],ns.renderableCommonFields[u].fields.push({field:s,parent:i,params:t,ancestor:r,rendered:!1})}else{var d=new ns.widgets[l](i,s,t[s.name],(function(e,n){void 0===n?delete t[e.name]:t[e.name]=n}));d.appendTo(n),i.children.push(d)}else n.append("<div>[field:"+s.type+":"+l+":"+s.name+"]</div>")}if(ns.renderableCommonFields)for(var f in ns.renderableCommonFields)f===ns.constants.otherLibraries?ns.renderCommonField(f):H5PEditor.LibraryListCache.getLibraries([f],ns.renderCommonField.bind(this,f));if(!i.passReadies){for(a=0;a<i.readies.length;a++)i.readies[a]();delete i.readies}},ns.setCommonFieldsWrapper=function(e,t){var n=ns.findAncestor(e);t.appendChild(n.$common[0])},ns.addCommonField=function(e,t,n,i,o){var r;if(void 0===i.commonFields[t.currentLibrary]&&(i.commonFields[t.currentLibrary]={}),void 0===i.commonFields[t.currentLibrary][e.name]){var a=ns.getWidgetName(e);i.commonFields[t.currentLibrary][e.name]={instance:new ns.widgets[a](t,e,n[e.name],(function(e,t){for(var n=0;n<r.setValues.length;n++)r.setValues[n](e,t)})),setValues:[],parents:[]}}return(r=i.commonFields[t.currentLibrary][e.name]).parents.push(ns.findLibraryAncestor(t)),r.setValues.push((function(e,t){void 0===t?delete n[e.name]:n[e.name]=t})),1===r.setValues.length?(i.$common.parent().removeClass("hidden"),o||r.instance.appendTo(i.$common),r.params=n[e.name]):n[e.name]=r.params,t.children.push(r.instance),r},ns.findLibraryAncestor=function(e){return void 0===e.parent||"library"===e.field.type?e:ns.findLibraryAncestor(e.parent)},ns.getParentZebra=function(e){return e.zebra?e.zebra:ns.getParentZebra(e.parent)},ns.findAncestor=function(e){return void 0===e.commonFields?ns.findAncestor(e.parent):e},ns.removeChildren=function(e){if(void 0!==e)for(var t=0;t<e.length;t++){var n=void 0===e[t].field||void 0===e[t].field.common||!e[t].field.common,i=e[t].remove instanceof Function||"function"==typeof e[t].remove;n&&i&&e[t].remove()}},ns.findField=function(e,t){if("string"==typeof e&&(e=e.split("/")),".."===e[0])return e.splice(0,1),ns.findField(e,t.parent);if(t.children)for(var n=0;n<t.children.length;n++)if(t.children[n].field.name===e[0])return e.splice(0,1),e.length?ns.findField(e,t.children[n]):t.children[n];return!1},ns.findSemanticsField=function(e,t){if(Array.isArray(t)){for(let i=0;i<t.length;i++){var n=ns.findSemanticsField(e,t[i]);if(null!==n)return n}return null}return t.name===e?t:t.field?ns.findSemanticsField(e,t.field):t.fields?ns.findSemanticsField(e,t.fields):null},ns.followField=function(e,t,n){void 0!==t&&e.ready((function(){var i;if(t instanceof Object){if(i=H5P.cloneObject(t),void 0===t.field)return void n(t,null);t=i.field,delete i.field}var o=ns.findField(t,e);if(!o)throw ns.t("core","unknownFieldPath",{":path":t});if(void 0===o.changes)throw ns.t("core","noFollow",{":path":t});var r=void 0===o.params?i:o.params;n(r,o.changes.length+1),o.changes.push((function(){var e=void 0===o.params?i:o.params;n(e)}))}))},ns.createError=function(e){return"<p>"+e+"</p>"},ns.createImportance=function(e){return e?"importance-"+e:""},ns.createItem=function(e,t,n,i){return'<div class="field '+e+'">'+(t||"")+(n?'<div class="h5peditor-field-description">'+n+"</div>":"")+(i||"")+'<div class="h5p-errors"></div></div>'},ns.createFieldMarkup=function(e,t,n){t=t||"";var i=this.createLabel(e,"",n)+this.createDescription(e.description,n)+t;return this.wrapFieldMarkup(e,i)},ns.createBooleanFieldMarkup=function(e,t,n){var i='<label class="h5peditor-label">'+t+(e.label||e.name||"")+"</label>"+this.createDescription(e.description,n);return this.wrapFieldMarkup(e,i)},ns.wrapFieldMarkup=function(e,t){return'<div class="'+this.joinNonEmptyStrings(["field","field-name-"+e.name,e.type,ns.createImportance(e.importance),e.widget])+'">'+t+'<div class="h5p-errors"></div></div>'},ns.joinNonEmptyStrings=function(e,t){return t=t||" ",e.filter((function(e){return void 0!==e&&e.length>0})).join(t)},ns.createOption=function(e,t,n){return'<option value="'+e+'"'+(void 0!==n&&n?' selected="selected"':"")+">"+t+"</option>"},ns.createText=function(e,t,n,i,o){var r='<input class="h5peditor-text" type="text"';return void 0!==i&&(r+=' id="'+i+'"'),void 0!==o&&(r+=' aria-describedby="'+o+'"'),void 0!==e&&(r+=' value="'+e+'"'),void 0!==n&&(r+=' placeholder="'+n+'"'),r+=' maxlength="'+(void 0===t?255:t)+'"/>'},ns.getNextFieldId=(n=-1,function(e){return"field-"+e.name.toLowerCase()+"-"+n++}),ns.getDescriptionId=function(e){return e+"-description"},ns.createLabel=function(e,t,n){var i='<label class="h5peditor-label-wrapper"';return void 0!==n&&(i+=' for="'+n+'"'),i+=">","coursepresentation"===e.widget&&"presentation"===e.name&&(e.label=0),0!==e.label&&(i+='<span class="h5peditor-label'+(e.optional?"":" h5peditor-required")+'">'+(void 0===e.label?e.name:e.label)+"</span>"),i+(t||"")+"</label>"},ns.createDescription=function(e,t){var n="";return void 0!==e&&(n+='<div class="h5peditor-field-description"',void 0!==t&&(n+=' id="'+ns.getDescriptionId(t)+'"'),n+=">"+e+"</div>"),n},ns.createImportantDescription=function(e){var t="";return void 0!==e&&(t+='<div class="h5peditor-field-important-description"><div class="important-description-tail"></div><div class="important-description-close" role="button" tabindex="0" aria-label="'+ns.t("core","hideImportantInstructions")+'"><span>'+ns.t("core","hide")+'</span></div><span class="h5p-info-icon"></span><span class="important-description-title">'+ns.t("core","importantInstructions")+"</span>",void 0!==e.description&&(t+='<div class="important-description-content">'+e.description+"</div>"),void 0!==e.example&&(t+='<div class="important-description-example"><div class="important-description-example-title"><span>'+ns.t("core","example")+':</span></div><div class="important-description-example-text"><span>'+e.example+"</span></div></div>"),t+='</div><span class="important-description-show" role="button" tabindex="0">'+ns.t("core","showImportantInstructions")+'</span><span class="important-description-clear-right"></span>'),t},ns.bindImportantDescriptionEvents=function(e,t,n){var i;if(e.field.important){var o=ns.findLibraryAncestor(n);if(void 0!==o.currentLibrary){var r=o.currentLibrary.split(" ")[0];i=(r+"-"+t).replace(/\.|_/g,"-")+"-important-description-open"}ns.storage.get(i,(function(t){void 0!==t&&!0!==t||e.$item.addClass("important-description-visible")})),e.$item.addClass("has-important-description"),e.$item.find(".important-description-show").click((function(){e.$item.addClass("important-description-visible"),ns.storage.set(i,!0)})).keydown((function(e){13!=e.which&&32!=e.which||(ns.$(this).trigger("click"),e.preventDefault())})),e.$item.find(".important-description-close").click((function(){e.$item.removeClass("important-description-visible"),ns.storage.set(i,!1)})).keydown((function(e){13!=e.which&&32!=e.which||(ns.$(this).trigger("click"),e.preventDefault())}))}},ns.createCopyPasteButtons=function(){return'<div class="h5peditor-copypaste-wrap"><button class="h5peditor-copy-button disabled" title="'+H5PEditor.t("core","copyToClipboard")+'" disabled>'+ns.t("core","copyButton")+'</button><button class="h5peditor-paste-button disabled" title="'+H5PEditor.t("core","pasteFromClipboard")+'" disabled>'+ns.t("core","pasteButton")+'</button></div><div class="h5peditor-clearfix"></div>'},ns.confirmReplace=function(e,t,n){if(e){var i=new H5P.ConfirmationDialog({headerText:H5PEditor.t("core","pasteContent"),dialogText:H5PEditor.t("core","confirmPasteContent"),confirmText:H5PEditor.t("core","confirmPasteButtonText")}).appendTo(document.body);i.on("confirmed",n),i.show(t)}else n()},ns.checkErrors=function(e,t,n){return e.children().length?(t.keyup((function(n){9!==n.keyCode&&(e.html(""),t.removeClass("error"),t.unbind("keyup"))})),!1):n},ns.libraryToString=function(e){return e.name+" "+e.majorVersion+"."+e.minorVersion},ns.libraryFromString=function(e){var t=/(.+)\s(\d+)\.(\d+)$/g.exec(e);return null!==t?{machineName:t[1],majorVersion:t[2],minorVersion:t[3]}:(H5P.error("Invalid Ã¼berName"),!1)},ns.getWidgetName=function(e){return void 0===e.widget?e.type:e.widget},ns.htmlspecialchars=function(e){return e.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},ns.createButton=function(e,t,n,i){var o={class:"h5peditor-button "+(i?"h5peditor-button-textual ":"")+e,role:"button",tabIndex:0,"aria-disabled":"false",on:{click:function(){n.call(this)},keydown:function(e){switch(e.which){case 13:case 32:n.call(this),e.preventDefault()}}}};return o[i?"html":"aria-label"]=t,ns.$("<div/>",o)},ns.enableMetadata=function(e){if(!e||"string"!=typeof e)return!1;if(!(e=H5P.libraryFromString(e)))return!1;let t=["H5P.IVHotspot 1.2","H5P.Link 1.3","H5P.TwitterUserFeed 1.0","H5P.GoToQuestion 1.3","H5P.Nil 1.0","H5P.Audio 1.2","H5P.Video 1.4","H5P.Image 1.0","H5P.DocumentExportPage 1.3","H5P.ExportableTextArea 1.2","H5P.GoalsAssessmentPage 1.3","H5P.GoalsPage 1.4","H5P.StandardPage 1.3","H5P.DragQuestion 1.12","H5P.ImageHotspotQuestion 1.7","H5P.CoursePresentation 1.19","H5P.InteractiveVideo 1.19"].filter((function(t){return-1!==t.indexOf(e.machineName+" ")}));return 0===t.length||(t=H5P.libraryFromString(t[0]),e.majorVersion>t.majorVersion||e.majorVersion===t.majorVersion&&e.minorVersion>t.minorVersion)},ns.attachToastTo=H5P.attachToastTo,ns.canPaste=function(e,t){return this.canPastePlus(e,t).canPaste},ns.canPastePlus=function(e,t){if(!e||!e.generic)return{canPaste:!1,reason:"pasteNoContent",description:ns.t("core","pasteNoContent")};if(void 0===t)return{canPaste:!1,reason:"pasteError",description:ns.t("core","pasteError")};void 0!==t.libraries&&(t=t.libraries).forEach((function(e){e.name=e.machineName,e.majorVersion=e.localMajorVersion,e.minorVersion=e.localMinorVersion}));const n=e.generic.library.split(" ")[0];let i=t.filter((function(e){return e.name===n}));if(0===i.length)return{canPaste:!1,reason:"pasteContentNotSupported",description:ns.t("core","pasteContentNotSupported")};const o=e.generic.library.split(" ")[1];for(let e=0;e<i.length;e++)if(i[e].majorVersion+"."+i[e].minorVersion===o)return!0!==i[e].restricted?{canPaste:!0}:{canPaste:!1,reason:"pasteContentRestricted",description:ns.t("core","pasteContentRestricted")};i=i.map((function(e){return e.majorVersion+"."+e.minorVersion})).map((function(e){return e.replace(/\d+/g,(function(e){return+e+1e3}))})).sort().map((function(e){return e.replace(/\d+/g,(function(e){return+e-1e3}))}));const r=i.slice(-1)[0];if(+r.split(".")[0]<+o.split(".")[0]||+r.split(".")[0]==+o.split(".")[0]&&+r.split(".")[1]<+o.split(".")[1])return{canPaste:!1,reason:"pasteTooNew",description:ns.t("core","pasteTooNew",{":clip":o,":local":r})};const a=i.slice(0,1)[0];return+a.split(".")[0]>+o.split(".")[0]||+a.split(".")[0]==+o.split(".")[0]&&+a.split(".")[1]>+o.split(".")[1]?{canPaste:!1,reason:"pasteTooOld",description:ns.t("core","pasteTooOld",{":clip":o,":local":a})}:{canPaste:!1,reason:"pasteError",description:ns.t("core","pasteError")}},ns.storage={get:function(e,t){var n;void 0!==window.localStorage&&(n=!!window.localStorage.getItem(e));try{H5P.getUserData(0,e,(function(e,i){e||(n=i),t(n)}))}catch(e){t(n)}},set:function(e,t){void 0!==window.localStorage&&window.localStorage.setItem(e,t);try{H5P.setUserData(0,e,t)}catch(e){}}},ns.ContentType=function(e){const t=e.split(" "),n=t[1].split(".");this.machineName=t[0],this.majorVersion=n[0],this.minorVersion=n[1]},ns.ContentType.getPossibleUpgrade=function(e,t){let n;for(let i=0;i<t.length;i++){const o=t[i];!1!==o.installed&&ns.ContentType.hasSameName(o,e)&&ns.ContentType.isHigherVersion(o,e)&&(n&&!ns.ContentType.isHigherVersion(o,n)||(n=o))}return n},ns.ContentType.isHigherVersion=function(e,t){return ns.ContentType.getMajorVersion(e)>ns.ContentType.getMajorVersion(t)||ns.ContentType.getMajorVersion(e)==ns.ContentType.getMajorVersion(t)&&ns.ContentType.getMinorVersion(e)>ns.ContentType.getMinorVersion(t)},ns.ContentType.hasSameName=function(e,t){return ns.ContentType.getName(e)===ns.ContentType.getName(t)},ns.ContentType.getNameVersionString=function(e){return ns.ContentType.getName(e)+" "+ns.ContentType.getMajorVersion(e)+"."+ns.ContentType.getMinorVersion(e)},ns.ContentType.getMajorVersion=function(e){return parseInt(void 0!==e.localMajorVersion?e.localMajorVersion:e.majorVersion)},ns.ContentType.getMinorVersion=function(e){return parseInt(void 0!==e.localMinorVersion?e.localMinorVersion:e.minorVersion)},ns.ContentType.getName=function(e){return void 0!==e.machineName?e.machineName:e.name},ns.upgradeContent=function(e,t,n,i){ns.loadJs(H5PIntegration.libraryUrl+"/h5p-version.js"+H5PIntegration.pluginCacheBuster,(function(o){ns.loadJs(H5PIntegration.libraryUrl+"/h5p-content-upgrade-process.js"+H5PIntegration.pluginCacheBuster,(function(o){new H5P.ContentUpgradeProcess(ns.ContentType.getName(e),new H5P.Version(e),new H5P.Version(t),JSON.stringify(n),1,(function(e,t,n){!function(e,t,n){const i=e+" "+t.major+"."+t.minor;ns.loadLibrary(i,(function(){n(null,ns.libraryCache[i])}))}(e,t,(function(i,o){o.upgradesScript?ns.loadJs(o.upgradesScript,(function(i){i&&(i="Error loading upgrades "+e+" "+t),n(i,o)})):n(null,o)}))}),(function(e,t){if(e){let t="Failed",n="Could not upgrade content";switch(e.type){case"errorTooHighVersion":n+=": "+ns.t("core","errorTooHighVersion",{"%used":e.used,"%supported":e.supported});break;case"errorNotSupported":n+=": "+ns.t("core","errorNotSupported",{"%used":e.used});break;case"errorParamsBroken":n+=": "+ns.t("core","errorParamsBroken");break;case"libraryMissing":n+=": "+ns.t("core","libraryMissing",{"%lib":e.library});break;case"scriptMissing":n+=": "+ns.t("core","scriptMissing",{"%lib":e.library})}new H5P.ConfirmationDialog({headerText:t,dialogText:n,confirmText:"Continue"}).appendTo(document.body).show()}i(e,t)}))}))}))},ns.supportedLanguages={aa:"Afar",ab:"Abkhazian (Ð°Ò§ÑÑÐ° Ð±ÑÐ·ÑÓÐ°)",ae:"Avestan",af:"Afrikaans",ak:"Akan",am:"Amharic (á áá­á)",ar:"Arabic (Ø§ÙØ¹Ø±Ø¨ÙØ©)",as:"Assamese",ast:"Asturian",av:"Avar",ay:"Aymara",az:"Azerbaijani (azÉrbaycan)",ba:"Bashkir",be:"Belarusian (ÐÐµÐ»Ð°ÑÑÑÐºÐ°Ñ)",bg:"Bulgarian (ÐÑÐ»Ð³Ð°ÑÑÐºÐ¸)",bh:"Bihari",bi:"Bislama",bm:"Bambara (Bamanankan)",bn:"Bengali",bo:"Tibetan",br:"Breton",bs:"Bosnian (Bosanski)",ca:"Catalan (CatalÃ )",ce:"Chechen",ch:"Chamorro",co:"Corsican",cr:"Cree",cs:"Czech (ÄeÅ¡tina)",cu:"Old Slavonic",cv:"Chuvash",cy:"Welsh (Cymraeg)",da:"Danish (Dansk)",de:"German (Deutsch)",dv:"Maldivian",dz:"Bhutani",ee:"Ewe (ÆÊÉ)",el:"Greek (ÎÎ»Î»Î·Î½Î¹ÎºÎ¬)",en:"English","en-gb":"English, British",eo:"Esperanto",es:"Spanish (EspaÃ±ol)","es-mx":"Spanish, Mexican",et:"Estonian (Eesti)",eu:"Basque (Euskera)",fa:"Persian (ÙØ§Ø±Ø³Û)",ff:"Fulah (Fulfulde)",fi:"Finnish (Suomi)",fil:"Filipino",fj:"Fiji",fo:"Faeroese",fr:"French (FranÃ§ais)",fy:"Frisian (Frysk)",ga:"Irish (Gaeilge)",gd:"Scots Gaelic",gl:"Galician (Galego)",gn:"Guarani","gsw-berne":"Swiss German",gu:"Gujarati",gv:"Manx",ha:"Hausa",he:"Hebrew (×¢××¨××ª)",hi:"Hindi (à¤¹à¤¿à¤¨à¥à¤¦à¥)",ho:"Hiri Motu",hr:"Croatian (Hrvatski)",ht:"Haitian Creole",hu:"Hungarian (Magyar)",hy:"Armenian (ÕÕ¡ÕµÕ¥ÖÕ¥Õ¶)",hz:"Herero",ia:"Interlingua",id:"Indonesian (Bahasa Indonesia)",ie:"Interlingue",ig:"Igbo",ik:"Inupiak",is:"Icelandic (Ãslenska)",it:"Italian (Italiano)",iu:"Inuktitut",ja:"Japanese (æ¥æ¬èª)",jv:"Javanese",ka:"Georgian",kg:"Kongo",ki:"Kikuyu",kj:"Kwanyama",kk:"Kazakh (ÒÐ°Ð·Ð°Ò)",kl:"Greenlandic",km:"Cambodian",kn:"Kannada (à²à²¨à³à²¨à²¡)",ko:"Korean (íêµ­ì´)",kr:"Kanuri",ks:"Kashmiri",ku:"Kurdish (KurdÃ®)",kv:"Komi",kw:"Cornish",ky:"Kyrgyz (ÐÑÑÐ³ÑÐ·ÑÐ°)",la:"Latin (Latina)",lb:"Luxembourgish",lg:"Luganda",ln:"Lingala",lo:"Laothian",lt:"Lithuanian (LietuviÅ³)",lv:"Latvian (LatvieÅ¡u)",mg:"Malagasy",mh:"Marshallese",mi:"MÄori",mk:"Macedonian (ÐÐ°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸)",ml:"Malayalam (à´®à´²à´¯à´¾à´³à´)",mn:"Mongolian",mo:"Moldavian",mr:"Marathi",ms:"Malay (Bahasa Melayu)",mt:"Maltese (Malti)",my:"Burmese",na:"Nauru",nd:"North Ndebele",ne:"Nepali",ng:"Ndonga",nl:"Dutch (Nederlands)",nb:"Norwegian BokmÃ¥l (BokmÃ¥l)",nn:"Norwegian Nynorsk (Nynorsk)",nr:"South Ndebele",nv:"Navajo",ny:"Chichewa",oc:"Occitan",om:"Oromo",or:"Oriya",os:"Ossetian",pa:"Punjabi",pi:"Pali",pl:"Polish (Polski)",ps:"Pashto (Ù¾ÚØªÙ)",pt:"Portuguese, International","pt-pt":"Portuguese, Portugal (PortuguÃªs)","pt-br":"Portuguese, Brazil (PortuguÃªs)",qu:"Quechua",rm:"Rhaeto-Romance",rn:"Kirundi",ro:"Romanian (RomÃ¢nÄ)",ru:"Russian (Ð ÑÑÑÐºÐ¸Ð¹)",rw:"Kinyarwanda",sa:"Sanskrit",sc:"Sardinian",sco:"Scots",sd:"Sindhi",se:"Northern Sami",sg:"Sango",sh:"Serbo-Croatian",si:"Sinhala (à·à·à¶à·à¶½)",sk:"Slovak (SlovenÄina)",sl:"Slovenian (SlovenÅ¡Äina)",sm:"Samoan",sma:"SÃ¡mi (Southern)",sme:"SÃ¡mi (Northern)",smj:"SÃ¡mi (Lule)",sn:"Shona",so:"Somali",sq:"Albanian (Shqip)",sr:"Serbian (Ð¡ÑÐ¿ÑÐºÐ¸)",ss:"Siswati",st:"Sesotho",su:"Sudanese",sv:"Swedish (Svenska)",sw:"Swahili (Kiswahili)",ta:"Tamil (à®¤à®®à®¿à®´à¯)",te:"Telugu (à°¤à±à°²à±à°à±)",tg:"Tajik",th:"Thai (à¸ à¸²à¸©à¸²à¹à¸à¸¢)",ti:"Tigrinya",tk:"Turkmen",tl:"Tagalog",tn:"Setswana",to:"Tonga",tr:"Turkish (TÃ¼rkÃ§e)",ts:"Tsonga",tt:"Tatar (TatarÃ§a)",tw:"Twi",ty:"Tahitian",ug:"Uyghur",uk:"Ukrainian (Ð£ÐºÑÐ°ÑÐ½ÑÑÐºÐ°)",ur:"Urdu (Ø§Ø±Ø¯Ù)",uz:"Uzbek (o'zbek)",ve:"Venda",vi:"Vietnamese (Tiáº¿ng Viá»t)",wo:"Wolof",xh:"Xhosa (isiXhosa)","xx-lolspeak":"Lolspeak)",yi:"Yiddish",yo:"Yoruba (YorÃ¹bÃ¡)",za:"Zhuang",zh:"Chinese","zh-hans":"Chinese, Simplified (ç®ä½ä¸­æ)","zh-hant":"Chinese, Traditional (ç¹é«ä¸­æ)","zh-tw":"Chinese, Taiwan, Traditional",zu:"Zulu (isiZulu)"}},function(e,t){H5PEditor.SemanticStructure=function(e){function t(t,o){var r=this;H5P.EventDispatcher.call(r),r.label=void 0===t.label?t.name:t.label,r.field={};const a=H5PEditor.getNextFieldId(t),s=void 0!==t.description?H5PEditor.getDescriptionId(a):void 0;var l,c,u,d,f,h,p=function(t,n){var o=e("<li/>",{class:"h5peditor-widget-option"+(n?" "+i:""),text:t.label,role:"button",tabIndex:1,on:{click:function(){l.children("."+i).removeClass(i),o.addClass(i),E(t.name)}}}).appendTo(l)},m=function(){if(void 0===t.widgets)return[o];if(!(t.widgets instanceof Array))throw TypeError("widgets must be an array");for(var e=[],n=0;n<t.widgets.length;n++){var i=t.widgets[n];g(i.name)&&e.push(i)}return e.length||e.push(r.default),e},g=function(e){return H5PEditor[e]},E=function(e){void 0!==r.widget&&(r.validate(),r.widget.remove());var t=g(e);r.widget=new t(r),r.trigger("changeWidget"),r.widget.appendTo(u),d.appendTo(u),void 0!==r.widget.helpText?f.html(r.widget.helpText).appendTo(u):f.detach()};r.appendTo=function(e){E(h[0].name),c.appendTo(e)},r.remove=function(){r.widget.remove(),c.remove()},r.setError=function(e){d.append(H5PEditor.createError(e))},r.clearErrors=function(){d.html("")},r.getName=function(){return t.name},r.getId=function(){return a},r.getDescriptionId=function(){return s},function(){var i;if(c=e("<div/>",{class:"field "+t.type+" "+H5PEditor.createImportance(t.importance)}),0!==t.label&&n(r.label,t.optional,a).appendTo(c),void 0!==t.description&&(i=e("<div/>",{id:s,class:"h5peditor-field-description",text:t.description,appendTo:c})).html(i.html().replace("\n","<br/>")),(h=m()).length>1){l=e("<ul/>",{class:"h5peditor-widget-select",title:H5PEditor.t("core","editMode"),appendTo:c});for(var o=0;o<h.length;o++)p(h[o],0===o);c.addClass("h5peditor-widgets")}u=e("<div/>",{class:"h5peditor-widget-wrapper"+(h.length>1?" content":" "),appendTo:c}),d=e("<div/>",{class:"h5p-errors"}),f=e("<div/>",{class:"h5p-help-text"})}()}t.prototype=Object.create(H5P.EventDispatcher.prototype),t.prototype.constructor=t;var n=function(t,n,i){return e("<label/>",{for:i,class:"h5peditor-label"+(n?"":" h5peditor-required"),text:t})},i="h5peditor-widget-active";return t}(H5P.jQuery)},function(e,t){window.ns=window.H5PEditor=window.H5PEditor||{},ns.Editor=function(e,t,n,i){var o=this;e=e&&0!=e?e:"";var r=ns.$("<iframe/>",{css:{display:"block",width:"100%",height:"3em",border:"none",zIndex:101,top:0,left:0},class:"h5p-editor-iframe",frameBorder:"0",allowfullscreen:"allowfullscreen",allow:"fullscreen"}),a=r.get(0),s=function(){a.contentDocument&&(a.contentDocument.open(),a.contentDocument.write("<!doctype html><html><head>"+ns.wrap('<link rel="stylesheet" href="',ns.assets.css,'">')+ns.wrap('<script src="',ns.assets.js,'"><\/script>')+'</head><body><div class="h5p-editor h5peditor">'+ns.t("core","loading")+"</div></body></html>"),a.contentDocument.close(),a.contentDocument.documentElement.style.overflow="hidden")},l=function(){if(a.contentDocument&&a.contentDocument.body&&!o.preventResize&&(a.clientHeight!==a.contentDocument.body.scrollHeight||a.contentDocument.body.scrollHeight!==a.contentWindow.document.body.clientHeight&&a.contentDocument.body.scrollHeight-1!==a.contentWindow.document.body.clientHeight&&a.contentDocument.body.scrollHeight!==a.contentWindow.document.body.clientHeight-1)){var e=a.parentElement.style.height;a.parentElement.style.height=a.parentElement.clientHeight+"px",a.style.height=a.contentWindow.document.body.clientHeight+"px",a.style.height=a.contentDocument.body.scrollHeight+"px",a.parentElement.style.height=e}};r.replaceAll(n),r.load((function(){if(a.contentWindow.H5P){i&&i.call(this.contentWindow),o.iframeWindow=this.contentWindow;var n,c,u=this.contentWindow.H5PEditor.LibrarySelector,d=this.contentWindow.H5P.jQuery,f=d("body > .h5p-editor");if(this.contentWindow.H5P.$body=d(this.contentDocument.body),this.contentWindow.H5PEditor.semiFullscreen=function(e,t,n){const i=o.semiFullscreen(r,e,n);return t(),i},d.ajax({url:this.contentWindow.H5PEditor.getAjaxUrl(H5PIntegration.hubIsEnabled?"content-type-cache":"libraries")}).fail((function(){f.html("Error, unable to load libraries.")})).done((function(n){if(!1!==n.success){o.selector=new u(n,e,t),o.selector.appendTo(f.html("")),o.selector.on("resize",l);var i=function(e){H5P.externalDispatcher.trigger(e)};o.selector.on("editorload",i),o.selector.on("editorloaded",i),e&&o.selector.setLibrary(e)}else f.html(n.message+" ("+n.errorCode+")")})),void 0!==a.contentWindow.MutationObserver){var h,p=function(){h||(h=setTimeout((function(){l(),h=null}),40))};new a.contentWindow.MutationObserver(p).observe(a.contentWindow.document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}),H5P.$window.resize(p),l()}else!function e(){l(),setTimeout(e,40)}();n=d(a.contentWindow),c=function(){o.formSubmitted||(e=o.getLibrary(),t=JSON.stringify(o.getParams(!0)))},n.one("beforeunload unload",(function(){n.off("pagehide beforeunload unload"),c()})),n.on("pagehide",c)}else setTimeout((function(){s()}),0)})),s()},ns.Editor.prototype.getLibrary=function(){return void 0!==this.selector?this.selector.getCurrentLibrary():this.selectedContentTypeId?this.selectedContentTypeId:void console.warn('no selector defined for "getLibrary"')},ns.Editor.prototype.getParams=function(e){if(e||(this.formSubmitted=!0),void 0!==this.selector)return{params:this.selector.getParams(),metadata:this.selector.getMetadata()};console.warn('no selector defined for "getParams"')},ns.Editor.prototype.getContent=function(e,t){const n=this.iframeWindow.H5PEditor;if(!this.selector.form)return void(t&&t("content-not-selected"));const i={title:this.isMainTitleSet(),library:this.getLibrary(),params:this.getParams()};if(!i.title)return void(t&&t("missing-title"));if(!i.library)return void(t&&t("missing-library"));if(!i.params)return void(t&&t("missing-params"));if(!i.params.params)return void(t&&t("missing-params-params"));const o=document.createElement("div");o.innerHTML=i.title,i.title=o.textContent,library=new n.ContentType(i.library);const r=n.ContentType.getPossibleUpgrade(library,void 0!==this.selector.libraries.libraries?this.selector.libraries.libraries:this.selector.libraries);r?n.upgradeContent(library,r,i.params,(function(o,a){o?t&&t(o):(i.library=n.ContentType.getNameVersionString(r),i.params=a,e(i))})):(i.params=JSON.stringify(i.params),e(i))},ns.Editor.prototype.isMainTitleSet=function(){var e=this.selector.form.metadataForm.getExtraTitleField(),t=e.validate();return t||e.$input.focus(),t},ns.Editor.prototype.getMaxScore=function(e){try{return this.selector.presave(e,this.getLibrary()).maxScore}catch(e){return 0}},ns.Editor.prototype.semiFullscreen=function(e,t,n){const i=this,o=e.add(t).addClass("h5peditor-semi-fullscreen");i.preventResize=!0;const r=document.body.style.getPropertyValue("overflow"),a=document.body.style.getPropertyPriority("overflow");document.body.style.setProperty("overflow","hidden","important"),e.css({width:"",height:"",zIndex:"",top:"",left:""});const s=e[0].contentWindow,l=ns.hideAllButOne(e[0],s),c=ns.hideAllButOne(t[0],window),u=function(e){27===e.which&&d()};s.document.body.addEventListener("keyup",u);const d=function(){o.removeClass("h5peditor-semi-fullscreen"),i.preventResize=!1,document.body.style.setProperty("overflow",r,a),e.css({width:"100%",height:"3em",zIndex:101,top:0,left:0}),l(),c(),s.document.body.removeEventListener("keyup",u),n()};return d},ns.hideAllButOne=function(e,t){const n=[],i=function(e){return null!==e.offsetParent||"none"!==t.getComputedStyle(e).display},o=function(e){for(let t=0;t<e.parentElement.children.length;t++){let o=e.parentElement.children[t];o!==e&&(i(o)&&(n.push({element:o,display:o.style.getPropertyValue("display"),priority:o.style.getPropertyPriority("display")}),o.style.setProperty("display","none","important")))}"BODY"!==e.parentElement.tagName&&o(e.parentElement)};return o(e),function(){for(let e=n.length-1;e>-1;e--)n[e].element.style.setProperty("display",n[e].display,n[e].priority)}},ns.language={},ns.t=function(e,t,n){if(void 0===ns.language[e])return"Missing translations for library "+e;var i;if("core"===e){if(void 0===ns.language[e][t])return"Missing translation for "+t;i=ns.language[e][t]}else{if(void 0===ns.language[e].libraryStrings||void 0===ns.language[e].libraryStrings[t])return ns.t("core","missingTranslation",{":key":t});i=ns.language[e].libraryStrings[t]}for(var o in n)void 0!==n[o]&&(i=i.replace(o,n[o]));return i},ns.wrap=function(e,t,n){for(var i="",o=0;o<t.length;o++)i+=e+t[o]+n;return i}},function(e,t){ns.LibrarySelector=function(e,t,n){var i=this;this.libraries=e,H5P.EventDispatcher.call(this);try{if(this.defaultParams=JSON.parse(n),!(this.defaultParams instanceof Object))throw!0}catch(e){this.defaultParams={}}this.defaultLibrary=this.currentLibrary=t,this.defaultLibraryParameterized=t?t.replace(".","-").toLowerCase():void 0,this.$tutorialUrl=ns.$('<a class="h5p-tutorial-url" target="_blank">'+ns.t("core","tutorial")+"</a>").hide(),this.$exampleUrl=ns.$('<a class="h5p-example-url" target="_blank">'+ns.t("core","example")+"</a>").hide();var o=new H5P.ConfirmationDialog({headerText:H5PEditor.t("core","changeLibrary"),dialogText:H5PEditor.t("core","confirmChangeLibrary")}).appendTo(document.body);H5PIntegration.hubIsEnabled?this.selector=new ns.SelectorHub(e,t,o):this.selector=new ns.SelectorLegacy(e,t,o),this.$selector=ns.$(this.selector.getElement());var r=function(e){i.currentLibrary=e.uberName,i.loadSemantics(e.uberName,i.selector.getParams(),i.selector.getMetadata()),i.$tutorialUrl.attr("href",e.tutorialUrl?e.tutorialUrl:"#").toggle(!!e.tutorialUrl),i.$exampleUrl.attr("href",e.exampleUrl?e.exampleUrl:"#").toggle(!!e.exampleUrl)},a=function(){i.trigger("editorload",i.selector.currentLibrary),i.selector.getSelectedLibrary(r)};this.confirmPasteError=function(e,t,n){var i=new H5P.ConfirmationDialog({headerText:H5PEditor.t("core","pasteError"),dialogText:e,cancelText:" ",confirmText:H5PEditor.t("core","ok")}).appendTo(document.body);i.on("confirmed",n),i.show(t)},o.on("confirmed",a),o.on("canceled",(function(){i.selector.resetSelection(i.currentLibrary,i.defaultParams,i.form.metadata,!0)})),this.selector.on("selected",a),this.selector.on("resize",(function(){i.trigger("resize")})),this.on("select",a),H5P.externalDispatcher.on("datainclipboard",this.updateCopyPasteButtons.bind(this)),this.selector.on("paste",this.pasteContent.bind(this))},ns.LibrarySelector.prototype=Object.create(H5P.EventDispatcher.prototype),ns.LibrarySelector.prototype.constructor=ns.LibrarySelector,ns.LibrarySelector.prototype.setLibrary=function(e){this.trigger("select")},ns.LibrarySelector.prototype.appendTo=function(e){var t=this;if(this.$parent=e,this.$selector.appendTo(e),this.$tutorialUrl.appendTo(e),this.$exampleUrl.appendTo(e),window.localStorage){var n=ns.$(ns.createCopyPasteButtons()).appendTo(e);n.addClass("hidden"),t.on("editorloaded",(function(){n.removeClass("hidden")})),this.$copyButton=n.find(".h5peditor-copy-button").click((function(){H5P.clipboardify({library:t.getCurrentLibrary(),params:t.getParams(),metadata:t.getMetadata()}),ns.attachToastTo(t.$copyButton.get(0),H5PEditor.t("core","copiedToClipboard"),{position:{horizontal:"center",vertical:"above",noOverflowX:!0}})})),this.$pasteButton=n.find(".h5peditor-paste-button").click(t.pasteContent.bind(this)),t.updateCopyPasteButtons()}},ns.LibrarySelector.prototype.updateCopyPasteButtons=function(){if(!window.localStorage)return;const e=ns.canPastePlus(H5P.getClipboard(),this.libraries),t=e.canPaste;this.$copyButton.prop("disabled",!1).toggleClass("disabled",!1),this.$pasteButton.text(ns.t("core","pasteAndReplaceButton")).attr("title",t?ns.t("core","pasteAndReplaceFromClipboard"):e.description).toggleClass("disabled",!t).prop("disabled",!t),this.selector.setCanPaste&&this.selector.setCanPaste(t,t?void 0:e.description)},ns.LibrarySelector.prototype.pasteContent=function(){var e=this,t=H5P.getClipboard();ns.confirmReplace(e.getCurrentLibrary(),e.$parent.offset().top,(function(){e.selector.resetSelection(t.generic.library,t.generic.params,t.generic.metadata,!1),e.setLibrary()}))},ns.LibrarySelector.prototype.loadSemantics=function(e,t,n){var i=this;if(void 0!==this.form&&this.form.remove(),"-"!==e){this.$parent.attr("class","h5peditor "+e.split(" ")[0].toLowerCase().replace(".","-")+"-editor");var o=ns.$('<div class="h5peditor-loading h5p-throbber">'+ns.t("core","loading")+"</div>").appendTo(this.$parent);this.$selector.attr("disabled",!0),ns.resetLoadedLibraries(),ns.loadLibrary(e,(function(r){if(r){var a={};t?(a=t,i.defaultParams=a):e!==i.defaultLibrary&&e!==i.defaultLibraryParameterized||(a=i.defaultParams),n||(n=a.metadata);const s=n&&n.defaultLanguage?n.defaultLanguage:null;i.form=new ns.Form(e,ns.libraryCache[e].languages,s),i.form.replace(o),i.form.currentLibrary=e,i.form.processSemantics(r,a,n),i.updateCopyPasteButtons()}else i.form=ns.$("<div/>",{class:"h5p-errors",text:H5PEditor.t("core","noSemantics"),insertAfter:o});i.$selector.attr("disabled",!1),o.remove(),i.trigger("editorloaded",e)}))}else this.$parent.attr("class","h5peditor")},ns.LibrarySelector.prototype.getCurrentLibrary=function(){return this.currentLibrary},ns.LibrarySelector.prototype.getParams=function(){if(void 0!==this.form){if(void 0!==this.form.metadataForm.children)for(var e=0;e<this.form.metadataForm.children.length;e++)this.form.metadataForm.children[e].validate();if(void 0!==this.form.children)for(e=0;e<this.form.children.length;e++)this.form.children[e].validate();return this.form.params}},ns.LibrarySelector.prototype.getMetadata=function(){if(void 0!==this.form)return this.form.metadata},ns.LibrarySelector.prototype.presave=function(e,t){return(new ns.Presave).process(t,e)}},function(e,t){H5PEditor.FullscreenBar=function(e){const t=function(e,t,n,i){void 0===i&&(i=t);const o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("h5peditor-form-manager-button"),o.classList.add("h5peditor-form-manager-"+e),o.setAttribute("aria-label",i),o.addEventListener("click",n);const r=document.createElement("span");return r.classList.add("h5peditor-form-manager-button-inner"),r.innerText=t,r.tabIndex=-1,o.appendChild(r),o};return function(e,n){const i=H5PEditor.libraryCache[n]?H5PEditor.libraryCache[n].title:n,o=n.split(" ")[0].split(".")[1].toLowerCase();let r,a=!1;e.addClass("h5peditor-form-manager");const s=ns.$("<div/>",{class:"h5peditor-form-manager-head"}),l=ns.$("<div/>",{class:"h5peditor-form-manager-breadcrumb",appendTo:s}),c=(ns.$("<div/>",{class:"h5peditor-form-manager-title "+o,text:i,appendTo:l}),t("fullscreen","",(function(){a?r():r=H5PEditor.semiFullscreen(e,(function(){c.setAttribute("aria-label",H5PEditor.t("core","exitFullscreenButtonLabel")),a=!0}),(function(){c.setAttribute("aria-label",H5PEditor.t("core","enterFullscreenButtonLabel")),a=!1}))}),H5PEditor.t("core","enterFullscreenButtonLabel"))),u=t("proceed",H5PEditor.t("core","proceedButtonLabel"),(function(){r()}));s.append(u),s.append(c),e.prepend(s)}}(ns.jQuery)},function(e,t){ns.Form=function(e,t,n){var i=this;this.params={},this.passReadies=!1,this.commonFields={},this.$form=ns.$('<div class="h5peditor-form"><div class="tree"></div><div class="common collapsed hidden"><div class="fields"><p class="desc">'+ns.t("core","commonFieldsDescription")+'</p><div class="h5peditor-language-switcher"><label class="language-label" for="h5peditor-language-switcher">'+ns.t("core","language")+':</label><select id="h5peditor-language-switcher"><option value="-">'+ns.t("core","noLanguagesSupported")+'</option></select></div><div class="h5peditor-language-notice"><div class="first"></div><div class="last"></div></div></div></div></div>'),this.$common=this.$form.find(".common > .fields"),void 0!==ns.FullscreenBar&&-1===e.indexOf("H5P.CoursePresentation")&&-1===e.indexOf("H5P.BranchingScenario")&&-1===e.indexOf("H5P.InteractiveVideo")&&ns.FullscreenBar(this.$form,e),i.$commonButton=ns.$("<div/>",{class:"h5peditor-label","aria-expanded":"false",title:ns.t("core","expandCollapse"),role:"button",tabIndex:0,html:'<span class="icon"></span>'+ns.t("core","commonFields"),on:{click:function(){l()},keypress:function(e){32===(e.charCode||e.keyCode)&&(l(),e.preventDefault())}},prependTo:this.$common.parent()}),this.zebra="odd";const o=this.$form.find(".h5peditor-language-switcher select"),r=this.$form.find(".h5peditor-language-notice"),a=[],s={};ns.defaultLanguage=ns.contentLanguage,n&&(ns.defaultLanguage=n);const l=function(){const e=i.$common.parent().hasClass("collapsed")?"true":"false";i.$commonButton.attr("aria-expanded",e),i.$common.parent().toggleClass("collapsed")},c=function(){let e="";for(let t in s){let n=ns.supportedLanguages[t]?ns.supportedLanguages[t]:t.toLocaleUpperCase();e+='<option value="'+t+'"'+(t===ns.defaultLanguage?" selected":"")+">"+n+"</option>"}return e},u=function(e,t,n){for(let i=0;i<t.length;i++){if(t[i]===e)return n[i];if(void 0!==t[i].fields&&t[i].fields.length&&void 0!==n[i].fields&&n[i].fields.length){const o=u(e,t[i].fields,n[i].fields);if(void 0!==o)return o}if(void 0!==t[i].field&&void 0!==n[i].field){const o=u(e,[t[i].field],[n[i].field]);if(void 0!==o)return o}}},d=function(e,t){if(void 0!==e.default)return e.default;if(void 0!==e.fields&&e.fields.length){if(1===e.fields.length)return d(e.fields[0],t.fields[0]);const n={};for(let i=0;i<e.fields.length;i++)n[t.fields[i].name]=d(e.fields[i],t.fields[i]);return n}return void 0!==e.field?d(e.field,t.field):void 0};i.addLanguages=function(e,t){for(let n=0;n<t.length;n++){const i=t[n];void 0===s[i]?s[i]=[e]:s[i].push(e)}a.push(e),o.html(c())},i.removeLanguages=function(e,t){for(let n=0;n<t.length;n++){const i=t[n];void 0!==s[i]&&(1===s[i].length?delete s[i]:s[i].splice(s[i].indexOf(e),1))}a.splice(a.indexOf(e),1),o.html(c())},o.change((function(e){const t=new H5P.ConfirmationDialog({headerText:ns.t("core","changeLanguage",{":language":ns.supportedLanguages[this.value]?ns.supportedLanguages[this.value]:this.value.toLocaleUpperCase()}),dialogText:ns.t("core","thisWillPotentially")}).appendTo(document.body);t.on("confirmed",(function(){const e=ns.defaultLanguage=o.val(),t=ns.supportedLanguages[e]?ns.supportedLanguages[e]:e.toLocaleUpperCase();i.metadata.defaultLanguage=e,i.params=i.setSubContentDefaultLanguage(i.params,e),s[e].length!==a.length?(r.children(".first").html(ns.t("core","notAllTextsChanged",{":language":t})),r.children(".last").html(ns.t("core","contributeTranslations",{":language":t,":url":"https://h5p.org/contributing#translating"})),r.addClass("show")):r.removeClass("show"),o.prop("disabled","disabled"),function(e,t){const n=[];for(let t in ns.libraryCache)0!==ns.libraryCache[t]&&void 0!==ns.libraryCache[t].translation[e]||n.push(t);n.length?ns.$.post(ns.getAjaxUrl("translations",{language:e}),{libraries:n},(function(n){for(let t in n.data)ns.libraryCache[t].translation[e]=JSON.parse(n.data[t]).semantics;t()})):t()}(e,(function(){!function(e){s[e];for(let t in ns.libraryCache){if(ns.renderableCommonFields[t]&&ns.renderableCommonFields[t].fields)for(let n=0;n<ns.renderableCommonFields[t].fields.length;n++){const i=ns.renderableCommonFields[t].fields[n],o=ns.libraryCache[t].translation[e];if(void 0===i.instance||void 0===o)continue;const r=u(i.field,ns.libraryCache[t].semantics,o),a=d(r,i.field);i.instance.forceValue(a)}void 0!==ns.libraryCache[t].translation[e]&&ns.updateCommonFieldsDefault(ns.libraryCache[t].semantics,ns.libraryCache[t].translation[e])}}(e),o.prop("disabled",!1)}))})),t.on("canceled",(function(){o.val(ns.defaultLanguage)})),t.show(o.offset().top)})),i.addLanguages(e,t)},ns.Form.prototype.setSubContentDefaultLanguage=function(e,t){if(!e)return e;const n=this;if(Array.isArray(e))e=e.map((function(e){return n.setSubContentDefaultLanguage(e,t)}));else if("object"==typeof e){e.metadata&&(e.metadata.defaultLanguage=t);for(let n in e)e.hasOwnProperty(n)&&(e[n]=this.setSubContentDefaultLanguage(e[n],t))}return e},ns.Form.prototype.replace=function(e){e.replaceWith(this.$form),this.offset=this.$form.offset(),this.$form.on("keydown","input,select",(function(e){if(13===e.keyCode)return!1}))},ns.Form.prototype.remove=function(){ns.removeChildren(this.metadataForm.children),ns.removeChildren(this.children),ns.renderableCommonFields={},this.$form.remove()},ns.Form.prototype.processSemantics=function(e,t,n){if(this.metadata=n||(t.metadata||{}),this.metadata.defaultLanguage||(this.metadata.defaultLanguage=ns.defaultLanguage),ns.enableMetadata(this.currentLibrary))this.metadataForm=new ns.MetadataForm(this,this.metadata,this.$form.children(".tree"),!0);else switch(this.metadataForm=H5PEditor.MetadataForm.createLegacyForm(this.metadata,this.$form.children(".tree")),this.currentLibrary.split(" ")[0]){case"H5P.InteractiveVideo":case"H5P.DragQuestion":case"H5P.ImageHotspotQuestion":this.metadataForm.getExtraTitleField().$item.css("padding","20px 20px 0 20px");break;case"H5P.CoursePresentation":this.metadataForm.getExtraTitleField().$item.css("padding-bottom","1em")}this.params=t.params?t.params:t,ns.processSemanticsChunk(e,this.params,this.$form.children(".tree"),this)},ns.Form.prototype.ready=function(e){this.readies.push(e)}},function(e,t){ns.Text=function(e,t,n,i){this.field=t,this.value=n,this.setValue=i,this.changeCallbacks=[]},ns.Text.prototype.appendTo=function(e){var t=this;this.$item=ns.$(this.createHtml()).appendTo(e),this.$input=this.$item.find("input"),this.$errors=this.$item.children(".h5p-errors"),this.$input.change((function(){var e=t.validate();if(!1!==e){""===H5P.trim(e)?(delete t.value,t.setValue(t.field)):(t.value=e,t.setValue(t.field,ns.htmlspecialchars(e)));for(var n=0;n<t.changeCallbacks.length;n++)t.changeCallbacks[n](e)}}))},ns.Text.prototype.change=function(e){return this.changeCallbacks.push(e),e(),this.changeCallbacks.length-1},ns.Text.prototype.createHtml=function(){const e=ns.getNextFieldId(this.field),t=void 0!==this.field.description?ns.getDescriptionId(e):void 0;var n=ns.createText(this.value,this.field.maxLength,this.field.placeholder,e,t);return ns.createFieldMarkup(this.field,n,e)},ns.Text.prototype.validate=function(){var e=H5P.trim(this.$input.val()),t=!0;return this.$errors.html(""),void 0!==this.field.optional&&this.field.optional||e.length?e.length>this.field.maxLength?(this.$errors.append(ns.createError(ns.t("core","tooLong",{":max":this.field.maxLength}))),t=!1):void 0!==this.field.regexp&&e.length&&!e.match(new RegExp(this.field.regexp.pattern,this.field.regexp.modifiers))&&(this.$errors.append(ns.createError(ns.t("core","invalidFormat"))),t=!1):(this.$errors.append(ns.createError(ns.t("core","requiredProperty",{":property":ns.t("core","textField")}))),t=!1),this.$input.toggleClass("error",!t),ns.checkErrors(this.$errors,this.$input,e)},ns.Text.prototype.remove=function(){this.$item.remove()},ns.Text.prototype.forceValue=function(e){this.$input.val(e).change()},ns.widgets.text=ns.Text},function(e,t){ns.Html=function(e,t,n,i){this.parent=e,this.field=t,this.value=n,this.setValue=i,this.tags=ns.$.merge(["br"],this.field.tags||this.defaultTags)},ns.Html.first=!0,ns.Html.prototype.defaultTags=["strong","em","del","h2","h3","a","ul","ol","table","hr"],ns.Html.prototype.inTags=function(e){return ns.$.inArray(e.toLowerCase(),this.tags)>=0},ns.Html.prototype.inButtons=function(e){return void 0!==H5PIntegration.editor&&void 0!==H5PIntegration.editor.wysiwygButtons&&-1!==H5PIntegration.editor.wysiwygButtons.indexOf(e)},ns.Html.prototype.createToolbar=function(){var e=[],t=[],n=[],i=[],o=[];if((this.inTags("strong")||this.inTags("b"))&&(e.push("Bold"),this.tags.push("strong")),(this.inTags("em")||this.inTags("i"))&&(e.push("Italic"),this.tags.push("em")),this.inTags("u")&&e.push("Underline"),(this.inTags("strike")||this.inTags("del")||this.inTags("s"))&&(e.push("Strike"),this.tags.push("strike"),this.tags.push("del"),this.tags.push("s")),this.inTags("sub")&&e.push("Subscript"),this.inTags("sup")&&e.push("Superscript"),e.length>0&&(e.push("-"),e.push("RemoveFormat"),o.push({name:"basicstyles",items:e})),o.push({name:"justify",items:["JustifyLeft","JustifyCenter","JustifyRight"]}),this.inTags("ul")&&(t.push("BulletedList"),this.tags.push("li")),this.inTags("ol")&&(t.push("NumberedList"),this.tags.push("li")),this.inTags("blockquote")&&t.push("Blockquote"),t.length>0&&o.push(t),this.inTags("a")){var r=["Link","Unlink"];this.inTags("anchor")&&r.push("Anchor"),o.push({name:"links",items:r})}this.inTags("img")&&i.push("Image"),this.inTags("table")&&(i.push("Table"),ns.$.merge(this.tags,["tr","td","th","colgroup","thead","tbody","tfoot"])),this.inTags("hr")&&i.push("HorizontalRule"),this.inTags("code")&&(this.inButtons("inlineCode")&&i.push("Code"),this.inTags("pre")&&this.inButtons("codeSnippet")&&i.push("CodeSnippet")),i.length>0&&o.push({name:"insert",items:i});var a={name:"styles",items:[]},s={name:"colors",items:[]};this.inTags("h1")&&n.push("h1"),this.inTags("h2")&&n.push("h2"),this.inTags("h3")&&n.push("h3"),this.inTags("h4")&&n.push("h4"),this.inTags("h5")&&n.push("h5"),this.inTags("h6")&&n.push("h6"),this.inTags("address")&&n.push("address"),this.inTags("pre")&&n.push("pre"),(n.length>0||this.inTags("p")||this.inTags("div"))&&(n.push("p"),this.tags.push("p"),a.items.push("Format"));var l={toolbar:o};if(void 0!==this.field.font){this.tags.push("span");var c=function(e,t,n){l[t]="";for(var i=0;i<e.length;i++){var o=e[i];o.label&&o.css&&(l[t]+=o.label+"/"+o.css+";",n&&o.default&&(l[n]=o.label))}},u=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(i.label&&i.css){var o=i.css.match(/^#?([a-f0-9]{3}[a-f0-9]{3}?)$/i);if(!o)continue;t&&(t+=","),t+=i.label+"/"+o[1]}}return t};if(this.field.font.family&&(a.items.push("Font"),this.field.font.family instanceof Array&&c(this.field.font.family,"font_names","font_defaultLabel")),this.field.font.size)if(a.items.push("FontSize"),l.fontSize_sizes="",this.field.font.size instanceof Array)c(this.field.font.size,"fontSize_sizes","fontSize_defaultLabel");else{l.fontSize_defaultLabel="100%";for(var d=[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72],f=0;f<d.length;f++){var h=d[f]/16;l.fontSize_sizes+=100*h+"%/"+h+"em;"}}this.field.font.color&&(s.items.push("TextColor"),this.field.font.color instanceof Array&&(l.colorButton_colors=u(this.field.font.color),l.colorButton_enableMore=!1)),this.field.font.background&&(s.items.push("BGColor"),this.field.font.background instanceof Array&&(l.colorButton_colors=u(this.field.font.color),l.colorButton_enableMore=!1))}return a.items.length&&o.push(a),s.items.length&&o.push(s),n.length&&(l.format_tags=n.join(";")),"p"===this.field.enterMode||n.length>0?(this.tags.push("p"),l.enterMode=CKEDITOR.ENTER_P):(this.tags.push("div"),l.enterMode=CKEDITOR.ENTER_DIV),l},ns.Html.prototype.appendTo=function(e){var t=this;this.$item=ns.$(this.createHtml()).appendTo(e),this.$input=this.$item.children(".ckeditor"),this.$errors=this.$item.children(".h5p-errors"),ns.bindImportantDescriptionEvents(this,this.field.name,this.parent);var n={extraPlugins:"",startupFocus:!0,enterMode:CKEDITOR.ENTER_DIV,allowedContent:!0,protectedSource:[],contentsCss:ns.basePath+"styles/css/cke-contents.css",codeSnippet_codeClass:"h5p-hl"};if(ns.$.extend(n,this.createToolbar()),ns.HtmlAddons)for(var i in ns.HtmlAddons)if(t.inTags(i))for(var o in ns.HtmlAddons[i])ns.HtmlAddons[i][o](n,t.tags);this.$item.children(".ckeditor").focus((function(){var e=!1;if(t.$placeholder=t.$item.find(".h5peditor-ckeditor-placeholder").detach(),ns.Html.first&&(CKEDITOR.basePath=ns.basePath+"/ckeditor/"),ns.Html.current!==t){ns.Html.removeWysiwyg(),CKEDITOR.document.getBody=function(){return new CKEDITOR.dom.element(t.$item[0])},ns.Html.current=t,n.width=this.offsetWidth-8,t.ckeditor=CKEDITOR.replace(this,n),t.ckeditor.on("focus",(function(){e=!1})),t.ckeditor.once("destroy",(function(){e||i();var n=void 0!==t.ckeditor?t.ckeditor.getData():t.$input.html();0===t.$placeholder.length||void 0!==n&&0!==n.length||void 0!==t.value&&0!==t.value.length||t.$placeholder.appendTo(t.$item.find(".ckeditor"))}));var i=function(){e=!0,t.$item.is(":visible")&&t.validate()};t.ckeditor.on("blur",i),ns.Html.first&&(CKEDITOR.on("dialogDefinition",(function(e){var t=e.data.name,n=e.data.definition;"link"===t&&(n.getContents("target").get("linkTargetType").default="_blank");var i=n.onShow;n.onShow=function(){void 0!==i&&i.apply(this,arguments);var e=ns.Html.current.$item,t=e[0].getBoundingClientRect(),n=this.getSize(),o=t.x+t.width/2-n.width/2,r=t.y+t.height/2-n.height/2;this.move(o,r,!0)}})),ns.Html.first=!1)}}))},ns.Html.prototype.createHtml=function(){const e=ns.getNextFieldId(this.field);var t='<div id="'+e+'"';return void 0!==this.field.description&&(t+=' aria-describedby="'+ns.getDescriptionId(e)+'"'),t+=' class="ckeditor" tabindex="0" contenteditable="true">',void 0!==this.value?t+=this.value:void 0!==this.field.placeholder&&(t+='<span class="h5peditor-ckeditor-placeholder">'+this.field.placeholder+"</span>"),t+="</div>",ns.createFieldMarkup(this.field,ns.createImportantDescription(this.field.important)+t,e)},ns.Html.prototype.validate=function(){var e=this;e.$errors.children().length&&(e.$errors.empty(),this.$input.addClass("error"));var t=void 0!==this.ckeditor?this.ckeditor.getData():this.$input.html();t=t.replace(/<span class="h5peditor-ckeditor-placeholder">.*<\/span>/,"").replace(/^<br>$/,"");var n=ns.$("<div>"+t+"</div>"),i=n.text();return this.field.optional||i.length||this.inTags("img")&&n.find("img").length>0||this.$errors.append(ns.createError(ns.t("core","requiredProperty",{":property":ns.t("core","textField")}))),n.find("*").each((function(){e.inTags(this.tagName)||ns.$(this).replaceWith(ns.$(this).contents())})),t=n.html(),!e.$errors.children().length&&(this.$input.removeClass("error"),this.value=t,this.setValue(this.field,t),this.$input.change(),t)},ns.Html.removeWysiwyg=function(){if(void 0!==ns.Html.current){try{ns.Html.current.ckeditor.destroy()}catch(e){}ns.Html.current=void 0}},ns.Html.prototype.remove=function(){this.$item.remove()},ns.Html.prototype.forceValue=function(e){void 0===this.ckeditor?this.$input.html(e):this.ckeditor.setData(e),this.validate()},ns.widgets.html=ns.Html},function(e,t){ns.Number=function(e,t,n,i){this.field=t,this.value=n,this.setValue=i},ns.Number.prototype.appendTo=function(e){var t=this;this.$item=ns.$(this.createHtml()).appendTo(e),this.$errors=this.$item.find(".h5p-errors");var n=this.$item.find("input");1===n.length?this.$input=n:(this.$range=n.filter(":first"),this.$input=this.$range.next()),this.$input.change((function(){var e=t.validate();!1!==e&&(t.value=e,t.setValue(t.field,e),void 0!==t.$range&&t.$range.val(e),void 0!==e&&t.field.unit&&t.$input.val(e+" "+t.field.unit))})),void 0!==this.$range&&("range"===this.$range.attr("type")?(this.$range.change((function(){t.$input.val(t.$range.val()).change()})),H5PEditor.isIE&&(this.$range.css("margin-top",0),this.$input.css("margin-top","7px"))):this.$range.remove())},ns.Number.prototype.createHtml=function(){const e=ns.getNextFieldId(this.field),t=void 0!==this.field.description?ns.getDescriptionId(e):void 0,n=this.field.unit&&void 0!==this.value?this.value+" "+this.field.unit:this.value;var i=ns.createText(n,15,void 0,e,t);return ns.createFieldMarkup(this.field,i,e)},ns.Number.prototype.validate=function(){var e=H5P.trim(this.$input.val()),t=void 0!==this.field.decimals&&this.field.decimals;this.field.unit&&(e=e.replace(new RegExp(" *"+this.field.unit+"$"),"")),this.$errors.html("");var n=0===this.field.label?ns.t("core","numberField"):this.field.label;if(e.length){var i=e.match(new RegExp("^-?[0-9]+$"));!t||i||e.match(new RegExp("^-?[0-9]+(.|,)[0-9]{1,"+t+"}$"))?t||i?(e=t?parseFloat(e.replace(",",".")):parseInt(e),void 0!==this.field.max&&e>this.field.max?this.$errors.append(ns.createError(ns.t("core","exceedsMax",{":property":n,":max":this.field.max}))):void 0!==this.field.min&&e<this.field.min?this.$errors.append(ns.createError(ns.t("core","belowMin",{":property":n,":min":this.field.min}))):void 0!==this.field.step&&e%this.field.step&&this.$errors.append(ns.createError(ns.t("core","outOfStep",{":property":n,":step":this.field.step})))):this.$errors.append(ns.createError(ns.t("core","onlyNumbers",{":property":n}))):this.$errors.append(ns.createError(ns.t("core","illegalDecimalNumber",{":property":n,":decimals":t})))}else{if(!0===this.field.optional)return void this.$input.removeClass("error");this.$errors.append(ns.createError(ns.t("core","requiredProperty",{":property":ns.t("core","numberField")})))}return this.$input.toggleClass("error",this.$errors.html().length>0),ns.checkErrors(this.$errors,this.$input,e)},ns.Number.prototype.remove=function(){this.$item.remove()},ns.widgets.number=ns.Number},function(e,t){ns.Textarea=function(e,t,n,i){this.parent=e,this.field=t,this.value=n,this.setValue=i},ns.Textarea.prototype.appendTo=function(e){var t=this;this.$item=ns.$(this.createHtml()).appendTo(e),this.$input=this.$item.find("textarea"),this.$errors=this.$item.find(".h5p-errors"),ns.bindImportantDescriptionEvents(this,this.field.name,this.parent),this.$input.change((function(){var e=t.validate();!1!==e&&t.setValue(t.field,ns.htmlspecialchars(e))}))},ns.Textarea.prototype.createHtml=function(){const e=ns.getNextFieldId(this.field);var t='<textarea cols="30" rows="4" id="'+e+'"';return void 0!==this.field.description&&(t+=' aria-describedby="'+ns.getDescriptionId(e)+'"'),void 0!==this.field.placeholder&&(t+=' placeholder="'+this.field.placeholder+'"'),t+=">",void 0!==this.value&&(t+=this.value),t+="</textarea>",ns.createFieldMarkup(this.field,ns.createImportantDescription(this.field.important)+t,e)},ns.Textarea.prototype.validate=function(){var e=H5P.trim(this.$input.val()),t=!0;return this.$errors.html(""),void 0!==this.field.optional&&this.field.optional||e.length?e.length>this.field.maxLength?(this.$errors.append(ns.createError(ns.t("core","tooLong",{":max":this.field.maxLength}))),t=!1):void 0===this.field.regexp||e.match(new RegExp(this.field.regexp.pattern,this.field.regexp.modifiers))||(this.$errors.append(ns.createError(ns.t("core","invalidFormat"))),t=!1):(this.$errors.append(ns.createError(ns.t("core","requiredProperty",{":property":ns.t("core","textField")}))),t=!1),this.$input.toggleClass("error",!t),ns.checkErrors(this.$errors,this.$input,e)},ns.Textarea.prototype.remove=function(){this.$item.remove()},ns.widgets.textarea=ns.Textarea},function(e,t){H5PEditor.FileUploader=function(e,t){function n(e){var n=this;t.call(n),n.upload=function(t,i){var o=new FormData;o.append("file",t,i),o.append("field",JSON.stringify(e)),o.append("contentId",H5PEditor.contentId||0);var r=new XMLHttpRequest;r.upload.onprogress=function(e){e.lengthComputable&&n.trigger("uploadProgress",e.loaded/e.total)},r.onload=function(){var e,t={error:null,data:null};try{e=JSON.parse(r.responseText)}catch(e){H5P.error(e),t.error=H5PEditor.t("core","fileToLarge")}void 0!==e&&(void 0!==e.error&&(t.error=e.error),!1===e.success&&(t.error=e.message?e.message:H5PEditor.t("core","unknownFileUploadError"))),null===t.error&&(t.data=e),n.trigger("uploadComplete",t)},r.open("POST",H5PEditor.getAjaxUrl("files"),!0),r.send(o),n.trigger("upload")},n.uploadFiles=function(e){n.upload(e[0],e[0].name)},n.openFileSelector=function(){const e=document.createElement("input");e.type="file",e.setAttribute("accept",i()),e.style="display:none",e.addEventListener("change",(function(){n.uploadFiles(this.files),document.body.removeChild(e)})),document.body.appendChild(e),e.click()};const i=function(){if(e.mimes)return e.mimes.join(",");switch(e.type){case"image":return"image/jpeg,image/png,image/gif";case"audio":return"audio/mpeg,audio/x-wav,audio/ogg,audio/mp4";case"video":return"video/mp4,video/webm,video/ogg"}}}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n}(H5P.jQuery,H5P.EventDispatcher)},function(e,t){ns.File=function(e,t,n,i){var o=this;ns.FileUploader.call(o,t),this.parent=e,this.field=t,this.params=n,this.setValue=i,this.library=e.library+"/"+t.name,this.id=ns.getNextFieldId(t),void 0!==n&&(this.copyright=n.copyright),this.changes=[],this.passReadies=!0,e.ready((function(){o.passReadies=!1})),this.confirmRemovalDialog=new H5P.ConfirmationDialog({headerText:H5PEditor.t("core","removeFile"),dialogText:H5PEditor.t("core","confirmRemoval",{":type":"file"})}).appendTo(document.body),this.confirmRemovalDialog.on("confirmed",(function(){delete o.params,o.setValue(o.field),o.addFile();for(var e=0;e<o.changes.length;e++)o.changes[e]()})),o.on("upload",(function(){o.$file.html('<div class="h5peditor-uploading h5p-throbber">'+ns.t("core","uploading")+"</div>"),o.$errors.html("")})),o.on("uploadProgress",(function(e){o.$file.children().html(ns.t("core","uploading")+" "+Math.round(100*e.data)+" %")})),o.on("uploadComplete",(function(e){var t=e.data;try{if(t.error)throw t.error;o.params=o.params||{},o.params.path=t.data.path,o.params.mime=t.data.mime,o.params.copyright=o.copyright,o.trigger("fileUploaded",t.data),o.setValue(o.field,o.params);for(var n=0;n<o.changes.length;n++)o.changes[n](o.params)}catch(e){o.$errors.append(ns.createError(e))}o.addFile()}))},ns.File.prototype=Object.create(ns.FileUploader.prototype),ns.File.prototype.constructor=ns.File,ns.File.prototype.appendTo=function(e){var t=this,n='<div class="file"></div><a class="h5p-copyright-button" href="#">'+ns.t("core","editCopyright")+'</a><div class="h5p-editor-dialog"><a href="#" class="h5p-close" title="'+ns.t("core","close")+'"></a></div>',i=ns.createFieldMarkup(this.field,n,this.id),o=ns.$(i).appendTo(e);this.$copyrightButton=o.find(".h5p-copyright-button"),this.$file=o.find(".file"),this.$errors=o.find(".h5p-errors"),this.addFile();var r=o.find(".h5p-editor-dialog");o.find(".h5p-copyright-button").add(r.find(".h5p-close")).click((function(){return r.toggleClass("h5p-open"),!1})),ns.File.addCopyright(t,r,(function(e,n){void 0!==t.params&&(t.params.copyright=n),t.copyright=n}))},ns.File.addCopyright=function(e,t,n){var i=function(e,t,n){for(var i=t.split("."),o=0;o<e.length;o++){for(var r=e[o],a=0;a<i.length;a++)r=r[i[a]];if(r===n)return e[o]}};e.copyright&&("ODC PDDL"===e.copyright.license?(e.copyright.license="PD",e.copyright.version="CC0 1.0"):"CC PDM"===e.copyright.license&&(e.copyright.license="PD",e.copyright.version="CC PDM"));var o=new H5PEditor.widgets.group(e,H5PEditor.copyrightSemantics,e.copyright,n);o.appendTo(t),o.expand(),o.$group.find(".title").remove(),e.children=[o];var r=i(o.children,"field.name","license"),a=i(o.children,"field.name","version");a.field.optional=!0,r.changes.push((function(t){var n=i(r.field.options,"value",t).versions;a.$select.prop("disabled",void 0===n),void 0===n&&(n=[{value:"-",label:"-"}]);var o=e.copyright.license===t&&e.copyright.version?e.copyright.version:n[0].value;a.$select.html(H5PEditor.Select.createOptionsHtml(n,o)).change()})),r.changes[r.changes.length-1](e.copyright.license)},ns.File.prototype.addFile=function(){var e,t=this;if(void 0===this.params){let e='<a href="#" id="'+this.id+'" class="add"';return void 0!==this.field.description&&(e+=' aria-describedby="'+ns.getDescriptionId(this.id)+'"'),e+=' title="'+ns.t("core","addFile")+'"><div class="h5peditor-field-file-upload-text">'+ns.t("core","add")+"</div></a>",this.$file.html(e).children(".add").click((function(){return t.openFileSelector(),!1})),void this.$copyrightButton.addClass("hidden")}"image"===this.field.type?((e={}).path=H5P.getPath(this.params.path,H5PEditor.contentId),e.height=100,void 0!==this.params.width&&(e.width=e.height*(this.params.width/this.params.height))):e=ns.fileIcon;var n='<a href="#" id="'+this.id+'" title="'+ns.t("core","changeFile")+'" class="thumbnail"';void 0!==this.field.description&&(n+=' aria-describedby="'+ns.getDescriptionId(this.id)+'"'),n+="><img "+(void 0===e.width?"":' width="'+e.width+'"')+'height="'+e.height+'"  alt="'+(void 0===this.field.label?"":this.field.label)+'"/></a><a href="#" class="remove" title="'+ns.t("core","removeFile")+'"></a>',this.$file.html(n).children(":eq(0)").click((function(){return t.openFileSelector(),!1})).children("img").attr("src",e.path).end().next().click((function(){return t.confirmRemovalDialog.show(H5P.jQuery(this).offset().top),!1})),t.$copyrightButton.removeClass("hidden")},ns.File.prototype.validate=function(){return!0},ns.File.prototype.remove=function(){this.$file.parent().remove()},ns.File.prototype.ready=function(e){this.passReadies?this.parent.ready(e):e()},ns.widgets.file=ns.File},function(e,t){var n=window.H5PEditor=window.H5PEditor||{},i=n;i.widgets.image=function(e,t,o,r){var a=this;i.File.call(a,e,t,o,r),this.parent=e,this.field=t,this.params=o,this.setValue=r,this.library=e.library+"/"+t.name,this.id=i.getNextFieldId(t),void 0!==o&&(this.copyright=o.copyright),this.isEditing=!1,this.isOriginalImage=!1,this.changes=[],this.passReadies=!0,e.ready((function(){a.passReadies=!1})),this.confirmationDialog=new H5P.ConfirmationDialog({headerText:n.t("core","removeImage"),bodyText:n.t("core","confirmImageRemoval")}),this.confirmationDialog.on("confirmed",(function(){a.removeImage()})),a.on("upload",(function(){a.$editImage.addClass("hidden")})),a.on("fileUploaded",(function(e){a.isOriginalImage&&(delete a.params.originalImage,a.editImagePopup.mime=a.params.mime),a.params.width=e.data.width,a.params.height=e.data.height,a.$editImage.removeClass("hidden"),a.isEditing=!1}))},i.widgets.image.prototype=Object.create(i.File.prototype),i.widgets.image.prototype.constructor=i.widgets.image,i.widgets.image.prototype.appendTo=function(e){var t=this,o='<div class="file"></div><div class="h5p-editor-image-buttons"><button class="h5peditor-button-textual h5p-editing-image-button">'+i.t("core","editImage")+"</button>";this.field.disableCopyright||(o+='<button class="h5peditor-button-textual h5p-copyright-button">'+i.t("core","editCopyright")+"</button>"),o+='</div><div class="h5p-editor-dialog"><a href="#" class="h5p-close" title="'+i.t("core","close")+'"></a></div>';var r=i.createFieldMarkup(this.field,o,this.id),a=i.$(r).appendTo(e);this.$item=a,this.$editImage=a.find(".h5p-editing-image-button"),this.$copyrightButton=a.find(".h5p-copyright-button"),this.$file=a.find(".file"),this.$errors=a.find(".h5p-errors"),this.addFile();var s=a.find(".h5p-editor-dialog");a.find(".h5p-copyright-button").add(s.find(".h5p-close")).click((function(){return s.toggleClass("h5p-open"),!1}));var l=t.editImagePopup=new n.ImageEditingPopup(this.field.ratio);l.on("savedImage",(function(e){t.isEditing=!1,t.isOriginalImage=!1,t.params.originalImage||(t.params.originalImage={path:t.params.path,mime:t.params.mime,height:t.params.height,width:t.params.width});const n=t.params.path.match(/([^\/]+)\.([^#]+)/);t.upload(e.data,n[1]+"-edit."+n[2])})),l.on("resetImage",(function(){l.setImage(t.params.originalImage?t.params.originalImage:t.params)})),l.on("canceled",(function(){t.isEditing=!1})),l.on("initialized",(function(){t.$editImage.removeClass("loading")})),a.find(".h5p-editing-image-button").click((function(){var e;t.params&&t.params.path&&(t.isEditing||(e=t.params,t.isEditing=!0),t.$editImage.toggleClass("loading"),l.show(i.$(this).offset(),e))})),i.File.addCopyright(t,s,(function(e,n){void 0!==t.params&&(t.params.copyright=n),t.copyright=n}))},i.widgets.image.prototype.setCopyright=function(e){this.copyright=this.params.copyright=e},i.widgets.image.prototype.addFile=function(){var e=this;if(void 0===this.params){let t='<a href="#" id="'+this.id+'" class="add"';return void 0!==this.field.description&&(t+=' aria-describedby="'+i.getDescriptionId(this.id)+'"'),t+=' title="'+i.t("core","addFile")+'"><div class="h5peditor-field-file-upload-text">'+i.t("core","add")+"</div></a>",this.$file.html(t).children(".add").click((function(){return e.isOriginalImage=!0,e.openFileSelector(),!1})),this.$editImage.addClass("hidden"),this.$copyrightButton.addClass("hidden"),this.isEditing=!1,!1}var t=H5P.getPath(this.params.path,n.contentId),o=void 0===this.field.label?"":this.field.label,r='<a href="#" id="'+this.id+'" title="'+i.t("core","changeFile")+'" class="thumbnail"';void 0!==this.field.description&&(r+=' aria-describedby="'+i.getDescriptionId(this.id)+'"'),r+='><img alt="'+o+'"/></a><a href="#" class="remove" title="'+i.t("core","removeFile")+'"></a>',this.$file.html(r).children(":eq(0)").click((function(){return e.isOriginalImage=!0,e.openFileSelector(),!1})).children("img").attr("src",t).end().next().click((function(){return e.confirmRemovalDialog.show(e.$file.offset().top),!1}));var a=this.$file.find("img");return a.one("load",(function(){a.addClass("loaded")})),e.$editImage.removeClass("hidden"),e.$copyrightButton.removeClass("hidden"),e.trigger("changedImage",this.params),!0},i.widgets.image.prototype.removeImage=function(){this.trigger("removedImage",this.params),delete this.params,this.setValue(this.field),this.addFile();for(var e=0;e<this.changes.length;e++)this.changes[e]()},i.widgets.image.prototype.validate=function(){return!0},i.widgets.image.prototype.remove=function(){this.$file.parent().remove()},i.widgets.image.prototype.ready=function(e){this.passReadies?this.parent.ready(e):e()}},function(e,t){H5PEditor.ImageEditingPopup=function(e,t){var n=0,i=!1;function o(a){t.call(this);var s,l,c=this,u=n,d=!1,f=!1,h=0,p=document.createElement("div");p.className="h5p-editing-image-popup-background hidden";var m=document.createElement("div");m.className="h5p-editing-image-popup",p.appendChild(m);var g=document.createElement("div");g.className="h5p-editing-image-header",m.appendChild(g);var E=document.createElement("div");E.className="h5p-editing-image-header-title",E.textContent=H5PEditor.t("core","editImage"),g.appendChild(E);var v=document.createElement("div");v.className="h5p-editing-image-header-buttons",g.appendChild(v);var T=document.createElement("div");T.className="h5p-editing-image-editing-container",m.appendChild(T);var b=document.createElement("div");b.className="h5p-editing-image-loading",b.textContent=ns.t("core","loadingImageEditor"),m.appendChild(b);var C=new Image;C.className="h5p-editing-image hidden",C.id="h5p-editing-image-"+u,T.appendChild(C),p.addEventListener("click",function(){this.hide()}.bind(this)),m.addEventListener("click",(function(e){e.stopPropagation()})),n+=1;var y=function(e,t,n){var i=document.createElement("button");i.textContent=ns.t("core",e),i.className=t,i.addEventListener("click",n),v.appendChild(i)},I=function(){window.requestAnimationFrame((function(){c.darkroom=new Darkroom("#h5p-editing-image-"+u,{initialize:function(){this.transformations=[],H5P.$body.get(0).classList.add("h5p-editor-image-popup"),p.classList.remove("hidden"),b.classList.add("hidden"),c.trigger("initialized")},maxWidth:s,maxHeight:l,plugins:{crop:{ratio:a||null},save:!1}})}))},O=function(t,n){e.ajax({url:t,dataType:"script",success:function(){n&&n()},async:!0})};this.adjustPopupOffset=function(e){e&&(h=e.top);var t,n=.65*screen.height,i=o.staticDimensions,r=H5P.$body.get(0).offsetHeight-i.backgroundPaddingHeight,a=i.darkroomToolbarHeight+i.popupHeaderHeight+i.darkroomPadding,l=r-a,c=n<l?n:l;if(C.naturalHeight<c)t=C.naturalHeight;else{t=c;var u=C.naturalHeight/C.naturalWidth,d=s*u;d<t&&(t=d)}var f=t+a,p=h-f/2-i.backgroundPaddingHeight/2;if(f+(p=p>0?p:0)>r){var g=r-f;p=g<0?0:g}m.style.top=p+"px"},this.setImage=function(e){var t=m.querySelector(".darkroom-container");t&&t.parentNode.removeChild(t),H5P.setSource(C,e,H5PEditor.contentId),C.onload=function(){I(),C.onload=null},b.classList.remove("hidden"),C.classList.add("hidden"),T.appendChild(C)},this.show=function(e,t){if(H5P.$body.get(0).appendChild(p),p.classList.remove("hidden"),function(){var e=o.staticDimensions;s=p.offsetWidth-e.backgroundPaddingWidth-e.darkroomPadding;var t=screen.height*e.maxScreenHeightPercentage,n=p.offsetHeight-e.backgroundPaddingHeight-e.popupHeaderHeight-e.darkroomToolbarHeight-e.darkroomPadding;l=t<n?t:n}(),p.classList.add("hidden"),t){if(i?c.setImage(t):(H5P.setSource(C,t,H5PEditor.contentId),O(H5PEditor.basePath+"libs/fabric.js",(function(){O(H5PEditor.basePath+"libs/darkroom.js",(function(){I(),i=!0}))}))),e){var n=function(){this.adjustPopupOffset(e),C.removeEventListener("load",n)}.bind(this);C.addEventListener("load",n)}}else H5P.$body.get(0).classList.add("h5p-editor-image-popup"),p.classList.remove("hidden"),c.trigger("initialized");d=!0},this.hide=function(){d=!1,H5P.$body.get(0).classList.remove("h5p-editor-image-popup"),p.classList.add("hidden"),H5P.$body.get(0).removeChild(p)},this.toggle=function(){d?this.hide():this.show()},y("resetToOriginalLabel","h5p-editing-image-reset-button h5p-remove",(function(){c.trigger("resetImage"),f=!0})),y("cancelLabel","h5p-editing-image-cancel-button",(function(){c.trigger("canceled"),c.hide()})),y("saveLabel","h5p-editing-image-save-button h5p-done",(function(){var e,t,n;e=c.darkroom.plugins.crop.hasFocus(),t=c.darkroom.canvas.getElement(),n=function(){const e=function(e){c.trigger("savedImage",e),t.removeEventListener("crop:update",n,!1)};c.darkroom.canvas.contextContainer.canvas.toBlob?c.darkroom.canvas.contextContainer.canvas.toBlob(e,c.mime):e(r(c.darkroom.canvas.toDataURL({format:c.mime.split("/")[1]})))},(c.darkroom.transformations.length||f||e)&&(e?(c.darkroom.plugins.crop.cropCurrentZone(),t.addEventListener("crop:update",n,!1)):n()),f=!1,c.hide()}))}o.prototype=Object.create(t.prototype),o.prototype.constructor=o,o.staticDimensions={backgroundPaddingWidth:32,backgroundPaddingHeight:96,darkroomPadding:64,darkroomToolbarHeight:40,maxScreenHeightPercentage:.65,popupHeaderHeight:59};const r=function(e){const t=e.split(","),n=t[0].match(/data:(.*);base64/i)[1],i=atob(t[1]),o=new Uint8Array(i.length);for(let e=0;e<i.length;e++)o[e]=i.charCodeAt(e);return new Blob([o],{type:n})};return o}(H5P.jQuery,H5P.EventDispatcher)},function(e,t){H5PEditor.widgets.video=H5PEditor.widgets.audio=H5PEditor.AV=function(e){function t(t,n,i,o){var r=this;H5PEditor.FileUploader.call(r,n),this.parent=t,this.field=n,this.params=i,this.setValue=o,this.changes=[],void 0!==i&&void 0!==i[0]&&this.setCopyright(i[0].copyright),r.on("upload",(function(){r.$uploading=e('<div class="h5peditor-uploading h5p-throbber">'+H5PEditor.t("core","uploading")+"</div>").insertAfter(r.$add.hide()),r.$errors.html(""),r.closeDialog()})),r.on("uploadProgress",(function(e){r.$uploading.html(H5PEditor.t("core","uploading")+" "+Math.round(100*e.data)+" %")})),r.on("uploadComplete",(function(e){var t=e.data;this.$addDialog.find(".h5p-file-url").val("");try{if(t.error)throw t.error;void 0===r.params&&(r.params=[],r.setValue(r.field,r.params));var n={path:t.data.path,mime:t.data.mime,copyright:r.copyright},i=void 0!==r.updateIndex?r.updateIndex:r.params.length;r.params[i]=n,r.addFile(i);for(var o=0;o<r.changes.length;o++)r.changes[o](n)}catch(e){r.$errors.append(H5PEditor.createError(e))}void 0!==r.$uploading&&0!==r.$uploading.length&&(r.$uploading.remove(),r.$add.show())}))}t.prototype=Object.create(ns.FileUploader.prototype),t.prototype.constructor=t,t.prototype.appendTo=function(n){var i=this;const o=ns.getNextFieldId(this.field);var r='<ul class="file list-unstyled"></ul>'+(i.field.widgetExtensions?t.createTabbedAdd(i.field.type,i.field.widgetExtensions,o,void 0!==i.field.description):t.createAdd(i.field.type,o,void 0!==i.field.description));this.field.disableCopyright||(r+='<a class="h5p-copyright-button" href="#">'+H5PEditor.t("core","editCopyright")+"</a>"),r+='<div class="h5p-editor-dialog"><a href="#" class="h5p-close" title="'+H5PEditor.t("core","close")+'"></a></div>';var a=H5PEditor.createFieldMarkup(this.field,r,o),s=e(a).appendTo(n);this.$files=s.children(".file"),this.$add=s.children(".h5p-add-file").click((function(){i.$addDialog.addClass("h5p-open")}));const l=0,c=1;let u=l;const d=function(e){return e>c},f=function(){d(u)&&p[u].pause(),this.parentElement.querySelector(".selected").classList.remove("selected"),this.classList.add("selected");const e=document.getElementById(this.getAttribute("aria-controls"));e.parentElement.querySelector(".av-tabpanel:not([hidden])").setAttribute("hidden",""),e.removeAttribute("hidden");for(let t=0;t<e.parentElement.children.length;t++)if(e.parentElement.children[t]===e){u=t-1;break}i.$insertButton[0].disabled=u===l||u!==c&&!p[u].hasMedia()},h=function(e){e&&(this.setAttribute("tabindex","-1"),e.setAttribute("tabindex","0"),e.focus())};s.find(".av-tab").click(f).keydown((function(e){13===e.which||32===e.which?(f.call(this,e),e.preventDefault()):37===e.which||38===e.which?(h.call(this,this.previousSibling),e.preventDefault()):39!==e.which&&40!==e.which||(h.call(this,this.nextSibling),e.preventDefault())})),this.$addDialog=this.$add.next().children().first();const p=[null,null];if(i.tabInstances=p,i.field.widgetExtensions){const e=function(e,t){const n=new H5PEditor.AV[e];n.appendTo(i.$addDialog[0].children[0].children[t+1]),n.on("hasMedia",(function(e){t===u&&(i.$insertButton[0].disabled=!e.data)})),p.push(n)};for(let t=0;t<i.field.widgetExtensions.length;t++)H5PEditor.AV[i.field.widgetExtensions[t]]&&e(i.field.widgetExtensions[t],t+2)}var m=this.$url=this.$addDialog.find(".h5p-file-url");if(this.$addDialog.find(".h5p-cancel").click((function(){i.updateIndex=void 0,i.closeDialog()})),this.$addDialog.find(".h5p-file-drop-upload").addClass("has-advanced-upload").on("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()})).on("dragover dragenter",(function(t){e(this).addClass("over"),t.originalEvent.dataTransfer.dropEffect="copy"})).on("dragleave",(function(){e(this).removeClass("over")})).on("drop",(function(e){i.uploadFiles(e.originalEvent.dataTransfer.files)})).click((function(){i.openFileSelector()})),this.$insertButton=this.$addDialog.find(".h5p-insert").click((function(){if(d(u)){const e=p[u].getMedia();e&&i.upload(e.data,e.name)}else{const e=m.val().trim();e&&i.useUrl(e)}i.closeDialog()})),this.$errors=s.children(".h5p-errors"),void 0!==this.params)for(var g=0;g<this.params.length;g++)this.addFile(g);else s.find(".h5p-copyright-button").addClass("hidden");var E=s.find(".h5p-editor-dialog");s.find(".h5p-copyright-button").add(E.find(".h5p-close")).click((function(){return E.toggleClass("h5p-open"),!1})),ns.File.addCopyright(i,E,(function(e,t){i.setCopyright(t)}))},t.prototype.addFile=function(n){var i,o=this,r=this.params[n],a="h5p-av-"+t.getNextId(),s=H5PEditor.t("core","videoQualityDefaultLabel",{":index":n+1}),l=r.metadata&&r.metadata.qualityName?r.metadata.qualityName:s,c=t.providers.filter((function(e){return"YouTube"===e.name}))[0].regexp,u=r.path&&r.path.match(c);(u&&(o.$files.children().each((function(t){t!==o.updateIndex&&o.removeFileWithElement(e(this))})),o.$files.children().each((function(){e(this).remove()})),n=0),this.$add.toggleClass("hidden",!!u),void 0!==o.updateIndex)&&(this.$files.children(":eq("+n+")").remove(),this.updateIndex=void 0);i=!0!==this.field.enableCustomQualityLabel||u?'<li class="h5p-av-cell"><div class="h5p-thumbnail"><div class="h5p-type" title="'+r.mime+'">'+r.mime.split("/")[1]+'</div><div role="button" tabindex="0" class="h5p-remove" title="'+H5PEditor.t("core","removeFile")+'"></div></li>':'<li class="h5p-av-row"><div class="h5p-thumbnail"><div class="h5p-type" title="'+r.mime+'">'+r.mime.split("/")[1]+'</div><div role="button" tabindex="0" class="h5p-remove" title="'+H5PEditor.t("core","removeFile")+'"></div></div><div class="h5p-video-quality"><div class="h5p-video-quality-title">'+H5PEditor.t("core","videoQuality")+'</div><label class="h5peditor-field-description" for="'+a+'">'+H5PEditor.t("core","videoQualityDescription")+'</label><input id="'+a+'" class="h5peditor-text" type="text" maxlength="60" value="'+l+'"></div></li>';var d=e(i);n>=o.$files.children().length?d.appendTo(o.$files):d.insertBefore(o.$files.children().eq(n)),this.$add.parent().find(".h5p-copyright-button").removeClass("hidden"),d.children(".h5p-thumbnail").click((function(){o.$add.is(":visible")&&(o.$addDialog.addClass("h5p-open").find(".h5p-file-url").val(o.params[n].path),o.updateIndex=n)})),d.find(".h5p-remove").click((function(){return o.$add.is(":visible")&&f.show(d.offset().top),!1})),d.find("input").change((function(){r.metadata={qualityName:e(this).val()}}));var f=new H5P.ConfirmationDialog({headerText:H5PEditor.t("core","removeFile"),dialogText:H5PEditor.t("core","confirmRemoval",{":type":"file"})}).appendTo(document.body);f.on("confirmed",(function(){o.removeFileWithElement(d),0===o.$files.children().length&&o.$add.parent().find(".h5p-copyright-button").addClass("hidden")}))},t.prototype.removeFileWithElement=function(e){var t=e.index();1===this.params.length?(delete this.params,this.setValue(this.field)):this.params.splice(t,1),e.remove(),this.$add.removeClass("hidden");for(var n=0;n<this.changes.length;n++)this.changes[n]()},t.prototype.useUrl=function(e){var n,i,o;void 0===this.params&&(this.params=[],this.setValue(this.field,this.params));var r=e.match(/\.(webm|mp4|ogv|m4a|mp3|ogg|oga|wav)/i);if(null!==r)n=r[r.length-1];else for(o=0;o<t.providers.length;o++)if(t.providers[o].regexp.test(e)){n=t.providers[o].name,i=t.providers[o].aspectRatio;break}var a={path:e,mime:this.field.type+"/"+(n||"unknown"),copyright:this.copyright,aspectRatio:i||void 0},s=void 0!==this.updateIndex?this.updateIndex:this.params.length;for(this.params[s]=a,this.addFile(s),o=0;o<this.changes.length;o++)this.changes[o](a)},t.prototype.validate=function(){return!0},t.prototype.remove=function(){this.$errors.parent().remove()},t.prototype.setCopyright=function(e){if(this.copyright=e,void 0!==this.params)for(var t=0;t<this.params.length;t++)this.params[t].copyright=e},t.prototype.ready=function(e){this.passReadies?this.parent.ready(e):e()},t.prototype.closeDialog=function(){this.$addDialog.removeClass("h5p-open"),this.$url.val("");for(let e=0;e<this.tabInstances.length;e++)this.tabInstances[e]&&this.tabInstances[e].reset()},t.createInsertDialog=function(e,t,n,i){return'<div role="button" tabindex="0" id="'+n+'"'+(i?' aria-describedby="'+ns.getDescriptionId(n)+'"':"")+' class="h5p-add-file" title="'+H5PEditor.t("core","addFile")+'"></div><div class="h5p-dialog-anchor"><div class="h5p-add-dialog"><div class="h5p-add-dialog-table">'+e+'</div><div class="h5p-buttons"><button class="h5peditor-button-textual h5p-insert"'+(t?" disabled":"")+">"+H5PEditor.t("core","insert")+'</button><button class="h5peditor-button-textual h5p-cancel">'+H5PEditor.t("core","cancel")+"</button></div></div></div>"},t.createTabContent=function(e,n){const i="audio"===n;switch(e){case"BasicFileUpload":const e="av-upload-"+t.getNextId();return'<h3 id="'+e+'">'+H5PEditor.t("core",i?"uploadAudioTitle":"uploadVideoTitle")+'</h3><div class="h5p-file-drop-upload" tabindex="0" role="button" aria-labelledby="'+e+'"><div class="h5p-file-drop-upload-inner '+n+'"/></div>';case"InputLinkURL":return"<h3>"+H5PEditor.t("core",i?"enterAudioTitle":"enterVideoTitle")+'</h3><div class="h5p-file-url-wrapper '+n+'"><input type="text" placeholder="'+H5PEditor.t("core",i?"enterAudioUrl":"enterVideoUrl")+'" class="h5p-file-url h5peditor-text"/></div>'+(i?"":'<div class="h5p-errors"></div><div class="h5peditor-field-description">'+H5PEditor.t("core","addVideoDescription")+"</div>");default:return""}},t.createTabbedAdd=function(e,n,i,o){let r;const a=["BasicFileUpload","InputLinkURL"];for(r=0;r<n.length;r++)a.push(n[r]);let s="",l="";for(r=0;r<a.length;r++){const n=a[r],i=t.getNextId();s+='<div class="av-tab'+(0===r?" selected":"")+'" tabindex="'+(0===r?0:-1)+'" role="tab" aria-selected="'+(0===r?"true":"false")+'" aria-controls="av-tabpanel-'+i+'" id="av-tab-'+i+'">'+(r>1?H5PEditor.t("H5PEditor."+n,"title"):H5PEditor.t("core","tabTitle"+n))+"</div>",l+='<div class="av-tabpanel" tabindex="-1" role="tabpanel" id="av-tabpanel-'+i+'" aria-labelledby="av-tab-'+i+'"'+(0===r?"":' hidden=""')+">"+t.createTabContent(n,e)+"</div>"}return t.createInsertDialog('<div class="av-tablist" role="tablist" aria-label="'+H5PEditor.t("core","avTablistLabel")+'">'+s+"</div>"+l,!0,i,o)},t.createAdd=function(e,n,i){return t.createInsertDialog('<div class="h5p-dialog-box">'+t.createTabContent("BasicFileUpload",e)+'</div><div class="h5p-or-vertical"><div class="h5p-or-vertical-line"></div><div class="h5p-or-vertical-word-wrapper"><div class="h5p-or-vertical-word">'+H5PEditor.t("core","or")+'</div></div></div><div class="h5p-dialog-box">'+t.createTabContent("InputLinkURL",e)+"</div>",!1,n,i)},t.providers=[{name:"YouTube",regexp:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtube.com\/(?:attribution_link\?(?:\S+))?(?:v\/|embed\/|watch\/|(?:user\/(?:\S+)\/)?watch(?:\S+)v\=))|(?:youtu.be\/|y2u.be\/))([A-Za-z0-9_-]{11})/i,aspectRatio:"16:9"}];let n=0;return t.getNextId=function(){return n++},t}(H5P.jQuery)},function(e,t){ns.Group=function(e,t,n,i){if(H5P.EventDispatcher.call(this),void 0===t.label?t.label=t.name:0===t.label&&(t.label=""),this.parent=e,this.passReadies=!0,this.params=n,this.setValue=i,this.library=e.library+"/"+t.name,void 0!==t.deprecated&&t.deprecated){this.field=H5P.cloneObject(t,!0);for(var o=0,r=0;r<this.field.fields.length;r++){var a=this.field.fields[r];void 0!==n&&""===n[a.name]&&delete n[a.name],void 0!==n&&void 0!==n[a.name]||(a.widget="none",o++)}r===o&&(this.field.fields=[])}else this.field=t;if(!0===this.field.optional)for(var s=0;s<this.field.fields.length;s++)this.field.fields[s].optional=!0},ns.Group.prototype=Object.create(H5P.EventDispatcher.prototype),ns.Group.prototype.constructor=ns.Group,ns.Group.prototype.appendTo=function(e){var t=this;if(0!==this.field.fields.length){if(this.$group=ns.$("<fieldset/>",{class:"field group "+H5PEditor.createImportance(this.field.importance)+" field-name-"+this.field.name,appendTo:e}),this.$title=ns.$("<div/>",{class:"title","aria-expanded":"false",title:ns.t("core","expandCollapse"),role:"button",tabIndex:0,on:{click:function(){t.toggle()},keypress:function(e){32===(e.charCode||e.keyCode)&&(t.toggle(),e.preventDefault())}},appendTo:this.$group}),this.$content=ns.$("<div/>",{class:"content",appendTo:this.$group}),this.hasSingleChild()&&!this.isSubContent()){this.$content.addClass("h5peditor-single"),this.children=[];var n=this.field.fields[0],i=void 0===n.widget?n.type:n.widget;this.children[0]=new ns.widgets[i](this,n,this.params,(function(e,n){t.setValue(t.field,n)})),this.children[0].appendTo(this.$content)}else void 0===this.params&&(this.params={},this.setValue(this.field,this.params)),this.params=this.initSubContent(this.params),ns.processSemanticsChunk(this.field.fields,this.params,this.$content,this);this.findSummary(),!0===this.field.expanded&&this.expand()}else this.setValue(this.field)},ns.Group.prototype.hasSingleChild=function(){return 1===this.field.fields.length},ns.Group.prototype.initSubContent=function(e){return this.isSubContent()&&(e.subContentId=e.subContentId||H5P.createUUID()),e},ns.Group.prototype.isSubContent=function(){return!0===this.field.isSubContent},ns.Group.prototype.toggle=function(){this.preventToggle?this.preventToggle=!1:this.$group.hasClass("expanded")?this.collapse():this.expand()},ns.Group.prototype.expand=function(){this.$title.attr("aria-expanded","true"),setTimeout(function(){this.trigger("expanded"),this.$group.addClass("expanded")}.bind(this),100)},ns.Group.prototype.collapse=function(){for(var e=!0,t=0;t<this.children.length;t++)!1===this.children[t].validate()&&(e=!1);e&&(this.$title.attr("aria-expanded","false"),setTimeout(function(){this.trigger("collapsed"),this.$group.removeClass("expanded")}.bind(this),100))},ns.Group.prototype.findSummary=function(){for(var e,t=this,n=0;n<this.children.length;n++){var i=this.children[n];if(void 0!==i.field){var o=t.hasSingleChild()&&!t.isSubContent()?this.params:this.params[i.field.name],r=ns.getWidgetName(i.field);if("text"===r||"html"===r){void 0!==o&&""!==o&&(e=o.replace(/(<([^>]+)>)/gi,"")),i.$input.change((function(){var e=t.hasSingleChild()&&!t.isSubContent()?t.params:t.params[i.field.name];void 0!==e&&""!==e&&t.setSummary(e.replace(/(<([^>]+)>)/gi,""))}));break}if("library"===r){let n;void 0!==i.params&&(e=i.$select.children(":selected").text(),i.params.metadata&&i.params.metadata.title?e=i.params.metadata.title+(!i.libraries||i.libraries.length>1&&-1===i.params.metadata.title.indexOf(e)?" ("+e+")":""):i.params.library||(e=t.field.label));const o=function(){i.params&&i.params.metadata&&i.params.metadata.title?t.setSummary(i.params.metadata.title+(i.libraries.length>1&&-1===i.params.metadata.title.indexOf(n.title)?" ("+n.title+")":"")):t.setSummary(n?n.title:t.field.label)};i.metadataForm&&i.metadataForm.on("titlechange",o),i.change((function(e){n=e,o(),i.metadataForm&&(i.metadataForm.off("titlechange",o),i.metadataForm.on("titlechange",o))}));break}}}this.setSummary(e)},ns.Group.prototype.setSummary=function(e){var t,n=ns.$.parseHTML(e);null!==n&&(t=n[0].nodeValue),this.trigger("summary",t),t=void 0!==t?t.length>48?t.substr(0,45)+"...":t:this.field.label,this.$title.text(t)},ns.Group.prototype.validate=function(){var e=!0;if(void 0!==this.children)for(var t=0;t<this.children.length;t++)!1===this.children[t].validate()&&(e=!1);return e},ns.Group.prototype.forEachChild=function(e){for(var t=0;t<this.children.length;t++)e(this.children[t],t)},ns.Group.prototype.ready=function(e){this.parent.ready(e)},ns.Group.prototype.remove=function(){void 0!==this.$group&&(ns.removeChildren(this.children),this.$group.remove())},ns.Group.prototype.getFields=function(){return H5PEditor.$.extend(!0,[],this.field.fields)},ns.Group.prototype.forceValue=function(e){for(let t=0;t<this.children.length;t++)this.children[t].forceValue(e[this.children[t].field.name])},ns.widgets.group=ns.Group},function(e,t){ns.Boolean=function(e,t,n,i){void 0===n?(this.value=!1,i(t,this.value)):this.value=n,this.field=t,this.setValue=i,this.changes=[],this.triggerListeners=function(e){for(var t=0;t<this.changes.length;t++)this.changes[t](e)}},ns.Boolean.prototype.createHtml=function(){const e=ns.getNextFieldId(this.field);void 0!==this.value&&this.value;let t='<input id="'+e+'" type="checkbox"';return void 0!==this.field.description&&(t+=' aria-describedby="'+ns.getDescriptionId(e)+'"'),void 0!==this.value&&this.value&&(t+=" checked"),t+="/>",ns.createBooleanFieldMarkup(this.field,t,e)},ns.Boolean.prototype.validate=function(){return!0},ns.Boolean.prototype.appendTo=function(e){var t=this;this.$item=ns.$(this.createHtml()).appendTo(e),this.$input=this.$item.find("input"),this.$errors=this.$item.find(".h5p-errors"),this.$input.change((function(){t.value=t.$input.is(":checked"),t.setValue(t.field,t.value),t.triggerListeners(t.value)}))},ns.Boolean.prototype.remove=function(){this.$item.remove()},ns.widgets.boolean=ns.Boolean},function(e,t){H5PEditor.List=function(e){function t(t,n,i,o){var r=this;H5PEditor.SemanticStructure.call(r,n,{name:"ListEditor",label:H5PEditor.t("core","listLabel")}),r.parent=t;var a=[],s=[],l=!0;t.ready((function(){l=!1})),r.on("changeWidget",(function(){for(var e=0;e<a.length;e++)r.widget.addItem(a[e],e)}));var c=function(e,t){void 0===i&&o(n,i=[]),i[e]=t},u=function(e,t){var o=n.field,s=H5PEditor.getWidgetName(o);void 0!==i&&void 0!==i[e]||void 0===o.default||c(e,o.default),void 0!==t&&c(e,t);var l=a[e]=new H5PEditor.widgets[s](r,o,void 0===i?void 0:i[e],(function(t,n){var i=d(l);c(void 0===i?e:i,n)}));return l},d=function(e){for(var t=0;t<a.length;t++)if(a[t]===e)return t};r.getEntity=function(){return void 0===n.entity?"item":n.entity},r.addItem=function(e){var t=a.length;if(n.max===t)return!1;var i=u(t,e);if(r.widget.addItem(i,t),!l){for(var o=0;o<s.length;o++)s[o]();s=[]}return r.trigger("addedItem",i),!0},r.removeItem=function(e){a[e].remove(),a.splice(e,1),void 0!==i&&(i.splice(e,1),i.length||(i=void 0,o(n))),r.trigger("removedItem",e)},r.removeAllItems=function(){if(void 0!==i){for(var e=0;e<a.length;e++)a[e].remove();a=[],i=void 0,o(n)}},r.moveItem=function(e,t){var n=a.splice(e,1);if(a.splice(t,0,n[0]),i){var o=i.splice(e,1);i.splice(t,0,o[0])}},r.forEachChild=function(e){for(var t=0;t<a.length;t++)e(a[t],t)},r.ready=function(e){l?t.ready(e):s.push(e)},r.validate=function(){var e=!0;this.clearErrors();for(var t=0;t<a.length;t++)!1===a[t].validate()&&(e=!1);return void 0!==n.max&&n.max>0&&void 0!==a&&a.length>n.max&&(e=!1,this.setError(H5PEditor.t("core","listExceedsMax",{":max":n.max}))),void 0!==n.min&&n.min>0&&(void 0===a||a.length<n.min)&&(e=!1,this.setError(H5PEditor.t("core","listBelowMin",{":min":n.min}))),e},r.getImportance=function(){return void 0!==n.importance?H5PEditor.createImportance(n.importance):void 0!==n.field.importance?H5PEditor.createImportance(n.field.importance):""},r.getValue=function(){return void 0===i?i:e.extend(!0,[],i)},r.getField=function(){return e.extend(!0,{},n.field)},function(){var e;if(void 0!==i&&i.length)for(e=0;e<i.length;e++)null===i[e]&&(i[e]=void 0),u(e);else for(void 0===n.defaultNum&&(n.defaultNum=void 0!==n.min?n.min:1),e=0;e<n.defaultNum;e++)u(e)}()}return t.prototype=Object.create(H5PEditor.SemanticStructure.prototype),t.prototype.constructor=t,t}(H5P.jQuery),H5PEditor.widgets.list=H5PEditor.List},function(e,t){var n;H5PEditor.ListEditor=(n=H5P.jQuery,function(e){var t,i,o,r,a=e.getEntity(),s=n("<ul/>",{id:e.getId(),"aria-describedby":e.getDescriptionId(),class:"h5p-ul"}),l=ns.createButton(e.getImportance(),H5PEditor.t("core","addEntity",{":entity":a}),(function(){e.addItem()}),!0);this.defaultConfirmHandler=function(e,t,n,i){const o=new H5P.ConfirmationDialog({dialogText:H5PEditor.t("core","confirmRemoval",{":type":a})}).appendTo(document.body);o.on("confirmed",i),o.show(n.top)};let c=this.defaultConfirmHandler;this.setConfirmHandler=function(e){c=e},this.addItem=function(a){var l,u,d=n("<li/>",{class:"h5p-li"}),f=function(a){if(u){if(!(a.pageX>u.x+5||a.pageX<u.x-5||a.pageY>u.y+5||a.pageY<u.y-5))return;H5PEditor.Html.removeWysiwyg(),u=null;var c=d.offset();t=a.pageX-c.left,i=a.pageY-c.top,o=parseInt(d.css("marginTop")),r=s.offsetParent().offset();var f=d.width(),h=d.height();d.addClass("moving").css({width:f,height:h}),l=n("<li/>",{class:"placeholder h5p-li",css:{width:f,height:h}}).insertBefore(d)}!function(n,a,s,l){var c;s-=t,l-=i,n.css({top:l-o-r.top,left:s-r.left});var u=n.prev().prev();if(u.length&&l<u.offset().top+u.height()/2)return u.insertAfter(n),c=n.index(),void e.moveItem(c,c-1);var d=n.next();d.length&&l+n.height()>d.offset().top+d.height()/2&&(d.insertBefore(a),c=n.index()-2,e.moveItem(c,c+1))}(d,l,a.pageX,a.pageY)},h=function(){H5P.$window.unbind("mousemove",f).unbind("mouseup",h),H5P.$body.css({"-moz-user-select":"","-webkit-user-select":"","user-select":"","-ms-user-select":""}).attr("unselectable","off")[0].onselectstart=H5P.$body[0].ondragstart=null,u||(d.removeClass("moving").css({width:"auto",height:"auto"}),l.remove(),a instanceof H5PEditor.Group&&(a.preventToggle=!0))},p=n("<div/>",{class:"list-item-title-bar",appendTo:d}),m=n("<div/>",{class:"list-actions",appendTo:p}),g=n("<div/>",{class:"order-group",appendTo:m});if(H5PEditor.createButton("order-up",H5PEditor.t("core","orderItemUp"),(function(){var t=d.prev();if(t.length){H5PEditor.Html.removeWysiwyg();var n=d.index();t.insertAfter(d),e.moveItem(n,n-1)}})).appendTo(g),H5PEditor.createButton("order-down",H5PEditor.t("core","orderItemDown"),(function(){var t=d.next();if(t.length){H5PEditor.Html.removeWysiwyg();var n=d.index();t.insertBefore(d),e.moveItem(n,n+1)}})).appendTo(g),H5PEditor.createButton("remove",H5PEditor.t("core","removeItem"),(function(){c(a,d.index(),n(this).offset(),(function(){e.removeItem(d.index()),d.remove()}))})).appendTo(m),a instanceof H5PEditor.Group)a.appendTo(d),d.addClass("listgroup"),p.addClass(e.getImportance()),d.children(".field").children(".title").appendTo(p).addClass("h5peditor-label"),a.on("expanded",(function(){d.addClass("expanded").removeClass("collapsed")})),a.on("collapsed",(function(){d.removeClass("expanded").addClass("collapsed")}));else{var E=n("<div/>",{class:"content"}).appendTo(d);if(p.addClass(e.getImportance()),a.appendTo(E),0!==a.field.label){const e=E.children(".field").find(".h5peditor-label:first");0!==e.length&&(p.append(n("<label/>",{class:"h5peditor-label",for:e.parent().attr("for"),html:e.html()})),e.hide())}}d.appendTo(s),a instanceof H5PEditor.Group&&!1!==a.field.expanded&&a.expand(),p.children(".h5peditor-label").mousedown((function(e){1===e.which&&(u={x:e.pageX,y:e.pageY},H5P.$window.mousemove(f).mouseup(h),H5P.$body.css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none","-ms-user-select":"none"}).attr("unselectable","on")[0].onselectstart=H5P.$body[0].ondragstart=function(){return!1})}))},this.isTextField=function(e){var t=ns.getWidgetName(e.field);return"html"===t||"text"===t},this.appendTo=function(e){s.appendTo(e),l.appendTo(e)},this.remove=function(){s.remove(),l.remove()}})},function(e,t){ns.Library=function(e,t,n,i){var o=this;H5P.EventDispatcher.call(this),void 0===n?(this.params={params:{}},i(t,this.params)):this.params=n,this.field=t,this.parent=e,this.changes=[],this.optionsLoaded=!1,this.library=e.library+"/"+t.name,this.passReadies=!0,e.ready((function(){o.passReadies=!1})),this.confirmChangeLibrary=new H5P.ConfirmationDialog({headerText:H5PEditor.t("core","changeLibrary"),dialogText:H5PEditor.t("core","confirmChangeLibrary")}).appendTo(document.body),this.confirmChangeLibrary.on("confirmed",(function(){o.loadLibrary(o.$select.val())})),this.confirmChangeLibrary.on("canceled",(function(){o.$select.val(o.currentLibrary)})),H5P.externalDispatcher.on("datainclipboard",this.updateCopyPasteButtons.bind(this))},ns.Library.prototype=Object.create(H5P.EventDispatcher.prototype),ns.Library.prototype.constructor=ns.Library,ns.Library.prototype.updateCopyPasteButtons=function(){if(!window.localStorage||!this.libraries)return;const e=ns.canPastePlus(H5P.getClipboard(),this.libraries),t=e.canPaste,n=void 0!==this.currentLibrary&&"-"!==this.currentLibrary;this.$copyButton.prop("disabled",!n).toggleClass("disabled",!n),this.$pasteButton.text(ns.t("core",n?"pasteAndReplaceButton":"pasteButton")).attr("title",t?H5PEditor.t("core","pasteFromClipboard"):e.description).toggleClass("disabled",!t).prop("disabled",!t)},ns.Library.prototype.appendTo=function(e){var t=this,n='<div class="field '+this.field.type+'">';const i=ns.getNextFieldId(this.field);0!==this.field.label&&void 0!==this.field.label&&(n+='<div class="h5p-editor-flex-wrapper"><label class="h5peditor-label-wrapper" for="'+i+'"><span class="h5peditor-label'+(this.field.optional?"":" h5peditor-required")+'">'+this.field.label+"</span></label></div>"),n+=ns.createDescription(this.field.description,i),n+='<select id="'+i+'"',void 0!==this.field.description&&(n+=' aria-describedby="'+ns.getDescriptionId(i)+'"'),n+=">"+ns.createOption("-","Loading...")+"</select>";window.localStorage&&function(){var e=ns.findLibraryAncestor(t.parent);if(void 0!==e.currentLibrary){var n=ns.libraryFromString(e.currentLibrary),i={"H5P.CoursePresentation":{major:1,minor:20},"H5P.InteractiveVideo":{major:1,minor:20},"H5P.DragQuestion":{major:1,minor:13}}[n.machineName];return void 0===i||(n.majorVersion>i.major||n.majorVersion==i.major&&n.minorVersion>=i.minor)}return!0}()&&(n+=ns.createCopyPasteButtons()),n+='<div class="libwrap"></div>',n+="</div>",this.$myField=ns.$(n).appendTo(e),this.$select=this.$myField.children("select"),this.$label=this.$myField.find(".h5peditor-label"),this.$clearfix=this.$myField.children(".h5peditor-clearfix"),this.$libraryWrapper=this.$myField.children(".libwrap"),window.localStorage&&(this.$copyButton=this.$myField.find(".h5peditor-copy-button").click((function(){t.validate(),H5P.clipboardify(t.params),ns.attachToastTo(t.$copyButton.get(0),H5PEditor.t("core","copiedToClipboard"),{position:{horizontal:"center",vertical:"above",noOverflowX:!0}})})),this.$pasteButton=this.$myField.find(".h5peditor-paste-button").click(t.pasteContent.bind(this))),ns.LibraryListCache.getLibraries(t.field.options,t.librariesLoaded,t)},ns.Library.prototype.hide=function(){this.$label.hide(),this.$libraryWrapper.addClass("no-margin"),this.hideLibrarySelector(),this.hideCopyPaste()},ns.Library.prototype.hideLibrarySelector=function(){this.$myField.children("select").hide()},ns.Library.prototype.hideCopyPaste=function(){this.$myField.children(".h5peditor-copypaste-wrap").hide()},ns.Library.prototype.pasteContent=function(){var e=this;const t=H5P.getClipboard();ns.canPaste(t,e.libraries)?ns.confirmReplace(this.params.library,this.$select.offset().top,(function(){for(var n in e.$select.val(t.generic.library),e.params)e.params.hasOwnProperty(n)&&delete e.params[n];for(n in t.generic)t.generic.hasOwnProperty(n)&&(e.params[n]=t.generic[n]);e.loadLibrary(t.generic.library,!0)})):console.error("Tried to paste unsupported sub-content")},ns.Library.prototype.confirmReplace=function(e){if(this.params.library){var t=new H5P.ConfirmationDialog({headerText:H5PEditor.t("core","changeLibrary"),dialogText:H5PEditor.t("core","confirmChangeLibrary")}).appendTo(document.body);t.on("confirmed",e),t.show(this.$select.offset().top)}else e()},ns.Library.prototype.librariesLoaded=function(e){var t=this;this.libraries=e;for(var n=ns.createOption("-","-"),i=0;i<t.libraries.length;i++){var o=t.libraries[i];o.uberName!==t.params.library&&(void 0===o.title||void 0!==o.restricted&&o.restricted)||(n+=ns.createOption(o.uberName,o.title,o.uberName===t.params.library))}t.$select.html(n).change((function(){setTimeout((function(){t.params.library?t.confirmChangeLibrary.show(t.$select.offset().top):t.loadLibrary(t.$select.val())}),0)})),1===t.libraries.length&&(t.$select.hide(),t.$myField.children(".h5p-editor-flex-wrapper").hide(),t.$clearfix.hide(),t.loadLibrary(t.$select.children(":last").val(),!0)),t.updateCopyPasteButtons(),!0===t.runChangeCallback&&(t.change(),t.runChangeCallback=!1),void 0!==this.params.library&&t.loadLibrary(this.params.library,!0)},ns.Library.prototype.loadLibrary=function(e,t){var n=this;if(this.removeChildren(),"-"===e)return delete this.params.library,delete this.params.params,delete this.params.subContentId,delete this.params.metadata,this.$libraryWrapper.attr("class","libwrap"),this.updateCopyPasteButtons(),void this.change();this.$libraryWrapper.html(ns.t("core","loading")).attr("class","libwrap "+e.split(" ")[0].toLowerCase().replace(".","-")+"-editor"+(1===this.libraries.length?" no-margin":"")),ns.loadLibrary(e,(function(i){const o=n.findLibrary(e);if(void 0===o)return n.loadLibrary("-"),void n.$libraryWrapper.html(ns.createError(ns.t("core","unknownLibrary",{"%lib":e}))).attr("class","libwrap errors "+e.split(" ")[0].toLowerCase().replace(".","-")+"-editor"+(1===n.libraries.length?" no-margin":""));n.currentLibrary=e,n.params.library=e,void 0!==t&&t||(delete n.params.subContentId,n.params.params={},n.params.metadata={}),void 0===n.params.subContentId&&(n.params.subContentId=H5P.createUUID()),void 0===n.params.metadata&&(n.params.metadata={}),n.$libraryWrapper.html(""),ns.findAncestor(n.parent).addLanguages(o.uberName,ns.libraryCache[o.uberName].languages),n.params.metadata.contentType=o.title;const r=n.getLibraryMetadataSettings(o);if(r.disable?n.metadataForm=null:n.metadataForm=new ns.MetadataForm(n,n.params.metadata,n.$libraryWrapper,!r.disableExtraTitleField,!0),ns.processSemanticsChunk(i,n.params.params,n.$libraryWrapper,n),n.updateCopyPasteButtons(),n.metadataForm&&r.disableExtraTitleField)for(let e=0;e<n.children.length;e++)if(n.children[e].$item){n.metadataForm.appendButtonTo(n.children[e].$item);break}void 0!==n.libraries?n.change():n.runChangeCallback=!0}))},ns.Library.prototype.findLibrary=function(e){const t=this;for(let n=0;n<t.libraries.length;n++)if(t.libraries[n].uberName===e)return t.libraries[n]},ns.Library.prototype.getLibraryMetadataSettings=function(e){return e.metadataSettings?e.metadataSettings:{disable:!ns.enableMetadata(e.uberName),disableExtraTitleField:!1}},ns.Library.prototype.change=function(e){if(void 0!==e)this.changes.push(e);else{var t,n;for(n=0;n<this.libraries.length;n++)if(this.libraries[n].uberName===this.params.library){t=this.libraries[n];break}for(n=0;n<this.changes.length;n++)this.changes[n](t)}},ns.Library.prototype.validate=function(){var e=!0;if(this.metadataForm&&this.metadataForm.children)for(var t=0;t<this.metadataForm.children.length;t++)!1===this.metadataForm.children[t].validate()&&(e=!1);if(this.children)for(t=0;t<this.children.length;t++)!1===this.children[t].validate()&&(e=!1);else this.libraries&&this.libraries.length&&(e=!1);return!!this.field.optional||e},ns.Library.prototype.ready=function(e){this.passReadies?this.parent.ready(e):this.readies.push(e)},ns.Library.prototype.removeChildren=function(){if(this.metadataForm&&void 0!==this.metadataForm.children&&ns.removeChildren(this.metadataForm.children),"-"===this.currentLibrary||void 0===this.children)return;this.$metadataFormWrapper&&(this.$metadataFormWrapper.remove(),delete this.$metadataFormWrapper,this.$metadataButton.remove(),delete this.$metadataButton);var e=ns.findAncestor(this.parent);for(var t in e.commonFields)if(t===this.currentLibrary){var n=!1;for(var i in e.commonFields[t]){var o=e.commonFields[t][i];1===o.parents.length&&(o.instance.remove(),n=!0);for(var r=0;r<o.parents.length;r++)o.parents[r]===this&&(o.parents.splice(r,1),o.setValues.splice(r,1))}n&&(delete e.commonFields[t],ns.$(ns.renderableCommonFields[t].wrapper).remove())}const a=this.findLibrary(this.currentLibrary);e.removeLanguages(a.uberName,ns.libraryCache[a.uberName].languages),ns.removeChildren(this.children)},ns.Library.prototype.forEachChild=function(e){for(var t=0;t<this.children.length;t++)if(e(this.children[t],t))return},ns.Library.prototype.remove=function(){this.removeChildren(),void 0!==this.$select&&this.$select.parent().remove()},ns.widgets.library=ns.Library},function(e,t){var n=H5PEditor.LibraryListCache={libraryCache:{},librariesComingIn:{},librariesMissing:{},que:[]};n.getLibraries=function(e,t,i){e=e.map((function(e){return"object"==typeof e?e.name:e}));for(var o=[],r="hasAll",a=0;a<e.length;a++)e[a]in n.libraryCache?null!==n.libraryCache[e[a]]&&o.push(n.libraryCache[e[a]]):e[a]in n.librariesComingIn?"hasAll"===r&&(r="onTheWay"):(r="requestThem",n.librariesComingIn[e[a]]=!0);switch(r){case"hasAll":t.call(i,o);break;case"onTheWay":n.que.push({libraries:e,handler:t,thisArg:i});break;case"requestThem":var s={type:"POST",url:H5PEditor.getAjaxUrl("libraries"),success:function(o){n.setLibraries(o,e),t.call(i,o),n.runQue()},data:{libraries:e},dataType:"json"};H5PEditor.$.ajax(s)}},n.runQue=function(){for(var e=n.que.length,t=0;t<e;t++){var i=n.que.shift();n.getLibraries(i.libraries,i.handler,i.thisArg)}},n.setLibraries=function(e,t){for(var i=t.slice(),o=0;o<e.length;o++){n.libraryCache[e[o].uberName]=e[o],e[o].uberName in n.librariesComingIn&&delete n.librariesComingIn[e[o].uberName];var r=i.indexOf(e[o].uberName);r>-1&&i.splice(r,1)}for(o=0;o<i.length;o++)n.libraryCache[i[o]]=null,i[o]in n.librariesComingIn&&delete n.librariesComingIn[e[o]]},n.getDefaultTitle=function(e){var t=n.libraryCache[e],i=t&&t.title?t.title:"";return H5PEditor.t("core","untitled").replace(":libraryTitle",i)}},function(e,t){H5PEditor.widgets.select=H5PEditor.Select=function(e){function t(e,t,n,i){this.field=t,this.value=n,this.setValue=i,this.changes=[],this.triggerListeners=function(e){for(var t=0;t<this.changes.length;t++)this.changes[t](e)}}return t.prototype.appendTo=function(t){var n=this;this.$item=e.$(this.createHtml()).appendTo(t),this.$select=this.$item.find("select"),this.$errors=this.$item.children(".h5p-errors"),this.$select.change((function(){var e=n.validate();!1!==e&&(n.value=e,n.setValue(n.field,e),n.triggerListeners(e))}))},t.prototype.createHtml=function(){const n=ns.getNextFieldId(this.field);let i="";!0!==this.field.optional&&void 0!==this.field.default||(i=e.createOption("-","-")),i+=t.createOptionsHtml(this.field.options,this.value);let o='<select id="'+n+'"';return void 0!==this.field.description&&(o+=' aria-describedby="'+ns.getDescriptionId(n)+'"'),o+=' class="h5peditor-select">'+i+"</select>",e.createFieldMarkup(this.field,o,n)},t.createOptionsHtml=function(n,i){for(var o="",r=0;r<n.length;r++)"optgroup"===n[r].type?(o+='<optgroup label="'+n[r].label+'" >',o+=t.createOptionsHtml(n[r].options,i),o+="</optgroup>"):o+=e.createOption(n[r].value,n[r].label,n[r].value===i);return o},t.prototype.validate=function(){var e=this.$select.val();if("-"===e&&(e=void 0),!0!==this.field.optional&&void 0===e)return this.$errors.append(ns.createError(ns.t("core","requiredProperty",{":property":ns.t("core","textField")}))),!1;var t=this.$errors.children();return t.length&&t.remove(),e},t.prototype.remove=function(){this.$item.remove()},t}(H5PEditor)},function(e,t){ns.SelectorHub=function(e,t,n){var i=this;H5P.EventDispatcher.call(this),this.getContentType=function(t){for(var n=0;n<e.libraries.length;n++){var i=e.libraries[n];if(i.machineName===t)return i}};var o={contentId:H5PEditor.contentId||0,contentTypes:e,getAjaxUrl:H5PEditor.getAjaxUrl,expanded:!0,canPaste:!1};if(t){var r=this.getContentType(t.split(" ")[0]);o.title=r?r.title||r.machineName:t.split(" ")[0],o.expanded=!1}this.client=new H5P.HubClient(o,H5PEditor.language.core),this.currentLibrary=t,this.client.on("select",(function(e){var t=e;if(t.machineName!==i.currentLibrary.split(" ")[0]){if(!i.currentLibrary)return i.currentLibrary=i.createContentTypeId(t,!0),void i.trigger("selected");i.currentLibrary=i.createContentTypeId(t,!0),delete i.currentParams,delete i.currentMetadata,n.show(ns.$(i.getElement()).offset().top)}}),this),this.client.on("upload",(function(t){e=t.contentTypes;var o=i.currentLibrary;const r=t.h5p.preloadedDependencies.filter((function(e){return e.machineName===t.h5p.mainLibrary}))[0];i.currentLibrary=i.createContentTypeId(r),i.currentParams=t.content,i.currentMetadata={title:t.h5p.title,authors:t.h5p.authors,license:t.h5p.license,licenseVersion:t.h5p.licenseVersion,licenseExtras:t.h5p.licenseExtras,yearFrom:t.h5p.yearFrom,yearTo:t.h5p.yearTo,source:t.h5p.source,changes:t.h5p.changes,authorComments:t.h5p.authorComments,defaultLanguage:t.h5p.defaultLanguage};const a=function(e){const t=ns.ContentType.getNameVersionString(e);var r=new FormData;r.append("libraryParameters",JSON.stringify({library:t,params:i.currentParams,metadata:i.currentMetadata}));var a=new XMLHttpRequest;a.onload=function(){try{result=JSON.parse(a.responseText),i.currentLibrary=result.data.library,i.currentParams=result.data.params,i.currentMetadata=result.data.metadata,o?n.show(ns.$(i.getElement()).offset().top):i.trigger("selected")}catch(e){H5P.error(e)}},a.open("POST",H5PEditor.getAjaxUrl("filter"),!0),a.send(r)},s=ns.ContentType.getPossibleUpgrade(r,e.libraries);s?ns.upgradeContent(r,s,{params:i.currentParams,metadata:i.currentMetadata},(function(e,t){if(e){var n=i.getContentType(i.currentLibrary.split(" ")[0]);i.client.setPanelTitle(n.title||n.machineName,!0)}else{const e=JSON.parse(t);i.currentParams=e.params,i.currentMetadata=e.metadata,i.currentLibrary=i.createContentTypeId(s,!0),a(s)}})):a(r)}),this),this.client.on("update",(function(t){e=t})),this.client.on("resize",(function(){i.trigger("resize")})),this.client.on("paste",(function(){i.trigger("paste")}))},ns.SelectorHub.prototype=Object.create(H5P.EventDispatcher.prototype),ns.SelectorHub.prototype.constructor=ns.SelectorHub,ns.SelectorHub.prototype.resetSelection=function(e,t,n,i){this.currentLibrary=e,this.currentParams=t,this.currentMetadata=n;var o=this.getContentType(e.split(" ")[0]);this.client.setPanelTitle(o.title||o.machineName,i)},ns.SelectorHub.prototype.setCanPaste=function(e,t){this.client.setCanPaste(e,t)},ns.SelectorHub.prototype.getSelectedLibrary=function(e){var t={uberName:this.currentLibrary},n=this.getContentType(this.currentLibrary.split(" ")[0]);return n&&(t.tutorialUrl=n.tutorial,t.exampleUrl=n.example),e(t)},ns.SelectorHub.prototype.getParams=function(){return this.currentParams},ns.SelectorHub.prototype.getMetadata=function(){return this.currentMetadata},ns.SelectorHub.prototype.getElement=function(){return this.client.getElement()},ns.SelectorHub.prototype.createContentTypeId=function(e,t){var n=e.machineName;return n+=t?" "+e.localMajorVersion+"."+e.localMinorVersion:" "+e.majorVersion+"."+e.minorVersion}},function(e,t){ns.SelectorLegacy=function(e,t,n){var i=this;H5P.EventDispatcher.call(this);var o=t?t.replace(".","-").toLowerCase():void 0;this.currentLibrary=t;for(var r='<option value="-">-</option>',a=0;a<e.length;a++){var s=e[a],l=ns.libraryToString(s);t!==l&&(void 0!==s.restricted&&s.restricted||!0===s.isOld)||(r+='<option value="'+l+'"',l!==t&&s.name!==o||(r+=' selected="selected"'),void 0!==s.tutorialUrl&&(r+=' data-tutorial-url="'+s.tutorialUrl+'"'),void 0!==s.exampleUrl&&(r+=' data-example-url="'+s.exampleUrl+'"'),r+=">"+s.title+(!0===s.isOld?" (deprecated)":"")+"</option>")}this.$selector=ns.$('<select name="h5peditor-library" title="'+ns.t("core","selectLibrary")+'">'+r+"</select>").change((function(){setTimeout((function(){if(!i.currentLibrary)return i.currentLibrary=i.$selector.val(),void i.trigger("selected");i.currentLibrary=i.$selector.val(),n.show(i.$selector.offset().top)}),0)}))},ns.SelectorLegacy.prototype.resetSelection=function(e,t,n){this.$selector.val(e),this.currentParams=t,this.currentMetadata=n,this.currentLibrary=e},ns.SelectorLegacy.prototype.getSelectedLibrary=function(e){var t=this.$selector.find(":selected");e({uberName:this.currentLibrary,tutorialUrl:t.data("tutorial-url"),exampleUrl:t.data("example-url")})},ns.SelectorLegacy.prototype.getParams=function(){return this.currentParams},ns.SelectorLegacy.prototype.getMetadata=function(){return this.currentMetadata},ns.SelectorLegacy.prototype.getElement=function(){return this.$selector.get(0)}},function(e,t){ns.Dimensions=function(e,t,n,i){var o=this;this.parent=e,this.field=t,this.changes=[],H5PEditor.followField(e,t.max,(function(e){o.setMax(e)})),H5PEditor.followField(e,t.default,(function(e){void 0===n.width&&o.setSize(e)})),this.params=n,this.setValue=i,this.params.field&&(this.params.field=void 0)},ns.Dimensions.prototype.setMax=function(e){void 0!==e&&(this.max={width:parseInt(e.width),height:parseInt(e.height)})},ns.Dimensions.prototype.setSize=function(e){if(void 0!==e){this.params={width:parseInt(e.width),height:parseInt(e.height)},this.setValue(this.field,this.params),this.$inputs.filter(":eq(0)").val(e.width).next().val(e.height);for(var t=0;t<this.changes.length;t++)this.changes[t](e.width,e.height)}},ns.Dimensions.prototype.appendTo=function(e){var t=this;this.$item=ns.$(this.createHtml()).appendTo(e),this.$inputs=this.$item.find("input"),this.$errors=this.$item.children(".h5p-errors"),this.$inputs.change((function(){var e=t.validate();if(e){t.params=e,t.setValue(t.field,e);for(var n=0;n<t.changes.length;n++)t.changes[n](e.width,e.height)}})).click((function(){return!1}))},ns.Dimensions.prototype.createHtml=function(){const e=ns.getNextFieldId(this.field),t=void 0!==this.field.description?ns.getDescriptionId(e):void 0;var n=ns.createText(void 0!==this.params?this.params.width:void 0,15,ns.t("core","width"),e,t)+" x "+ns.createText(void 0!==this.params?this.params.height:void 0,15,ns.t("core","height"),void 0,t);return ns.createFieldMarkup(this.field,n,e)},ns.Dimensions.prototype.validate=function(){var e=this,t={};return this.$errors.html(""),this.$inputs.each((function(n){var i=ns.$(this),o=H5P.trim(i.val()),r=n?"height":"width",a=ns.t("core",r);return void 0!==e.field.optional&&e.field.optional||o.length?o.match(new RegExp("^[0-9]+$"))?(o=parseInt(o),void 0!==e.max&&o>e.max[r]?(e.$errors.append(ns.createError(ns.t("core","exceedsMax",{":property":a,":max":e.max[r]}))),!1):void(t[r]=o)):(e.$errors.append(ns.createError(ns.t("core","onlyNumbers",{":property":a}))),!1):(e.$errors.append(ns.createError(ns.t("core","requiredProperty",{":property":a}))),!1)})),ns.checkErrors(this.$errors,this.$inputs,t)},ns.Dimensions.prototype.remove=function(){this.$item.remove()},ns.widgets.dimensions=ns.Dimensions},function(e,t){ns.Coordinates=function(e,t,n,i){var o=this;this.parent=e,this.field=H5P.cloneObject(t,!0),this.findImageField("max",(function(e){e instanceof ns.File?(void 0!==e.params&&o.setMax(e.params.width,e.params.height),e.changes.push((function(e){void 0!==e&&o.setMax(e.params.width,e.params.height)}))):e instanceof ns.Dimensions&&(void 0!==e.params&&o.setMax(e.params.width,e.params.height),e.changes.push((function(e,t){o.setMax(e,t)})))})),this.params=n,this.setValue=i},ns.Coordinates.prototype.setMax=function(e,t){this.field.max={x:parseInt(e),y:parseInt(t)},void 0!==this.params&&(this.$errors.html(""),this.validate())},ns.Coordinates.prototype.findImageField=function(e,t){var n=this;"string"==typeof this.field[e]&&this.parent.ready((function(){if("string"==typeof n.field[e]){var i=n.field[e];if(n.field[e]=ns.findField(n.field[e],n.parent),!n.field[e])throw ns.t("core","unknownFieldPath",{":path":i});if("image"!==n.field[e].field.type&&"dimensions"!==n.field[e].field.widget)throw ns.t("core","notImageOrDimensionsField",{":path":i});t(n.field[e])}else void 0!==n.field[e]&&t(n.field[e])}))},ns.Coordinates.prototype.appendTo=function(e){var t=this;this.$item=ns.$(this.createHtml()).appendTo(e),this.$inputs=this.$item.find("input"),this.$errors=this.$item.children(".h5p-errors"),this.$inputs.change((function(){var e=t.validate();e&&(t.params=e,t.setValue(t.field,e))})).click((function(){return!1})).click((function(){return!1}))},ns.Coordinates.prototype.createHtml=function(){const e=ns.getNextFieldId(this.field),t=void 0!==this.field.description?ns.getDescriptionId(e):void 0;var n=ns.createText(void 0!==this.params?this.params.x:void 0,15,"X",e,t)+" , "+ns.createText(void 0!==this.params?this.params.y:void 0,15,"Y",void 0,t);return ns.createFieldMarkup(this.field,n,e)},ns.Coordinates.prototype.validate=function(){var e=this,t={};return this.$inputs.each((function(n){var i=ns.$(this),o=H5P.trim(i.val()),r=n?"y":"x";return!(!e.field.optional||o.length)||(void 0!==e.field.optional&&e.field.optional||o.length?o.length&&!o.match(new RegExp("^[0-9]+$"))?(e.$errors.append(ns.createError(ns.t("core","onlyNumbers",{":property":r}))),!1):(o=parseInt(o),void 0!==e.field.max&&o>e.field.max[r]?(e.$errors.append(ns.createError(ns.t("core","exceedsMax",{":property":r,":max":e.field.max[r]}))),!1):void(t[r]=o)):(e.$errors.append(ns.createError(ns.t("core","requiredProperty",{":property":r}))),!1))})),ns.checkErrors(this.$errors,this.$inputs,t)},ns.Coordinates.prototype.remove=function(){this.$item.remove()},ns.widgets.coordinates=ns.Coordinates},function(e,t){ns.None=function(e,t,n,i){this.parent=e,this.field=t,this.params=n,this.setValue=i},ns.None.prototype.appendTo=function(){},ns.None.prototype.validate=function(){return!0},ns.None.prototype.ready=function(e){this.parent.ready(e)},ns.None.prototype.remove=function(){ns.removeChildren(this.children)},ns.widgets.none=ns.None},function(e,t){H5PEditor.MetadataForm=function(e,t,n){function i(n,i,c,u,d){var f=this;e.call(f),f.passReadies=!0;const h=H5PIntegration.user&&H5PIntegration.user.name?H5PIntegration.user.name:void 0;h&&(a("changes").field.fields[1].default=h,a("authors").field.fields[0].default=h);const p=function(e){var n=e.clientY-150;t("html,body").css("height","100%"),t(".h5peditor").append(m),g.css("margin-top",(n>20?n:20)+"px"),y.$input.focus()},m=t("<div>",{class:"overlay h5p-metadata-popup-overlay"}),g=t('<div class="h5p-metadata-wrapper"><div class="h5p-metadata-header"><div class="h5p-title-container"><h2>'+r("metadataSharingAndLicensingInfo")+"</h2><p>"+r("fillInTheFieldsBelow")+'</p></div><div class="metadata-button-wrapper"><button href="#" class="h5p-metadata-button h5p-save">'+r("saveMetadata")+"</button></div></div></div>");g.find(".h5p-save").click((function(){"U"!==i.license&&0===i.authors.length&&D.addDefaultAuthor(h,"Author"),t("html,body").css("height",""),m.detach()}));const E=t("<div/>",{class:"h5p-metadata-fields-wrapper",appendTo:g});g.appendTo(m);const v=t('<div role="button" tabindex="0" class="h5p-metadata-button-wrapper"><div class="h5p-metadata-button-tip"></div><div class="h5p-metadata-toggler">'+r("metadata")+"</div></div>").click(p).keydown((function(e){13!=e.which&&32!=e.which||p(e)}));f.ready=function(e){n.passReadies?n.ready(e):b.push(e)},f.appendTo=function(e){g.appendTo(e)},f.appendButtonTo=function(e){v.appendTo(e.children(".h5peditor-label-wrapper").wrap('<div class="h5p-editor-flex-wrapper"/>').parent())},f.getExtraTitleField=function(){return u?_:void 0};const T=[];u&&T.push(o()),T.push(a("title")),T.push(a("license")),T.push(a("licenseVersion")),T.push(a("yearFrom")),T.push(a("yearTo")),T.push(a("source"));const b=[];H5PEditor.processSemanticsChunk(T,i,E,f);let C=f.children;const y=H5PEditor.findField("title",f);var I,O;y.$input.click((function(){0===this.selectionStart&&this.selectionEnd===this.value.length||(this.select(),this.setSelectionRange(0,this.value.length))})),!i.title&&d&&y.$input.val(H5PEditor.LibraryListCache.getDefaultTitle(n.currentLibrary)).change(),y.$input.change((function(){f.trigger("titlechange")})),I=H5PEditor.findField("license",f),(O=H5PEditor.findField("licenseVersion",f)).field.optional=!0,I.changes.push((function(e){var t=function e(t){var n=[];return t.forEach((function(t){"optgroup"===t.type?n=n.concat(e(t.options)):n.push(t)})),n}(I.field.options),n=s(t,"value",e),o=n?n.versions:void 0;O.$select.prop("disabled",void 0===o),void 0===o&&(o=[{value:"-",label:"-"}]);var r=i.license===e&&i?i.licenseVersion:o[0].value;O.$select.html(H5PEditor.Select.createOptionsHtml(o,r)).change()})),I.changes[I.changes.length-1](i.license),H5PEditor.findField("source",f).$item.on("change",(function(){const e=t(this).find("input.h5peditor-text");""!==e.val().trim()&&0!==e.val().indexOf("https://")&&0!==e.val().indexOf("http://")&&e.val("http://"+e.val()).trigger("change")}));const D=H5PEditor.metadataAuthorWidget(a("authors").field.fields,i,E,f);C=C.concat(f.children),H5PEditor.processSemanticsChunk([a("licenseExtras")],i,E,f),C=C.concat(f.children),H5PEditor.metadataChangelogWidget([a("changes").field],i,E,f),C=C.concat(f.children);var R=new H5PEditor.widgets.group(f,{name:"additionals",label:"Additional information",fields:[a("authorComments")]},i.authorComments,(function(e,t){i.authorComments=t}));let _;if(R.appendTo(E),f.children=C.concat([R]),u&&(_=H5PEditor.findField("extraTitle",f),_.$item.appendTo(c),f.appendButtonTo(_.$item),l(y,_)),!n.passReadies)for(let e=0;e<b.length;e++)b[e]()}i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.createLegacyForm=function(e,t){const n={passReadies:!1,getExtraTitleField:function(){return H5PEditor.findField("title",n)}},i=o();return i.name="title",H5PEditor.processSemanticsChunk([i],e,t,n),n};const o=function(){const e=JSON.parse(JSON.stringify(a("title")));return e.name="extraTitle",e.description=r("usedForSearchingReportsAndCopyrightInformation"),delete e.placeholder,e},r=function(e){return H5PEditor.t("core",e)},a=function(e){for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t]},s=function(e,t,n){for(var i=t.split("."),o=0;o<e.length;o++){for(var r=e[o],a=0;a<i.length;a++)r=r[i[a]];if(r===n)return e[o]}},l=function(e){const t=arguments;let n;const i=function(e){if(!n&&void 0!==e){n=!0;for(let n=0;n<t.length;n++)t[n].$input.val(e).change();n=!1}};for(let e=0;e<t.length;e++)t[e].change(i);if(void 0!==t[0].value){const e=document.createElement("div");e.innerHTML=t[0].value,i(e.innerText)}};return i}(H5P.EventDispatcher,H5P.jQuery,H5PEditor.metadataSemantics)},function(e,t){H5PEditor.metadataAuthorWidget=function(e,t,n,i){t.authors||(t.authors=[]);const o=H5PEditor.$,r=o('<div class="field h5p-metadata-author-widget"></div>');var a=o('<div class="h5p-author-data"></div>');r.append(a),H5PEditor.processSemanticsChunk(e,{},a,i);var s=H5PEditor.findField("name",i),l=H5PEditor.findField("role",i),c=o('<div class="field authorList"><button type="button" class="h5p-metadata-button inverted h5p-save-author">'+H5PEditor.t("core","addAuthor")+"</button></div>").children("button").click((function(e){s.field.optional=!1;var n=s.validate();s.field.optional=!0;var i=l.validate();if(!n)return;t.authors.some((function(e){return e.name===n&&e.role===i}))?f():d(n,i)})).end();a.append(c);var u=o('<div class="h5p-author-list-wrapper"><ul class="h5p-author-list"></ul></div>');function d(e,n){t.authors.push({name:e,role:n}),h(),f()}function f(){s.$input.val("")}function h(){var e=r.find(".h5p-author-list-wrapper");e.empty();const n=o("<ul></ul>");t.authors.forEach((function(e){var i=o("<li>",{html:H5PEditor.htmlspecialchars(e.name),append:o("<span>",{class:"h5p-metadata-role",html:e.role})});o("<button>",{type:"button",class:"h5p-metadata-icon-button",click:function(){confirm(H5PEditor.t("core","confirmRemoveAuthor"))&&function(e){t.authors=t.authors.filter((function(t){return t!==e})),h()}(e)}}).appendTo(i),n.append(i)})),e.append(n)}return r.append(u),h(),r.appendTo(n),{addAuthor:d,addDefaultAuthor:function(e,t){var n=s.validate();n||(n=e);var i=l.validate();i||(i=t),d(n,i)}}}},function(e,t){H5PEditor.metadataChangelogWidget=function(e,t,n,i){t.changes||(t.changes=[]);var o=H5PEditor.$,r={editing:!1,newLog:!1,currentLog:void 0},a=o('<div class="field h5p-metadata-changelog"></div>');H5PEditor.processSemanticsChunk(e,{},a,i);var s=H5PEditor.findField("change",i),l=H5PEditor.findField("date",s),c=H5PEditor.findField("author",s),u=H5PEditor.findField("log",s),d=s.$content,f=l.$item.add(c.$item).add(u.$item),h=o("<div>",{class:"h5peditor-field-description",text:H5PEditor.t("core","changelogDescription")});d.append(h);var p=o("<button>",{class:"h5p-metadata-button h5p-cancel",type:"button",text:H5PEditor.t("core","cancel"),click:function(){b(),r.editing=!1,r.currentLog=void 0,C()}}),m=o("<button>",{class:"h5p-metadata-button inverted h5p-log-change",type:"button",text:H5PEditor.t("core","logThisChange"),click:function(){var e=O(!1);e.date&&e.author&&e.log&&(void 0!==r.currentLog?t.changes[r.currentLog]=e:(t.changes.push(e),r.newLog=!0),r.editing=!1,b(),C(),r.currentLog=void 0)}}),g=o("<button>",{class:"h5p-metadata-button inverted h5p-add-author",type:"button",text:H5PEditor.t("core","addNewChange"),click:function(){r.editing=!0,r.newLog=!1,b(),C()}}),E=o('<div class="h5p-metadata-changelog-buttons"></div>');E.append(p),E.append(m),E.append(g),d.append(E);var v=o("<div",{class:"h5p-metadata-new-log-message",text:H5PEditor.t("core","newChangeHasBeenLogged"),appendTo:d}),T=o("<div>",{class:"h5p-metadata-logged-changes",appendTo:d});function b(){l.$input.val(""),u.$input.val(""),O(!0)}function C(){var e,n,i;v.toggle(r.newLog),h.toggle(!r.editing),g.toggle(!r.editing),p.toggle(r.editing),m.toggle(r.editing),f.toggle(r.editing),r.editing?(!function(){if(void 0!==r.currentLog){O(!0);var e=t.changes[r.currentLog];l.$input.val(e.date);var n=document.createElement("div");n.innerHTML=H5PEditor.htmlspecialchars(e.author),c.$input.val(n.textContent),n.innerHTML=H5PEditor.htmlspecialchars(e.log),u.$input.val(n.textContent)}}(),l.$input.hasClass("datepicker")||(l.$input.addClass("datepicker"),e=l.$input,n=function(){e.Zebra_DatePicker({format:"d-m-y G:i:s",onClose:function(){l.validate()}})},e.Zebra_DatePicker?n():(i=n,o.ajax({url:H5PEditor.basePath+"libs/zebra_datepicker.min.js",dataType:"script",success:i,error:function(e,t){console.warn("error loading libraries: ",t)},async:!0})))):function(){if(T.empty(),T.append('<span class="h5peditor-label h5p-metadata-log-wrapper-title">'+H5PEditor.t("core","loggedChanges")+"</span>"),0==t.changes.length)T.append(o('<div class="h5peditor-field-description">'+H5PEditor.t("core","noChangesHaveBeenLogged")+"</div>"));else{var e=o('<div class="h5p-metadata-log-wrapper"></div>');T.append(e);for(var n=0;n<t.changes.length;n++){var i=t.changes[n],r=o("<div>",{class:"h5p-metadata-log-date",html:H5PEditor.htmlspecialchars(i.date)}),a=o("<div>",{class:"h5p-metadata-log-description",html:H5PEditor.htmlspecialchars(i.log)}),s=o("<div>",{class:"h5p-metadata-log-author",html:"by "+H5PEditor.htmlspecialchars(i.author)}),l=o('<div class="h5p-metadata-description-wrapper"></div>');l.append(a),l.append(s);var c=o('<div class="h5p-metadata-log-buttons"><button type="button" class="h5p-metadata-edit h5p-metadata-icon-button"></button><button type="button" class="h5p-metadata-delete h5p-metadata-icon-button"></button></div>');c.find(".h5p-metadata-delete").click((function(){if(confirm(H5PEditor.t("core","confirmDeleteChangeLog"))){var e=o(this).closest(".h5p-metadata-log");I(o(e).data("index"))}})),c.find(".h5p-metadata-edit").click((function(){var e=o(this).closest(".h5p-metadata-log");y(o(e).data("index"))}));var u=o("<div>",{class:"h5p-metadata-log","data-index":n});u.append(r),u.append(l),u.append(c),e.prepend(u)}}}(),T.toggleClass("editing",r.editing)}function y(e){r.editing=!0,r.currentLog=e,r.newLog=!1,C()}function I(e){t.changes.splice(e,1),C()}function O(e){return l.field.optional=e,c.field.optional=e,u.field.optional=e,{date:l.validate(),author:c.validate(),log:u.validate()}}a.appendTo(n),C()}},function(e,t){var n=n||{},i=i||{};n.Presave=function(e){"use strict";function t(){this.maxScore=0}return t.prototype.process=function(e,n){var o=this;return e=t.sanitizeLibrary(e),!0===t.libraryExists(e)&&i[e](n,(function(e){"object"==typeof e&&e.hasOwnProperty("maxScore")&&t.isInt(e.maxScore)&&(o.maxScore+=e.maxScore)})),this},t.validateScore=function(e){if(!t.isInt(e)||e<0)throw new this.exceptions.InvalidMaxScoreException;return!0},t.checkNestedRequirements=function(e,t){if(void 0===e)return!1;"string"==typeof t&&(t=t.split("."));for(var n=1;n<t.length;n++){if(!e.hasOwnProperty(t[n]))return!1;e=e[t[n]]}return!0},t.isInt=function(e){return!isNaN(e)&&(0|(t=parseFloat(e)))===t;var t},t.libraryExists=function(e){return void 0!==i[e]},t.sanitizeLibrary=function(t){return e.libraryFromString(t).machineName||t},t.exceptions={InvalidMaxScoreException:function(t){this.message="string"==typeof t?t:e.t("core","errorCalculatingMaxScore"),this.name="InvalidMaxScoreError",this.code="H5P-P400"},InvalidContentSemanticsException:function(t,n){this.message="string"==typeof n?n:e.t("core","semanticsError",{":error":e.t("core","maxScoreSemanticsMissing")}),this.name="string"==typeof t?t:"Invalid Content Semantics Error",this.code="H5P-P500"}},t.prototype.constructor=t,t}(n)},function(e,t){!function(){if(!window.CKEDITOR||!window.CKEDITOR.dom){var e,t,n,i,o,r,a,s,l;window.CKEDITOR||(window.CKEDITOR=function(){var e=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,t={timestamp:"J8Q8",version:"4.13.0",revision:"83e9de8d6b",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:e},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var n=document.getElementsByTagName("script"),i=0;i<n.length;i++){var o=n[i].src.match(e);if(o){t=o[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(e){return-1==e.indexOf(":/")&&0!==e.indexOf("/")&&(e=this.basePath+e),this.timestamp&&"/"!=e.charAt(e.length-1)&&!/[&?]t=/.test(e)&&(e+=(0<=e.indexOf("?")?"&":"?")+"t="+this.timestamp),e},domReady:function(){function e(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),t())}catch(e){}}function t(){for(var e;e=n.shift();)e()}var n=[];return function(t){if(n.push(t),"complete"===document.readyState&&setTimeout(e,1),1==n.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e),t=!1;try{t=!window.frameElement}catch(e){}document.documentElement.doScroll&&t&&function t(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}e()}()}}}()},n=window.CKEDITOR_GETURL;if(n){var i=t.getUrl;t.getUrl=function(e){return n.call(t,e)||i.call(t,e)}}return t}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(e){var t,n=CKEDITOR.event.prototype;for(t in n)null==e[t]&&(e[t]=n[t])},CKEDITOR.event.prototype=function(){function e(e){var i=t(this);return i[e]||(i[e]=new n(e))}var t=function(e){return(e=e.getPrivate&&e.getPrivate()||e._||(e._={})).events||(e.events={})},n=function(e){this.name=e,this.listeners=[]};return n.prototype={getListenerIndex:function(e){for(var t=0,n=this.listeners;t<n.length;t++)if(n[t].fn==e)return t;return-1}},{define:function(t,n){var i=e.call(this,t);CKEDITOR.tools.extend(i,n,!0)},on:function(t,n,i,o,r){function a(e,r,a,l){return e={name:t,sender:this,editor:e,data:r,listenerData:o,stop:a,cancel:l,removeListener:s},!1!==n.call(i,e)&&e.data}function s(){c.removeListener(t,n)}var l=e.call(this,t);if(0>l.getListenerIndex(n)){l=l.listeners,i||(i=this),isNaN(r)&&(r=10);var c=this;a.fn=n,a.priority=r;for(var u=l.length-1;0<=u;u--)if(l[u].priority<=r)return l.splice(u+1,0,a),{removeListener:s};l.unshift(a)}return{removeListener:s}},once:function(){var e=Array.prototype.slice.call(arguments),t=e[1];return e[1]=function(e){return e.removeListener(),t.apply(this,arguments)},this.on.apply(this,e)},capture:function(){CKEDITOR.event.useCapture=1;var e=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,e},fire:function(){var e=0,n=function(){e=1},i=0,o=function(){i=1};return function(r,a,s){var l=t(this)[r];r=e;var c=i;if((e=i=0,l)&&(d=l.listeners).length)for(var u,d=d.slice(0),f=0;f<d.length;f++){if(l.errorProof)try{u=d[f].call(this,s,a,n,o)}catch(e){}else u=d[f].call(this,s,a,n,o);if(!1===u?i=1:void 0!==u&&(a=u),e||i)break}return a=!i&&(void 0===a||a),e=r,i=c,a}}(),fireOnce:function(e,n,i){return n=this.fire(e,n,i),delete t(this)[e],n},removeListener:function(e,n){var i=t(this)[e];if(i){var o=i.getListenerIndex(n);0<=o&&i.listeners.splice(o,1)}},removeAllListeners:function(){var e,n=t(this);for(e in n)delete n[e]},hasListeners:function(e){return(e=t(this)[e])&&0<e.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fire.call(this,e,t,this)},CKEDITOR.editor.prototype.fireOnce=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fireOnce.call(this,e,t,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var e=navigator.userAgent.toLowerCase(),t=e.match(/edge[ \/](\d+.?\d*)/),n=-1<e.indexOf("trident/");(n={ie:n=!(!t&&!n),edge:!!t,webkit:!n&&-1<e.indexOf(" applewebkit/"),air:-1<e.indexOf(" adobeair/"),mac:-1<e.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<e.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(e),isCustomDomain:function(){if(!this.ie)return!1;var e=document.domain,t=window.location.hostname;return e!=t&&e!="["+t+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<e.indexOf("chrome")?n.chrome=!0:n.safari=!0);var i=0;return n.ie&&(i=t?parseFloat(t[1]):n.quirks||!document.documentMode?parseFloat(e.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==i,n.ie8Compat=8==i,n.ie7Compat=7==i,n.ie6Compat=7>i||n.quirks),n.gecko&&(t=e.match(/rv:([\d\.]+)/))&&(i=1e4*(t=t[1].split("."))[0]+100*(t[1]||0)+1*(t[2]||0)),n.air&&(i=parseFloat(e.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(i=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!(n.ie&&7>i||n.gecko&&4e4>i||n.webkit&&534>i),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<i,n.needsNbspFiller=n.ie&&11>i,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var e=document.createElement("script");e.type="text/javascript",e.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(e)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(e){(this._.pending||(this._.pending=[])).push(e)},CKEDITOR.domReady((function(){var e=CKEDITOR.loadFullCore,t=CKEDITOR.loadFullCoreTimeout;e&&(CKEDITOR.status="basic_ready",e&&e._load?e():t&&setTimeout((function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()}),1e3*t))})),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:e,additionalData:t})},CKEDITOR.error=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:e,additionalData:t})},CKEDITOR.on("log",(function(e){if(window.console&&window.console.log){var t=console[e.data.type]?e.data.type:"log",n=e.data.errorCode;(e=e.data.additionalData)?console[t]("[CKEDITOR] Error code: "+n+".",e):console[t]("[CKEDITOR] Error code: "+n+"."),console[t]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+n)}}),null,null,999),CKEDITOR.dom={},function(){function e(e,t,n){this._minInterval=e,this._context=n,this._lastOutput=this._scheduledTimer=0,this._output=CKEDITOR.tools.bind(t,n||{});var i=this;this.input=function(){function e(){i._lastOutput=(new Date).getTime(),i._scheduledTimer=0,i._call()}if(!i._scheduledTimer||!1!==i._reschedule()){var t=(new Date).getTime()-i._lastOutput;t<i._minInterval?i._scheduledTimer=setTimeout(e,i._minInterval-t):e()}}}function t(t,n,i){e.call(this,t,n,i),this._args=[];var o=this;this.input=CKEDITOR.tools.override(this.input,(function(e){return function(){o._args=Array.prototype.slice.call(arguments),e.call(this)}}))}var n=[],i=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",o=/&/g,r=/>/g,a=/</g,s=/"/g,l=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,c={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"Â ",shy:"Â­"},u=function(e,t){return"#"==t[0]?String.fromCharCode(parseInt(t.slice(1),10)):c[t]};CKEDITOR.on("reset",(function(){n=[]})),CKEDITOR.tools={arrayCompare:function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},getIndex:function(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1},clone:function(e){var t;if(e&&e instanceof Array){t=[];for(var n=0;n<e.length;n++)t[n]=CKEDITOR.tools.clone(e[n]);return t}if(null===e||"object"!=typeof e||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Date||e instanceof RegExp||e.nodeType||e.window===e)return e;for(n in t=new e.constructor,e)t[n]=CKEDITOR.tools.clone(e[n]);return t},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},extend:function(e){var t,n,i=arguments.length;"boolean"==typeof(t=arguments[i-1])?i--:"boolean"==typeof(t=arguments[i-2])&&(n=arguments[i-1],i-=2);for(var o=1;o<i;o++){var r=arguments[o]||{};CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(r),(function(i){!0!==t&&null!=e[i]||(!n||i in n)&&(e[i]=r[i])}))}return e},prototypedCopy:function(e){var t=function(){};return t.prototype=e,new t},copy:function(e){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},cssVendorPrefix:function(e,t,n){return n?i+e+":"+t+";"+e+":"+t:((n={})[e]=t,n[i+e]=t,n)},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t=void 0!==e.cssFloat?"cssFloat":void 0!==e.styleFloat?"styleFloat":"float";return function(e){return"float"==e?t:e.replace(/-./g,(function(e){return e.substr(1).toUpperCase()}))}}(),buildStyleHtml:function(e){e=[].concat(e);for(var t,n=[],i=0;i<e.length;i++)(t=e[i])&&(/@import|[{}]/.test(t)?n.push("<style>"+t+"</style>"):n.push('<link type="text/css" rel=stylesheet href="'+t+'">'));return n.join("")},htmlEncode:function(e){return null==e?"":String(e).replace(o,"&amp;").replace(r,"&gt;").replace(a,"&lt;")},htmlDecode:function(e){return e.replace(l,u)},htmlEncodeAttr:function(e){return CKEDITOR.tools.htmlEncode(e).replace(s,"&quot;")},htmlDecodeAttr:function(e){return CKEDITOR.tools.htmlDecode(e)},transformPlainTextToHtml:function(e,t){var n=t==CKEDITOR.ENTER_BR,i=(i=this.htmlEncode(e.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),o=t==CKEDITOR.ENTER_P?"p":"div";if(!n){var r=/\n{2}/g;if(r.test(i)){var a="<"+o+">",s="</"+o+">";i=a+i.replace(r,(function(){return s+a}))+s}}return i=i.replace(/\n/g,"<br>"),n||(i=i.replace(new RegExp("<br>(?=</"+o+">)"),(function(e){return CKEDITOR.tools.repeat(e,2)}))),(i=i.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,(function(e,t){return t+"&nbsp;"})).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var e=0;return function(){return++e}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var e="e",t=0;8>t;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e},override:function(e,t){var n=t(e);return n.prototype=e.prototype,n},setTimeout:function(e,t,n,i,o){return o||(o=window),n||(n=o),o.setTimeout((function(){i?e.apply(n,[].concat(i)):e.apply(n)}),t||0)},throttle:function(e,t,n){return new this.buffers.throttle(e,t,n)},trim:function(){var e=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(t){return t.replace(e,"")}}(),ltrim:function(){var e=/^[ \t\n\r]+/g;return function(t){return t.replace(e,"")}}(),rtrim:function(){var e=/[ \t\n\r]+$/g;return function(t){return t.replace(e,"")}}(),indexOf:function(e,t){if("function"==typeof t){for(var n=0,i=e.length;n<i;n++)if(t(e[n]))return n}else{if(e.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1},search:function(e,t){var n=CKEDITOR.tools.indexOf(e,t);return 0<=n?e[n]:null},bind:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}},createClass:function(e){var t=e.$,n=e.base,i=e.privates||e._,o=e.proto;if(e=e.statics,!t&&(t=function(){n&&this.base.apply(this,arguments)}),i){var r=t;t=function(){var e,t=this._||(this._={});for(e in i){var n=i[e];t[e]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}r.apply(this,arguments)}}return n&&(t.prototype=this.prototypedCopy(n.prototype),t.prototype.constructor=t,t.base=n,t.baseProto=n.prototype,t.prototype.base=function e(){this.base=n.prototype.base,n.apply(this,arguments),this.base=e}),o&&this.extend(t.prototype,o,!0),e&&this.extend(t,e,!0),t},addFunction:function(e,t){return n.push((function(){return e.apply(t||this,arguments)}))-1},removeFunction:function(e){n[e]=null},callFunction:function(e){var t=n[e];return t&&t.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var e,t=/^-?\d+\.?\d*px$/;return function(n){return e=CKEDITOR.tools.trim(n+"")+"px",t.test(e)?e:n||""}}(),convertToPx:function(){var e;return function(t){if(e||(e=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(e)),!/%$/.test(t)){var n=0>parseFloat(t);return n&&(t=t.replace("-","")),e.setStyle("width",t),t=e.$.clientWidth,n?-t:t}return t}}(),repeat:function(e,t){return Array(t+1).join(e)},tryThese:function(){for(var e,t=0,n=arguments.length;t<n;t++){var i=arguments[t];try{e=i();break}catch(e){}}return e},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(e){return function(){var t=arguments,n=this;window.setTimeout((function(){e.apply(n,t)}),0)}},normalizeCssText:function(e,t){var n,i=[],o=CKEDITOR.tools.parseCssText(e,!0,t);for(n in o)i.push(n+":"+o[n]);return i.sort(),i.length?i.join(";")+";":""},convertRgbToHex:function(e){return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,(function(e,t,n,i){for(e=[t,n,i],t=0;3>t;t++)e[t]=("0"+parseInt(e[t],10).toString(16)).slice(-2);return"#"+e.join("")}))},normalizeHex:function(e){return e.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,(function(e,t,n,i){return 3==(e=t.toLowerCase()).length&&(e=[(e=e.split(""))[0],e[0],e[1],e[1],e[2],e[2]].join("")),"#"+e+i}))},parseCssText:function(e,t,n){var i={};return n&&(e=new CKEDITOR.dom.element("span").setAttribute("style",e).getAttribute("style")||""),e&&(e=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(e))),e&&";"!=e?(e.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,(function(e,n,o){t&&("font-family"==(n=n.toLowerCase())&&(o=o.replace(/\s*,\s*/g,",")),o=CKEDITOR.tools.trim(o)),i[n]=o})),i):i},writeCssText:function(e,t){var n,i=[];for(n in e)i.push(n+":"+e[n]);return t&&i.sort(),i.join("; ")},objectCompare:function(e,t,n){var i;if(!e&&!t)return!0;if(!e||!t)return!1;for(i in e)if(e[i]!=t[i])return!1;if(!n)for(i in t)if(e[i]!=t[i])return!1;return!0},objectKeys:function(e){return CKEDITOR.tools.object.keys(e)},convertArrayToObject:function(e,t){var n={};1==arguments.length&&(t=!0);for(var i=0,o=e.length;i<o;++i)n[e[i]]=t;return n},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(t){if(!(e=e?e.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=e}return!!e},eventsBuffer:function(e,t,n){return new this.buffers.event(e,t,n)},enableHtml5Elements:function(e,t){for(var n,i="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),o=i.length;o--;)n=e.createElement(i[o]),t&&e.appendChild(n)},checkIfAnyArrayItemMatches:function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n].match(t))return!0;return!1},checkIfAnyObjectPropertyMatches:function(e,t){for(var n in e)if(n.match(t))return!0;return!1},keystrokeToString:function(e,t){var n=this.keystrokeToArray(e,t);return n.display=n.display.join("+"),n.aria=n.aria.join("+"),n},keystrokeToArray:function(e,t){var n=16711680&t,i=65535&t,o=CKEDITOR.env.mac,r=[],a=[];return n&CKEDITOR.CTRL&&(r.push(o?"â":e[17]),a.push(o?e[224]:e[17])),n&CKEDITOR.ALT&&(r.push(o?"â¥":e[18]),a.push(e[18])),n&CKEDITOR.SHIFT&&(r.push(o?"â§":e[16]),a.push(e[16])),i&&(e[i]?(r.push(e[i]),a.push(e[i])):(r.push(String.fromCharCode(i)),a.push(String.fromCharCode(i)))),{display:r,aria:a}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(e){e=e.toLowerCase();for(var t,n=document.cookie.split(";"),i=0;i<n.length;i++)if(t=n[i].split("="),decodeURIComponent(CKEDITOR.tools.trim(t[0]).toLowerCase())===e)return decodeURIComponent(1<t.length?t[1]:"");return null},setCookie:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"},getCsrfToken:function(){if(!(e=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=e.length){var e=[],t="";if(window.crypto&&window.crypto.getRandomValues)e=new Uint8Array(40),window.crypto.getRandomValues(e);else for(var n=0;40>n;n++)e.push(Math.floor(256*Math.random()));for(n=0;n<e.length;n++){var i="abcdefghijklmnopqrstuvwxyz0123456789".charAt(e[n]%36);t=t+(.5<Math.random()?i.toUpperCase():i)}e=t,CKEDITOR.tools.setCookie("ckCsrfToken",e)}return e},escapeCss:function(e){return e?window.CSS&&CSS.escape?CSS.escape(e):isNaN(parseInt(e.charAt(0),10))?e:"\\3"+e.charAt(0)+" "+e.substring(1,e.length):""},getMouseButton:function(e){return!!(e=e&&e.data?e.data.$:e)&&CKEDITOR.tools.normalizeMouseButton(e.button)},normalizeMouseButton:function(e,t){if(!CKEDITOR.env.ie||9<=CKEDITOR.env.version&&!CKEDITOR.env.ie6Compat)return e;for(var n=[[CKEDITOR.MOUSE_BUTTON_LEFT,1],[CKEDITOR.MOUSE_BUTTON_MIDDLE,4],[CKEDITOR.MOUSE_BUTTON_RIGHT,2]],i=0;i<n.length;i++){var o=n[i];if(o[0]===e&&t)return o[1];if(!t&&o[1]===e)return o[0]}},convertHexStringToBytes:function(e){var t,n=[],i=e.length/2;for(t=0;t<i;t++)n.push(parseInt(e.substr(2*t,2),16));return n},convertBytesToBase64:function(e){var t,n="",i=e.length;for(t=0;t<i;t+=3){var o,r=e.slice(t,t+3),a=r.length,s=[];if(3>a)for(o=a;3>o;o++)r[o]=0;for(s[0]=(252&r[0])>>2,s[1]=(3&r[0])<<4|r[1]>>4,s[2]=(15&r[1])<<2|(192&r[2])>>6,s[3]=63&r[2],o=0;4>o;o++)n=o<=a?n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[o]):n+"="}return n},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(e){var t={},n=this._findColor(e);return n.length&&(t.color=n[0],CKEDITOR.tools.array.forEach(n,(function(t){e=e.replace(t,"")}))),(e=CKEDITOR.tools.trim(e))&&(t.unprocessed=e),t},margin:function(e){return CKEDITOR.tools.style.parse.sideShorthand(e,(function(e){return e.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset|revert)/g)||["0px"]}))},sideShorthand:function(e,t){function n(e){i.top=o[e[0]],i.right=o[e[1]],i.bottom=o[e[2]],i.left=o[e[3]]}var i={},o=t?t(e):e.split(/\s+/);switch(o.length){case 1:n([0,0,0,0]);break;case 2:n([0,1,0,1]);break;case 3:n([0,1,2,1]);break;case 4:n([0,1,2,3])}return i},border:function(e){return CKEDITOR.tools.style.border.fromCssRule(e)},_findColor:function(e){var t=[],n=CKEDITOR.tools.array;return(t=(t=t.concat(e.match(this._rgbaRegExp)||[])).concat(e.match(this._hslaRegExp)||[])).concat(n.filter(e.split(/\s+/),(function(e){return!!e.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||e.toLowerCase()in CKEDITOR.tools.style.parse._colors})))}}},array:{filter:function(e,t,n){var i=[];return this.forEach(e,(function(o,r){t.call(n,o,r,e)&&i.push(o)})),i},find:function(e,t,n){for(var i=e.length,o=0;o<i;){if(t.call(n,e[o],o,e))return e[o];o++}},forEach:function(e,t,n){var i,o=e.length;for(i=0;i<o;i++)t.call(n,e[i],i,e)},map:function(e,t,n){for(var i=[],o=0;o<e.length;o++)i.push(t.call(n,e[o],o,e));return i},reduce:function(e,t,n,i){for(var o=0;o<e.length;o++)n=t.call(i,n,e[o],o,e);return n},every:function(e,t,n){return!e.length||(t=this.filter(e,t,n),e.length===t.length)},some:function(e,t,n){for(var i=0;i<e.length;i++)if(t.call(n,e[i],i,e))return!0;return!1}},object:{DONT_ENUMS:"toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),entries:function(e){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(e),(function(t){return[t,e[t]]}))},values:function(e){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(e),(function(t){return e[t]}))},keys:function(e){var t=Object.prototype.hasOwnProperty,n=[],i=CKEDITOR.tools.object.DONT_ENUMS;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(!e||"object"!=typeof e)){if(t=[],"string"==typeof e)for(n=0;n<e.length;n++)t.push(String(n));return t}for(var o in e)n.push(o);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)for(o=0;o<i.length;o++)t.call(e,i[o])&&n.push(i[o]);return n},findKey:function(e,t){if("object"!=typeof e)return null;for(var n in e)if(e[n]===t)return n;return null},merge:function(e,t){var n=CKEDITOR.tools,i=n.clone(e),o=n.clone(t);return n.array.forEach(n.object.keys(o),(function(e){i[e]="object"==typeof o[e]&&"object"==typeof i[e]?n.object.merge(i[e],o[e]):o[e]})),i}},getAbsoluteRectPosition:function(e,t){var n=CKEDITOR.tools.copy(t);!function e(t){if(t){var i=t.getClientRect();n.top+=i.top,n.left+=i.left,"x"in n&&"y"in n&&(n.x+=i.x,n.y+=i.y),e(t.getWindow().getFrame())}}(e.getFrame());var i=CKEDITOR.document.getWindow().getScrollPosition();return n.top+=i.y,n.left+=i.x,"x"in n&&"y"in n&&(n.y+=i.y,n.x+=i.x),n.right=n.left+n.width,n.bottom=n.top+n.height,n}},e.prototype={reset:function(){this._lastOutput=0,this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer),this._scheduledTimer=0}},t.prototype=CKEDITOR.tools.prototypedCopy(e.prototype),t.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()},t.prototype._call=function(){this._output.apply(this._context,this._args)},CKEDITOR.tools.buffers={},CKEDITOR.tools.buffers.event=e,CKEDITOR.tools.buffers.throttle=t,CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:function(e){e=e||{},this.width=e.width,this.style=e.style,this.color=e.color,this._.normalize()},_:{normalizeMap:{color:[[/windowtext/g,"black"]]},normalize:function(){for(var e in this._.normalizeMap){var t=this[e];t&&(this[e]=CKEDITOR.tools.array.reduce(this._.normalizeMap[e],(function(e,t){return e.replace(t[0],t[1])}),t))}}},proto:{toString:function(){return CKEDITOR.tools.array.filter([this.width,this.style,this.color],(function(e){return!!e})).join(" ")}},statics:{fromCssRule:function(e){var t={},n=e.split(/\s+/g);return(e=CKEDITOR.tools.style.parse._findColor(e)).length&&(t.color=e[0]),CKEDITOR.tools.array.forEach(n,(function(e){t.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,e)?!t.width&&CKEDITOR.tools.style.parse._widthRegExp.test(e)&&(t.width=e):t.style=e})),new CKEDITOR.tools.style.border(t)},splitCssValues:function(e,t){t=t||{};var n=CKEDITOR.tools.array.reduce(["width","style","color"],(function(n,i){var o=e["border-"+i]||t[i];return n[i]=o?CKEDITOR.tools.style.parse.sideShorthand(o):null,n}),{});return CKEDITOR.tools.array.reduce(["top","right","bottom","left"],(function(t,i){var o,r={};for(o in n){var a=e["border-"+i+"-"+o];r[o]=a||n[o]&&n[o][i]}return t["border-"+i]=new CKEDITOR.tools.style.border(r),t}),{})}}}),CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=(e=CKEDITOR.tools.extend,t=function(e,t){for(var n=CKEDITOR.tools.clone(e),i=1;i<arguments.length;i++)for(var o in t=arguments[i])delete n[o];return n},i={},o={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},r={command:1,link:1,meta:1,noscript:1,script:1,style:1},a={},l={center:1,dir:1,noframes:1},e(n={},{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},s={"#":1},{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),e(i,o,n,l),t={a:t(n,{a:1,button:1}),abbr:n,address:i,area:a,article:i,aside:i,audio:e({source:1,track:1},i),b:n,base:a,bdi:n,bdo:n,blockquote:i,body:i,br:a,button:t(n,{a:1,button:1}),canvas:n,caption:i,cite:n,code:n,col:a,colgroup:{col:1},command:a,datalist:e({option:1},n),dd:i,del:n,details:e({summary:1},i),dfn:n,div:i,dl:{dt:1,dd:1},dt:i,em:n,embed:a,fieldset:e({legend:1},i),figcaption:i,figure:e({figcaption:1},i),footer:i,form:i,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:e({title:1,base:1},r),header:i,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:a,html:e({head:1,body:1},i,r),i:n,iframe:s,img:a,input:a,ins:n,kbd:n,keygen:a,label:n,legend:n,li:i,link:a,main:i,map:i,mark:n,menu:e({li:1},i),meta:a,meter:t(n,{meter:1}),nav:i,noscript:e({link:1,meta:1,style:1},n),object:e({param:1},n),ol:{li:1},optgroup:{option:1},option:s,output:n,p:n,param:a,pre:n,progress:t(n,{progress:1}),q:n,rp:n,rt:n,ruby:e({rp:1,rt:1},n),s:n,samp:n,script:s,section:i,select:{optgroup:1,option:1},small:n,source:a,span:n,strong:n,style:s,sub:n,summary:e({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n),sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:i,textarea:s,tfoot:{tr:1},th:i,thead:{tr:1},time:t(n,{time:1}),title:s,tr:{th:1,td:1},track:a,u:n,ul:{li:1},var:n,video:e({source:1,track:1},i),wbr:a,acronym:n,applet:e({param:1},i),basefont:a,big:n,center:i,dialog:a,dir:{li:1},font:n,isindex:a,noframes:i,strike:n,tt:n},e(t,{$block:e({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},o,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:e({body:1,head:1,html:1},t.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),t),CKEDITOR.dom.event=function(e){this.$=e},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var e=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(e+=CKEDITOR.CTRL),this.$.shiftKey&&(e+=CKEDITOR.SHIFT),this.$.altKey&&(e+=CKEDITOR.ALT),e},preventDefault:function(e){var t=this.$;t.preventDefault?t.preventDefault():t.returnValue=!1,e&&this.stopPropagation()},stopPropagation:function(){var e=this.$;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getTarget:function(){var e=this.$.target||this.$.srcElement;return e?new CKEDITOR.dom.node(e):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var e=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(e.documentElement.scrollLeft||e.body.scrollLeft),y:this.$.pageY||this.$.clientY+(e.documentElement.scrollTop||e.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(e){e&&(this.$=e)},CKEDITOR.dom.domObject.prototype=function(){var e=function(e,t){return function(n){"undefined"!=typeof CKEDITOR&&e.fire(t,new CKEDITOR.dom.event(n))}};return{getPrivate:function(){var e;return(e=this.getCustomData("_"))||this.setCustomData("_",e={}),e},on:function(t){var n=this.getCustomData("_cke_nativeListeners");return n||(n={},this.setCustomData("_cke_nativeListeners",n)),n[t]||(n=n[t]=e(this,t),this.$.addEventListener?this.$.addEventListener(t,n,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,n)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(e){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(e)){var t=this.getCustomData("_cke_nativeListeners"),n=t&&t[e];n&&(this.$.removeEventListener?this.$.removeEventListener(e,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+e,n),delete t[e])}},removeAllListeners:function(){try{var e,t=this.getCustomData("_cke_nativeListeners");for(e in t){var n=t[e];this.$.detachEvent?this.$.detachEvent("on"+e,n):this.$.removeEventListener&&this.$.removeEventListener(e,n,!1),delete t[e]}}catch(e){if(!CKEDITOR.env.edge||-2146828218!==e.number)throw e}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(e){var t={};CKEDITOR.on("reset",(function(){t={}})),e.equals=function(e){try{return e&&e.$===this.$}catch(e){return!1}},e.setCustomData=function(e,n){var i=this.getUniqueId();return(t[i]||(t[i]={}))[e]=n,this},e.getCustomData=function(e){var n=this.$["data-cke-expando"];return(n=n&&t[n])&&e in n?n[e]:null},e.removeCustomData=function(e){var n,i,o;return(n=(n=this.$["data-cke-expando"])&&t[n])&&(i=n[e],o=e in n,delete n[e]),o?i:null},e.clearCustomData=function(){this.removeAllListeners();var e=this.getUniqueId();e&&delete t[e]},e.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(e)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(e){return e?new CKEDITOR.dom[e.nodeType==CKEDITOR.NODE_DOCUMENT?"document":e.nodeType==CKEDITOR.NODE_ELEMENT?"element":e.nodeType==CKEDITOR.NODE_TEXT?"text":e.nodeType==CKEDITOR.NODE_COMMENT?"comment":e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](e):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(e,t){return e.append(this,t),e},clone:function(e,t){var n=this.$.cloneNode(e);return function n(i){if(i["data-cke-expando"]&&(i["data-cke-expando"]=!1),(i.nodeType==CKEDITOR.NODE_ELEMENT||i.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(t||i.nodeType!=CKEDITOR.NODE_ELEMENT||i.removeAttribute("id",!1),e)){i=i.childNodes;for(var o=0;o<i.length;o++)n(i[o])}}(n),n=new CKEDITOR.dom.node(n),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&function t(n){if(n.type==CKEDITOR.NODE_ELEMENT||n.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(n.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var i=n.getName();":"==i[0]&&n.renameNode(i.substring(1))}if(e)for(i=0;i<n.getChildCount();i++)t(n.getChild(i))}}(n),n},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(e){return e.$.parentNode.insertBefore(this.$,e.$.nextSibling),e},insertBefore:function(e){return e.$.parentNode.insertBefore(this.$,e.$),e},insertBeforeMe:function(e){return this.$.parentNode.insertBefore(e.$,this.$),e},getAddress:function(e){for(var t=[],n=this.getDocument().$.documentElement,i=this;i&&i!=n;){var o=i.getParent();o&&t.unshift(this.getIndex.call(i,e)),i=o}return t},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(e){function t(e,n){var i=n?e.getNext():e.getPrevious();return i&&i.type==CKEDITOR.NODE_TEXT?i.isEmpty()?t(i,n):i:null}var n,i=this,o=-1;if(!this.getParent()||e&&i.type==CKEDITOR.NODE_TEXT&&i.isEmpty()&&!t(i)&&!t(i,!0))return-1;do{e&&!i.equals(this)&&i.type==CKEDITOR.NODE_TEXT&&(n||i.isEmpty())||(o++,n=i.type==CKEDITOR.NODE_TEXT)}while(i=i.getPrevious());return o},getNextSourceNode:function(e,t,n){if(n&&!n.call){var i=n;n=function(e){return!e.equals(i)}}var o;if(!(e=!e&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getNext()}for(;!e&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;e=o.getNext()}return!e||n&&!1===n(e)?null:t&&t!=e.type?e.getNextSourceNode(!1,t,n):e},getPreviousSourceNode:function(e,t,n){if(n&&!n.call){var i=n;n=function(e){return!e.equals(i)}}var o;if(!(e=!e&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getPrevious()}for(;!e&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;e=o.getPrevious()}return!e||n&&!1===n(e)?null:t&&e.type!=t?e.getPreviousSourceNode(!1,t,n):e},getPrevious:function(e){var t,n=this.$;do{t=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n)}while(t&&e&&!e(t));return t},getNext:function(e){var t,n=this.$;do{t=(n=n.nextSibling)&&new CKEDITOR.dom.node(n)}while(t&&e&&!e(t));return t},getParent:function(e){var t=this.$.parentNode;return t&&(t.nodeType==CKEDITOR.NODE_ELEMENT||e&&t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(t):null},getParents:function(e){var t=this,n=[];do{n[e?"push":"unshift"](t)}while(t=t.getParent());return n},getCommonAncestor:function(e){if(e.equals(this))return this;if(e.contains&&e.contains(this))return e;var t=this.contains?this:this.getParent();do{if(t.contains(e))return t}while(t=t.getParent());return null},getPosition:function(e){var t=this.$,n=e.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(n);if(t==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&e.type==CKEDITOR.NODE_ELEMENT){if(t.contains){if(t.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(t))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in t)return 0>t.sourceIndex||0>n.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:t.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}t=this.getAddress(),e=e.getAddress();n=Math.min(t.length,e.length);for(var i=0;i<n;i++)if(t[i]!=e[i])return t[i]<e[i]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return t.length<e.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,i,o=this.$;for(t||(o=o.parentNode),"function"==typeof e?(i=!0,n=e):(i=!1,n=function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});o;){if(n(i?new CKEDITOR.dom.node(o):o))return new CKEDITOR.dom.node(o);try{o=o.parentNode}catch(e){o=null}}return null},hasAscendant:function(e,t){var n=this.$;for(t||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==e)return!0;n=n.parentNode}return!1},move:function(e,t){e.append(this.remove(),t)},remove:function(e){var t=this.$,n=t.parentNode;if(n){if(e)for(;e=t.firstChild;)n.insertBefore(t.removeChild(e),t);n.removeChild(t)}return this},replace:function(e){this.insertBefore(e),e.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var e;this.getFirst&&(e=this.getFirst());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.ltrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(n-t.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var e;this.getLast&&(e=this.getLast());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.rtrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(t.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(e=this.$.lastChild)&&1==e.type&&"br"==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)},isReadOnly:function(e){var t=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(t=this.getParent()),CKEDITOR.env.edge&&t&&t.is("textarea","input")&&(e=!0),!e&&t&&void 0!==t.$.isContentEditable)return!(t.$.isContentEditable||t.data("cke-editable"));for(;t;){if(t.data("cke-editable"))return!1;if(t.hasAttribute("contenteditable"))return"false"==t.getAttribute("contenteditable");t=t.getParent()}return!0}}),CKEDITOR.dom.window=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var e=this.$.document,t="CSS1Compat"==e.compatMode;return{width:(t?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(t?e.documentElement.clientHeight:e.body.clientHeight)||0}},getScrollPosition:function(){var e=this.$;return"pageXOffset"in e?{x:e.pageXOffset||0,y:e.pageYOffset||0}:{x:(e=e.document).documentElement.scrollLeft||e.body.scrollLeft||0,y:e.documentElement.scrollTop||e.body.scrollTop||0}},getFrame:function(){var e=this.$.frameElement;return e?new CKEDITOR.dom.element.get(e):null}}),CKEDITOR.dom.document=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(e){if(this.$.createStyleSheet)this.$.createStyleSheet(e);else{var t=new CKEDITOR.dom.element("link");t.setAttributes({rel:"stylesheet",type:"text/css",href:e}),this.getHead().append(t)}},appendStyleText:function(e){if(this.$.createStyleSheet){var t=this.$.createStyleSheet("");t.cssText=e}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(e,this)),this.getHead().append(n)}return t||n.$.sheet},createElement:function(e,t){var n=new CKEDITOR.dom.element(e,this);return t&&(t.attributes&&n.setAttributes(t.attributes),t.styles&&n.setStyles(t.styles)),n},createText:function(e){return new CKEDITOR.dom.text(e,this)},focus:function(){this.getWindow().focus()},getActive:function(){var e;try{e=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(e)},getById:function(e){return(e=this.$.getElementById(e))?new CKEDITOR.dom.element(e):null},getByAddress:function(e,t){for(var n=this.$.documentElement,i=0;n&&i<e.length;i++){var o=e[i];if(t)for(var r=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((!0!==t||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++r==o){n=s;break}}else n=n.childNodes[o]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(e,t){return CKEDITOR.env.ie&&8>=document.documentMode||!t||(e=t+":"+e),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))},getHead:function(){var e=this.$.getElementsByTagName("head")[0];return e?new CKEDITOR.dom.element(e):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(e){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(e=e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();<\/script>")),this.$.write(e),this.$.close()},find:function(e){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))},findOne:function(e){return(e=this.$.querySelector(e))?new CKEDITOR.dom.element(e):null},_getHtml5ShivFrag:function(){var e=this.getCustomData("html5ShivFrag");return e||(e=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(e,!0),this.setCustomData("html5ShivFrag",e)),e}}),CKEDITOR.dom.nodeList=function(e){this.$=e},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(e){return 0>e||e>=this.$.length?null:(e=this.$[e])?new CKEDITOR.dom.node(e):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,(function(e){return new CKEDITOR.dom.node(e)}))}},CKEDITOR.dom.element=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createElement(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.element.get=function(e){return(e="string"==typeof e?document.getElementById(e)||document.getElementsByName(e)[0]:e)&&(e.$?e:new CKEDITOR.dom.element(e))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(e,t){var n=new CKEDITOR.dom.element("div",t);return n.setHtml(e),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(e,t,n,i){var o=t.getCustomData("list_marker_id")||t.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),r=t.getCustomData("list_marker_names")||t.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return e[o]=t,r[n]=1,t.setCustomData(n,i)},CKEDITOR.dom.element.clearAllMarkers=function(e){for(var t in e)CKEDITOR.dom.element.clearMarkers(e,e[t],1)},CKEDITOR.dom.element.clearMarkers=function(e,t,n){var i,o=t.getCustomData("list_marker_names"),r=t.getCustomData("list_marker_id");for(i in o)t.removeCustomData(i);t.removeCustomData("list_marker_names"),n&&(t.removeCustomData("list_marker_id"),delete e[r])},function(){function e(e,t){return-1<(" "+e+" ").replace(r," ").indexOf(" "+t+" ")}function t(e){var t=!0;return e.$.id||(e.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),t=!1),function(){t||e.removeAttribute("id")}}function n(e,t){var n=CKEDITOR.tools.escapeCss(e.$.id);return"#"+n+" "+t.split(/,\s*/).join(", #"+n+" ")}function i(e){for(var t=0,n=0,i=a[e].length;n<i;n++)t+=parseFloat(this.getComputedStyle(a[e][n])||0,10)||0;return t}var o=void 0!==(o=document.createElement("_").classList)&&null!==String(o.add).match(/\[Native code\]/gi),r=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:o?function(e){return this.$.classList.add(e),this}:function(t){var n=this.$.className;return n&&(e(n,t)||(n+=" "+t)),this.$.className=n||t,this},removeClass:o?function(e){var t=this.$;return t.classList.remove(e),t.className||t.removeAttribute("class"),this}:function(t){var n=this.getAttribute("class");return n&&e(n,t)&&((n=n.replace(new RegExp("(?:^|\\s+)"+t+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",n):this.removeAttribute("class")),this},hasClass:function(t){return e(this.$.className,t)},append:function(e,t){return"string"==typeof e&&(e=this.getDocument().createElement(e)),t?this.$.insertBefore(e.$,this.$.firstChild):this.$.appendChild(e.$),e},appendHtml:function(e){if(this.$.childNodes.length){var t=new CKEDITOR.dom.element("div",this.getDocument());t.setHtml(e),t.moveChildren(this)}else this.setHtml(e)},appendText:function(e){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=e:this.append(new CKEDITOR.dom.text(e))},appendBogus:function(e){if(e||CKEDITOR.env.needsBrFiller){for(e=this.getLast();e&&e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(e.getText());)e=e.getPrevious();e&&e.is&&e.is("br")||(e=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&e.setAttribute("type","_moz"),this.append(e))}},breakParent:function(e,t){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(e);var i,o=n.extractContents(!1,t||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");i=o.getFirst();)i.$.style.backgroundColor&&(i.$.style.backgroundColor=i.$.style.backgroundColor),n.append(i);n.insertAfter(this),n.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(e){return!!(16&this.$.compareDocumentPosition(e.$))}:function(e){var t=this.$;return e.type!=CKEDITOR.NODE_ELEMENT?t.contains(e.getParent().$):t!=e.$&&t.contains(e.$)},focus:function(){function e(){try{this.$.focus()}catch(e){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var e=this.$.innerHTML;return CKEDITOR.env.ie?e.replace(/<\?[^>]*>/g,""):e},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var e=this.$.ownerDocument.createElement("div");return e.appendChild(this.$.cloneNode(!0)),e.innerHTML},getClientRect:function(e){var t=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),e?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),t):t},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(e){try{var t=this.$;if(this.getParent())return t.innerHTML=e;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(t),t.innerHTML=e,n.removeChild(t),e}catch(n){for(this.$.innerHTML="",(t=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=e,t=t.getChildren();t.count();)this.append(t.getItem(0));return e}}:function(e){return this.$.innerHTML=e},setText:function(){var e=document.createElement("p");return e.innerHTML="x",e=e.textContent,function(t){this.$[e?"textContent":"innerText"]=t}}(),getAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){switch(e){case"class":e="className";break;case"http-equiv":e="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(e=this.$.getAttribute(e,2))&&0===this.$.tabIndex&&(e=null),e;case"checked":return((e=this.$.attributes.getNamedItem(e)).specified?e.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[e];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(e,2)}:function(e){return this.$.getAttribute(e,2)},getAttributes:function(e){var t,n={},i=this.$.attributes;for(e=CKEDITOR.tools.isArray(e)?e:[],t=0;t<i.length;t++)-1===CKEDITOR.tools.indexOf(e,i[t].name)&&(n[i[t].name]=i[t].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getClientSize:function(){return{width:this.$.clientWidth,height:this.$.clientHeight}},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(e){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(e):""}:function(e){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]},getDtd:function(){var e=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return e},e},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var e=this.$.tabIndex;return 0!==e||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?e:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var e=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var t=this.$.scopeName;"HTML"!=t&&(e=t.toLowerCase()+":"+e)}return this.getName=function(){return e},this.getName()},getValue:function(){return this.$.value},getFirst:function(e){var t=this.$.firstChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getNext(e)),t},getLast:function(e){var t=this.$.lastChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getPrevious(e)),t},getStyle:function(e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]},is:function(){var e=this.getName();if("object"==typeof arguments[0])return!!arguments[0][e];for(var t=0;t<arguments.length;t++)if(arguments[t]==e)return!0;return!1},isEditable:function(e){var t=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[t]||CKEDITOR.dtd.$empty[t]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(!1===e||!(!(e=CKEDITOR.dtd[t]||CKEDITOR.dtd.span)||!e["#"]))},isIdentical:function(e){var t=this.clone(0,1);if(e=e.clone(0,1),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.$.isEqualNode)return t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.isEqualNode(e.$);if(t=t.getOuterHtml(),e=e.getOuterHtml(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(t),t=n.getHtml(),n.setHtml(e),e=n.getHtml())}return t==e},isVisible:function(){var e,t,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(!(e=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(t=e.$.frameElement)&&(n=new CKEDITOR.dom.element(t).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var e=this.getChildren(),t=0,n=e.count();t<n;t++){var i=e.getItem(t);if((i.type!=CKEDITOR.NODE_ELEMENT||!i.data("cke-bookmark"))&&(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEmptyInlineRemoveable()||i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var e=this.$.attributes,t=0;t<e.length;t++){var n=e[t];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var e=this.$.attributes,t=e.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<t&&(2<t||!n[e[0].nodeName]||2==t&&!n[e[1].nodeName])},hasAttribute:function(){function e(e){var t=this.$.attributes.getNamedItem(e);if("input"==this.getName())switch(e){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(e=this.getAttribute("type"))||"radio"==e?"on"!=this.$.value:!!this.$.value}return!!t&&t.specified}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(e){return!!this.$.attributes.getNamedItem(e)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(e,t){var n,i=this.$;if(i!=(e=e.$))if(t)for(;n=i.lastChild;)e.insertBefore(i.removeChild(n),e.firstChild);else for(;n=i.firstChild;)e.appendChild(i.removeChild(n))},mergeSiblings:function(){function e(e,t,n){if(t&&t.type==CKEDITOR.NODE_ELEMENT){for(var i=[];t.data("cke-bookmark")||t.isEmptyInlineRemoveable();)if(i.push(t),!(t=n?t.getNext():t.getPrevious())||t.type!=CKEDITOR.NODE_ELEMENT)return;if(e.isIdentical(t)){for(var o=n?e.getLast():e.getFirst();i.length;)i.shift().move(e,!n);t.moveChildren(e,!n),t.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}return function(t){(!1===t||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var e=function(e,t){return this.$.setAttribute(e,t),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,n){return"class"==t?this.$.className=n:"style"==t?this.$.style.cssText=n:"tabindex"==t?this.$.tabIndex=n:"checked"==t?this.$.checked=n:"contenteditable"==t?e.call(this,"contentEditable",n):e.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,n){if("src"==t&&n.match(/^http:\/\//))try{e.apply(this,arguments)}catch(e){}else e.apply(this,arguments);return this}:e}(),setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},setValue:function(e){return this.$.value=e,this},removeAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){"class"==e?e="className":"tabindex"==e?e="tabIndex":"contenteditable"==e&&(e="contentEditable"),this.$.removeAttribute(e)}:function(e){this.$.removeAttribute(e)},removeAttributes:function(e){if(CKEDITOR.tools.isArray(e))for(var t=0;t<e.length;t++)this.removeAttribute(e[t]);else for(t in e=e||this.getAttributes())e.hasOwnProperty(t)&&this.removeAttribute(t)},removeStyle:function(e){if((i=this.$.style).removeProperty||"border"!=e&&"margin"!=e&&"padding"!=e)i.removeProperty?i.removeProperty(e):i.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)),this.$.style.cssText||this.removeAttribute("style");else{var t,n=["top","left","right","bottom"];"border"==e&&(t=["color","style","width"]);for(var i=[],o=0;o<n.length;o++)if(t)for(var r=0;r<t.length;r++)i.push([e,n[o],t[r]].join("-"));else i.push([e,n[o]].join("-"));for(e=0;e<i.length;e++)this.removeStyle(i[e])}},setStyle:function(e,t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]=t,this},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},setOpacity:function(e){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(e=Math.round(100*e),this.setStyle("filter",100<=e?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")")):this.setStyle("opacity",e)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var e=this.getElementsByTag("*"),t=0,n=e.count();t<n;t++)e.getItem(t).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var e=this;"html"!=e.getName();){if("static"!=e.getComputedStyle("position"))return e;e=e.getParent()}return null},getDocumentPosition:function(e){var t=0,n=0,i=this.getDocument(),o=i.getBody(),r="BackCompat"==i.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,c=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(t+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(t+=l.$.clientLeft||0,n+=l.$.clientTop||0);c&&!c.equals(l);)t-=c.$.scrollLeft,n-=c.$.scrollTop,c=c.getParent();c=l,l=(a=l.$.offsetParent)?new CKEDITOR.dom.element(a):null}else{var a=this.$.getBoundingClientRect(),s=i.$.documentElement,l=s.clientTop||o.$.clientTop||0,c=s.clientLeft||o.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=i.getDocumentElement().contains(this),i=i.getBody().contains(this),u=r&&i||!r&&u),u&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(t=o.$.scrollLeft||s.scrollLeft,n=o.$.scrollTop||s.scrollTop):(t=(n=r?o.$:s).scrollLeft,n=n.scrollTop),t=a.left+t-c,n=a.top+n-l)}return e&&(a=this.getWindow(),l=e.getWindow(),!a.equals(l)&&a.$.frameElement&&(t+=(e=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(e)).x,n+=e.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||r||(t+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:t,y:n}},scrollIntoView:function(e){var t=this.getParent();if(t)do{if((t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight)&&!t.is("body")&&this.scrollIntoParent(t,e,1),t.is("html")){var n=t.getWindow();try{var i=n.$.frameElement;i&&(t=new CKEDITOR.dom.element(i))}catch(e){}}}while(t=t.getParent())},scrollIntoParent:function(e,t,n){var i,o,r,a;function s(t,n){/body|html/.test(e.getName())?e.getWindow().$.scrollBy(t,n):(e.$.scrollLeft+=t,e.$.scrollTop+=n)}function l(e,t){var n={x:0,y:0};if(!e.is(u?"body":"html")){var i=e.$.getBoundingClientRect();n.x=i.left,n.y=i.top}return(i=e.getWindow()).equals(t)||(i=l(CKEDITOR.dom.element.get(i.$.frameElement),t),n.x+=i.x,n.y+=i.y),n}function c(e,t){return parseInt(e.getComputedStyle("margin-"+t)||0,10)||0}!e&&(e=this.getWindow());var u="BackCompat"==(r=e.getDocument()).$.compatMode;e instanceof CKEDITOR.dom.window&&(e=u?r.getBody():r.getDocumentElement()),CKEDITOR.env.webkit&&(r=this.getEditor(!1))&&(r._.previousScrollTop=null),o=l(this,r=e.getWindow());var d=l(e,r),f=this.$.offsetHeight;i=this.$.offsetWidth;var h=e.$.clientHeight,p=e.$.clientWidth;r=o.x-c(this,"left")-d.x||0,a=o.y-c(this,"top")-d.y||0,i=o.x+i+c(this,"right")-(d.x+p)||0,o=o.y+f+c(this,"bottom")-(d.y+h)||0,(0>a||0<o)&&s(0,!0===t?a:!1===t?o:0>a?a:o),n&&(0>r||0<i)&&s(0>r?r:i,0)},setState:function(e,t,n){switch(t=t||"cke",e){case CKEDITOR.TRISTATE_ON:this.addClass(t+"_on"),this.removeClass(t+"_off"),this.removeClass(t+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(t+"_disabled"),this.removeClass(t+"_off"),this.removeClass(t+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(t+"_off"),this.removeClass(t+"_on"),this.removeClass(t+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;try{e.contentWindow.document}catch(t){e.src=e.src}return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(e,t){var n=this.$.attributes;t=t||{};for(var i=0;i<n.length;i++){var o,r=n[i],a=r.nodeName.toLowerCase();a in t||("checked"==a&&(o=this.getAttribute(a))?e.setAttribute(a,o):CKEDITOR.env.ie&&!this.hasAttribute(a)||(null===(o=this.getAttribute(a))&&(o=r.nodeValue),e.setAttribute(a,o)))}""!==this.$.style.cssText&&(e.$.style.cssText=this.$.style.cssText)},renameNode:function(e){if(this.getName()!=e){var t=this.getDocument();e=new CKEDITOR.dom.element(e,t),this.copyAttributes(e),this.moveChildren(e),this.getParent(!0)&&this.$.parentNode.replaceChild(e.$,this.$),e.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=e.$,delete this.getName}},getChild:function(){function e(e,t){var n=e.childNodes;if(0<=t&&t<n.length)return n[t]}return function(t){var n=this.$;if(t.slice)for(t=t.slice();0<t.length&&n;)n=e(n,t.shift());else n=e(n,t);return n?new CKEDITOR.dom.node(n):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_enable_context_menu")}this.on("contextmenu",(function(t){t.data.getTarget().getAscendant(e,!0)||t.data.preventDefault()}))},getDirection:function(e){return e?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(e,t){return e="data-"+e,void 0===t?this.getAttribute(e):(!1===t?this.removeAttribute(e):this.setAttribute(e,t),null)},getEditor:function(e){var t,n,i,o=CKEDITOR.instances;for(t in e=e||void 0===e,o)if((n=o[t]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!e&&(i=n.editable())&&(i.equals(this)||i.contains(this)))return n;return null},find:function(e){var i=t(this);return e=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(n(this,e))),i(),e},findOne:function(e){var i=t(this);return e=this.$.querySelector(n(this,e)),i(),e?new CKEDITOR.dom.element(e):null},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var i=e(this);if(!1!==i){n=this.getChildren();for(var o=0;o<n.count();o++)(i=n.getItem(o)).type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):t&&i.type!=t||e(i)}},fireEventHandler:function(e,t){var n="on"+e,i=this.$;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version){var o,r=i.ownerDocument.createEventObject();for(o in t)r[o]=t[o];i.fireEvent(n,r)}else i[i[e]?e:n](t)},isDetached:function(){var e=this.getDocument(),t=e.getDocumentElement();return!t.equals(this)&&!t.contains(this)||(!CKEDITOR.env.ie||8<CKEDITOR.env.version&&!CKEDITOR.env.quirks)&&!e.$.defaultView}});var a={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(e,t,n){"number"==typeof t&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(t-=i.call(this,e)),this.setStyle(e,t+"px"))},CKEDITOR.dom.element.prototype.getSize=function(e,t){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(e)],this.$["client"+CKEDITOR.tools.capitalize(e)])||0;return t&&(n-=i.call(this,e)),n}}(),CKEDITOR.dom.documentFragment=function(e){e=e||CKEDITOR.document,this.$=e.type==CKEDITOR.NODE_DOCUMENT?e.$.createDocumentFragment():e},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(e){(e=e.$).parentNode.insertBefore(this.$,e.nextSibling)},getHtml:function(){var e=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(e),e.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1}),function(){function e(e,t){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var i,o=n.startContainer;i=n.endContainer;var r,a=n.startOffset,s=n.endOffset,l=this.guard,c=this.type,u=e?"getPreviousSourceNode":"getNextSourceNode";if(!e&&!this._.guardLTR){var d=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),f=i.type==CKEDITOR.NODE_ELEMENT?i.getChild(s):i.getNext();this._.guardLTR=function(e,t){return!(t&&d.equals(e)||f&&e.equals(f)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}if(e&&!this._.guardRTL){var h=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),p=o.type==CKEDITOR.NODE_ELEMENT?a?o.getChild(a-1):null:o.getPrevious();this._.guardRTL=function(e,t){return!(t&&h.equals(e)||p&&e.equals(p)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}var m=e?this._.guardRTL:this._.guardLTR;for(r=l?function(e,t){return!1!==m(e,t)&&l(e,t)}:m,this.current?i=this.current[u](!1,c,r):(e?i.type==CKEDITOR.NODE_ELEMENT&&(i=0<s?i.getChild(s-1):!1===r(i,!0)?null:i.getPreviousSourceNode(!0,c,r)):(i=o).type==CKEDITOR.NODE_ELEMENT&&((i=i.getChild(a))||(i=!1===r(o,!0)?null:o.getNextSourceNode(!0,c,r))),i&&!1===r(i)&&(i=null));i&&!this._.end;){if(this.current=i,this.evaluator&&!1===this.evaluator(i)){if(t&&this.evaluator)return!1}else if(!t)return i;i=i[u](!1,c,r)}return this.end(),this.current=null}function t(t){for(var n,i=null;n=e.call(this,t);)i=n;return i}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(e){this.range=e,this._={}},proto:{end:function(){this._.end=1},next:function(){return e.call(this)},previous:function(){return e.call(this,1)},checkForward:function(){return!1!==e.call(this,0,1)},checkBackward:function(){return!1!==e.call(this,1,1)},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var n={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},i={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(e){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in i||!n[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||e&&this.is(e))},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(e,t){function n(e){return e&&e.getName&&"span"==e.getName()&&e.data("cke-bookmark")}return function(i){var o,r;return o=i&&i.type!=CKEDITOR.NODE_ELEMENT&&(r=i.getParent())&&n(r),o=e?o:o||n(i),!!(t^o)}},CKEDITOR.dom.walker.whitespaces=function(e){return function(t){var n;return t&&t.type==CKEDITOR.NODE_TEXT&&(n=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(e^n)}},CKEDITOR.dom.walker.invisible=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.env.webkit?1:0;return function(i){return t(i)?i=1:(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),i=i.$.offsetWidth<=n),!!(e^i)}},CKEDITOR.dom.walker.nodeType=function(e,t){return function(n){return!!(t^n.type==e)}},CKEDITOR.dom.walker.bogus=function(e){function t(e){return!r(e)&&!a(e)}return function(n){var i=CKEDITOR.env.needsBrFiller?n.is&&n.is("br"):n.getText&&o.test(n.getText());return i&&(i=n.getParent(),n=n.getNext(t),i=i.isBlockBoundary()&&(!n||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())),!!(e^i)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,r=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(e){return a(e)||r(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$inline)&&!e.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=r(t)||a(t)||s(t),!!(e^t)}};var c=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(e){return function(t){for(var n=0,i=t.getChildCount();n<i;++n)if(!c(t.getChild(n)))return!!e;return!e}};var u=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(e){var t,n={};for(t in e)CKEDITOR.dtd[t]["#"]&&(n[t]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(e){return function(t){return t=!c(t)&&!!(t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&(t.is(CKEDITOR.dtd.$inline)||t.is("hr")||"false"==t.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&t.is(d)&&u(t))),!!(e^t)}},CKEDITOR.dom.element.prototype.getBogus=function(){var e=this;do{e=e.getPreviousSourceNode()}while(l(e));return!(!e||!(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&o.test(e.getText())))&&e}}(),CKEDITOR.dom.range=function(e){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var t=e instanceof CKEDITOR.dom.document;this.document=t?e:e.getDocument(),this.root=t?e.getBody():e},function(){function e(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer.equals(e.endContainer)&&e.startOffset==e.endOffset}function t(e,t,n,i,o){function r(e,t,n,i){var r=n?e.getPrevious():e.getNext();return i&&a?r:(l||i?t.append(e.clone(!0,o),n):(e.remove(),s&&t.append(e,n)),r)}e.optimizeBookmark();var a=0===t,s=1==t,l=2==t;t=l||s;var c,u,d,f,h,p,m=e.startContainer,g=e.endContainer,E=e.startOffset,v=e.endOffset;if(l&&g.type==CKEDITOR.NODE_TEXT&&(m.equals(g)||m.type===CKEDITOR.NODE_ELEMENT&&m.getFirst().equals(g)))n.append(e.document.createText(g.substring(E,v)));else{g.type==CKEDITOR.NODE_TEXT?l?p=!0:g=g.split(v):0<g.getChildCount()?v>=g.getChildCount()?(g=g.getChild(v-1),u=!0):g=g.getChild(v):f=u=!0,m.type==CKEDITOR.NODE_TEXT?l?h=!0:m.split(E):0<m.getChildCount()?0===E?(m=m.getChild(E),c=!0):m=m.getChild(E-1):d=c=!0;for(var T,b,C,y=m.getParents(),I=g.getParents(),O=function(){var e,t,n,i=Math.min(y.length,I.length);for(e=0;e<i;e++)if(t=y[e],n=I[e],!t.equals(n))return e;return e-1}(),D=y.length-1,R=I.length-1,_=n,k=-1,w=O;w<=D;w++){for(C=(b=y[w]).getNext(),w!=D||b.equals(I[w])&&D<R?t&&(T=_.append(b.clone(0,o))):c?r(b,_,!1,d):h&&_.append(e.document.createText(b.substring(E)));C;){if(C.equals(I[w])){k=w;break}C=r(C,_)}_=T}for(_=n,w=O;w<=R;w++)if(C=(n=I[w]).getPrevious(),n.equals(y[w]))t&&(_=_.getChild(0));else{if(w!=R||n.equals(y[w])&&R<D?t&&(T=_.append(n.clone(0,o))):u?r(n,_,!1,f):p&&_.append(e.document.createText(n.substring(0,v))),w>k)for(;C;)C=r(C,_,!0);_=T}l||function(){var t=O-1,n=d&&f&&!m.equals(g);t<D-1||t<R-1||n?(n?e.moveToPosition(g,CKEDITOR.POSITION_BEFORE_START):R==t+1&&u?e.moveToPosition(I[t],CKEDITOR.POSITION_BEFORE_END):e.moveToPosition(I[t+1],CKEDITOR.POSITION_BEFORE_START),i&&(t=y[t+1])&&t.type==CKEDITOR.NODE_ELEMENT&&((n=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',e.document)).insertAfter(t),t.mergeSiblings(!1),e.moveToBookmark({startNode:n}))):e.collapse(!0)}()}}function n(){var e=!1,t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!0),i=CKEDITOR.dom.walker.bogus();return function(r){return!(!n(r)&&!t(r))||(i(r)&&!e?e=!0:!(r.type==CKEDITOR.NODE_TEXT&&(r.hasAscendant("pre")||CKEDITOR.tools.trim(r.getText()).length)||r.type==CKEDITOR.NODE_ELEMENT&&!r.is(o)))}}function i(e){return function(){var t;return this[e?"getPreviousNode":"getNextNode"]((function(e){return!t&&l(e)&&(t=e),s(e)&&!(r(e)&&e.equals(t))}))}}var o={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1},r=CKEDITOR.dom.walker.bogus(),a=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,s=CKEDITOR.dom.walker.editable(),l=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var e=new CKEDITOR.dom.range(this.root);return e._setStartContainer(this.startContainer),e.startOffset=this.startOffset,e._setEndContainer(this.endContainer),e.endOffset=this.endOffset,e.collapsed=this.collapsed,e},collapse:function(e){e?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(e){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||t(this,2,n,!1,void 0===e||e),n},deleteContents:function(e){this.collapsed||t(this,0,null,e)},extractContents:function(e,n){var i=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||t(this,1,i,e,void 0===n||n),i},equals:function(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset&&this.startContainer.equals(e.startContainer)&&this.endContainer.equals(e.endContainer)},createBookmark:function(e){function t(e){return e.getAscendant((function(e){var t;return(t=e.data&&e.data("cke-temp"))&&(t=-1===CKEDITOR.tools.array.indexOf(["cke_copybin","cke_pastebin"],e.getAttribute("id"))),t}),!0)}var n,i,o,r,a=this.startContainer,s=this.endContainer,l=this.collapsed;return(n=this.document.createElement("span")).data("cke-bookmark",1),n.setStyle("display","none"),n.setHtml("&nbsp;"),e&&(o="cke_bm_"+CKEDITOR.tools.getNextNumber(),n.setAttribute("id",o+(l?"C":"S"))),l||((i=n.clone()).setHtml("&nbsp;"),e&&i.setAttribute("id",o+"E"),r=this.clone(),t(s)&&(s=t(s),r.moveToPosition(s,CKEDITOR.POSITION_AFTER_END)),r.collapse(),r.insertNode(i)),r=this.clone(),t(a)&&(s=t(a),r.moveToPosition(s,CKEDITOR.POSITION_BEFORE_START)),r.collapse(!0),r.insertNode(n),i?(this.setStartAfter(n),this.setEndBefore(i)):this.moveToPosition(n,CKEDITOR.POSITION_AFTER_END),{startNode:e?o+(l?"C":"S"):n,endNode:e?o+"E":i,serializable:e,collapsed:l}},createBookmark2:function(){function e(e){var t,i=e.container,o=e.offset,r=o;if((t=(t=i).type!=CKEDITOR.NODE_ELEMENT||0===r||r==t.getChildCount()?0:t.getChild(r-1).type==CKEDITOR.NODE_TEXT&&t.getChild(r).type==CKEDITOR.NODE_TEXT)&&(o=(i=i.getChild(o-1)).getLength()),i.type==CKEDITOR.NODE_ELEMENT&&0<o){e:{for(t=i;o--;)if(0<=(r=t.getChild(o).getIndex(!0))){o=r;break e}o=-1}o+=1}if(i.type==CKEDITOR.NODE_TEXT){for(t=i,r=0;(t=t.getPrevious())&&t.type==CKEDITOR.NODE_TEXT;)r+=t.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;t=r,i.isEmpty()?(r=i.getPrevious(n),t?(o=t,i=r?r.getNext():i.getParent().getFirst()):(i=i.getParent(),o=r?r.getIndex(!0)+1:0)):o+=t}e.container=i,e.offset=o}function t(e,t){var n=t.getCustomData("cke-fillingChar");if(n){var i=e.container;n.equals(i)&&(e.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=e.offset&&(e.offset=i.getIndex(),e.container=i.getParent()))}}var n=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(n){var i=this.collapsed,o={container:this.startContainer,offset:this.startOffset},r={container:this.endContainer,offset:this.endOffset};return n&&(e(o),t(o,this.root),i||(e(r),t(r,this.root))),{start:o.container.getAddress(n),end:i?null:r.container.getAddress(n),startOffset:o.offset,endOffset:r.offset,normalized:n,collapsed:i,is2:!0}}}(),moveToBookmark:function(e){if(e.is2){var t=this.document.getByAddress(e.start,e.normalized),n=e.startOffset,i=e.end&&this.document.getByAddress(e.end,e.normalized);e=e.endOffset,this.setStart(t,n),i?this.setEnd(i,e):this.collapse(!0)}else t=(n=e.serializable)?this.document.getById(e.startNode):e.startNode,e=n?this.document.getById(e.endNode):e.endNode,this.setStartBefore(t),t.remove(),e?(this.setEndBefore(e),e.remove()):this.collapse(!0)},getBoundaryNodes:function(){var e,t=this.startContainer,n=this.endContainer,i=this.startOffset,o=this.endOffset;if(t.type==CKEDITOR.NODE_ELEMENT)if((e=t.getChildCount())>i)t=t.getChild(i);else if(1>e)t=t.getPreviousSourceNode();else{for(t=t.$;t.lastChild;)t=t.lastChild;t=(t=new CKEDITOR.dom.node(t)).getNextSourceNode()||t}if(n.type==CKEDITOR.NODE_ELEMENT)if((e=n.getChildCount())>o)n=n.getChild(o).getPreviousSourceNode(!0);else if(1>e)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return t.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(t=n),{startNode:t,endNode:n}},getCommonAncestor:function(e,t){var n=this.startContainer,i=this.endContainer;n=n.equals(i)?e&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(i);return t&&!n.is?n.getParent():n},optimize:function(){var e=this.startContainer,t=this.startOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setStartAfter(e):this.setStartBefore(e)),e=this.endContainer,t=this.endOffset,e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setEndAfter(e):this.setEndBefore(e))},optimizeBookmark:function(){var e=this.startContainer,t=this.endContainer;e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t&&t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setEndAt(t,CKEDITOR.POSITION_AFTER_END)},trim:function(e,t){var n=this.startContainer,i=this.startOffset,o=this.collapsed;if((!e||o)&&n&&n.type==CKEDITOR.NODE_TEXT){if(i)if(i>=n.getLength())i=n.getIndex()+1,n=n.getParent();else{var r=n.split(i);i=n.getIndex()+1,n=n.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(r,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else i=n.getIndex(),n=n.getParent();if(this.setStart(n,i),o)return void this.collapse(!0)}n=this.endContainer,i=this.endOffset,t||o||!n||n.type!=CKEDITOR.NODE_TEXT||(i?(i>=n.getLength()||n.split(i),i=n.getIndex()+1):i=n.getIndex(),n=n.getParent(),this.setEnd(n,i))},enlarge:function(e,t){function n(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?null:e}var i=new RegExp(/[^\s\ufeff]/);switch(e){case CKEDITOR.ENLARGE_INLINE:var o=1;case CKEDITOR.ENLARGE_ELEMENT:var r=function(e,t){var n,o;for((n=new CKEDITOR.dom.range(p)).setStart(e,t),n.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).guard=function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())};o=n.next();){if(o.type!=CKEDITOR.NODE_TEXT)return!1;if(f=o!=e?o.getText():o.substring(t),i.test(f))return!1}return!0};if(this.collapsed)break;var a,s,l,c,u,d,f,h=this.getCommonAncestor(),p=this.root,m=!1;d=this.startContainer;var g=this.startOffset;for(d.type==CKEDITOR.NODE_TEXT?(g&&(m=!!(d=!CKEDITOR.tools.trim(d.substring(0,g)).length&&d)),d&&((c=d.getPrevious())||(l=d.getParent()))):(g&&(c=d.getChild(g-1)||d.getLast()),c||(l=d)),l=n(l);l||c;){if(l&&!c){if(!u&&l.equals(h)&&(u=!0),o?l.isBlockBoundary():!p.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,u?a=l:this.setStartBefore(l)),c=l.getPrevious()}for(;c;)if(d=!1,c.type==CKEDITOR.NODE_COMMENT)c=c.getPrevious();else{if(c.type==CKEDITOR.NODE_TEXT)f=c.getText(),i.test(f)&&(c=null),d=/[\s\ufeff]$/.test(f);else if((c.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||t&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(f=c.getText(),i.test(f))c=null;else{g=c.$.getElementsByTagName("*");for(var E,v=0;E=g[v++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){c=null;break}}c&&(d=!!f.length)}else c=null;if(d&&(m?u?a=l:l&&this.setStartBefore(l):m=!0),c){if(d=c.getPrevious(),!l&&!d){l=c,c=null;break}c=d}else l=null}l&&(l=n(l.getParent()))}for(d=this.endContainer,g=this.endOffset,l=c=null,u=m=!1,d.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(d.substring(g)).length?m=!0:(m=!d.getLength(),g==d.getLength()?(c=d.getNext())||(l=d.getParent()):r(d,g)&&(l=d.getParent())):(c=d.getChild(g))||(l=d);l||c;){if(l&&!c){if(!u&&l.equals(h)&&(u=!0),o?l.isBlockBoundary():!p.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,u?s=l:l&&this.setEndAfter(l)),c=l.getNext()}for(;c;){if(d=!1,c.type==CKEDITOR.NODE_TEXT)f=c.getText(),r(c,0)||(c=null),d=/^[\s\ufeff]/.test(f);else if(c.type==CKEDITOR.NODE_ELEMENT){if((0<c.$.offsetWidth||t&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(f=c.getText(),i.test(f))c=null;else for(g=c.$.getElementsByTagName("*"),v=0;E=g[v++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){c=null;break}c&&(d=!!f.length)}else c=null}else d=1;if(d&&m&&(u?s=l:this.setEndAfter(l)),c){if(d=c.getNext(),!l&&!d){l=c,c=null;break}c=d}else l=null}l&&(l=n(l.getParent()))}a&&s&&(h=a.contains(s)?s:a,this.setStartBefore(h),this.setEndAfter(h));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root),p=this.root,l.setStartAt(p,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var T,b,C=CKEDITOR.dom.walker.blockBoundary(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),y=null,I=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable"))if(y){if(y.equals(e))return void(y=null)}else y=e;else if(y)return;var t=C(e);return t||(T=e),t};o=function(e){var t=I(e);return!t&&e.is&&e.is("br")&&(b=e),t};if(l.guard=I,l=l.lastBackward(),T=T||p,this.setStartAt(T,!T.is("br")&&(!l&&this.checkStartOfBlock()||l&&T.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var O=CKEDITOR.dom.walker.whitespaces(),D=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(e){return!O(e)&&!D(e)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}(l=this.clone()).collapse(),l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(l=new CKEDITOR.dom.walker(l)).guard=e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?o:I,T=y=b=null,l=l.lastForward(),T=T||p,this.setEndAt(T,!l&&this.checkEndOfBlock()||l&&T.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),b&&this.setEndAfter(b)}},shrink:function(e,t,n){var i="boolean"==typeof n?n:!n||"boolean"!=typeof n.shrinkOnBlockBoundary||n.shrinkOnBlockBoundary,o=n&&n.skipBogus;if(!this.collapsed){e=e||CKEDITOR.SHRINK_TEXT;var r=this.clone(),a=this.startContainer,s=this.endContainer,l=this.startOffset,c=this.endOffset,u=n=1;a&&a.type==CKEDITOR.NODE_TEXT&&(l?l>=a.getLength()?r.setStartAfter(a):(r.setStartBefore(a),n=0):r.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?c>=s.getLength()?r.setEndAfter(s):(r.setEndAfter(s),u=0):r.setEndBefore(s));r=new CKEDITOR.dom.walker(r);var d,f=CKEDITOR.dom.walker.bookmark(),h=CKEDITOR.dom.walker.bogus();return r.evaluator=function(t){return t.type==(e==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},r.guard=function(t,n){return!!(o&&h(t)||f(t))||!(e==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||n&&t.equals(d)||!1===i&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable"))&&(n||t.type!=CKEDITOR.NODE_ELEMENT||(d=t),!0)},n&&(a=r[e==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(a,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),u&&(r.reset(),(r=r[e==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(r,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!n&&!u)}},insertNode:function(e){this.optimizeBookmark(),this.trim(!1,!0);var t=this.startContainer,n=t.getChild(this.startOffset);n?e.insertBefore(n):t.append(e),e.getParent()&&e.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(e)},moveToPosition:function(e,t){this.setStartAt(e,t),this.collapse(!0)},moveToRange:function(e){this.setStart(e.startContainer,e.startOffset),this.setEnd(e.endContainer,e.endOffset)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e.type==CKEDITOR.NODE_TEXT?e.getLength():e.getChildCount())},setStart:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=n,this.endContainer||(this._setEndContainer(t),this.endOffset=n),e(this)},setEnd:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=n,this.startContainer||(this._setStartContainer(t),this.startOffset=n),e(this)},setStartAfter:function(e){this.setStart(e.getParent(),e.getIndex()+1)},setStartBefore:function(e){this.setStart(e.getParent(),e.getIndex())},setEndAfter:function(e){this.setEnd(e.getParent(),e.getIndex()+1)},setEndBefore:function(e){this.setEnd(e.getParent(),e.getIndex())},setStartAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}e(this)},setEndAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}e(this)},fixBlock:function(e,t){var n=this.createBookmark(),i=this.document.createElement(t);this.collapse(e),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(i),i.trim(),this.insertNode(i);var o=i.getBogus();return o&&o.remove(),i.appendBogus(),this.moveToBookmark(n),i},splitBlock:function(e,t){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=n.block,r=i.block,a=null;return n.blockLimit.equals(i.blockLimit)?("br"!=e&&(o||(o=this.fixBlock(!0,e),r=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),r||(r=this.fixBlock(!1,e))),n=o&&this.checkStartOfBlock(),i=r&&this.checkEndOfBlock(),this.deleteContents(),o&&o.equals(r)&&(i?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(r,CKEDITOR.POSITION_AFTER_END),r=null):n?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o=null):(r=this.splitElement(o,t||!1),o.is("ul","ol")||o.appendBogus())),{previousBlock:o,nextBlock:r,wasStartOfBlock:n,wasEndOfBlock:i,elementPath:a}):null},splitElement:function(e,t){if(!this.collapsed)return null;this.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,t||!1),i=e.clone(!1,t||!1);return n.appendTo(i),i.insertAfter(e),this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),i},removeEmptyBlocksAtEnd:function(){function e(e){return function(i){return!(t(i)||n(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.isEmptyInlineRemoveable()||e.is("table")&&i.is("caption"))}}var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var n,i=this.createBookmark(),o=this[t?"endPath":"startPath"](),r=o.block||o.blockLimit;r&&!r.equals(o.root)&&!r.getFirst(e(r));)n=r.getParent(),this[t?"setEndAt":"setStartAt"](r,CKEDITOR.POSITION_AFTER_END),r.remove(1),r=n;this.moveToBookmark(i)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(e,t){var n=t==CKEDITOR.START,i=this.clone();return i.collapse(n),i[n?"setStartAt":"setEndAt"](e,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(i)).evaluator=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(1);return function(i){return!(!n(i)&&!t(i))||(!e&&r(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.is(CKEDITOR.dtd.$removeEmpty))}}(n),i[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var e=this.startContainer,t=this.startOffset;return CKEDITOR.env.ie&&t&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.ltrim(e.substring(0,t)),a.test(e)&&this.trim(0,1)),this.trim(),e=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(t=this.clone()).collapse(!0),t.setStartAt(e.block||e.blockLimit,CKEDITOR.POSITION_AFTER_START),(e=new CKEDITOR.dom.walker(t)).evaluator=n(),e.checkBackward()},checkEndOfBlock:function(){var e=this.endContainer,t=this.endOffset;return CKEDITOR.env.ie&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.rtrim(e.substring(t)),a.test(e)&&this.trim(1,0)),this.trim(),e=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(t=this.clone()).collapse(!1),t.setEndAt(e.block||e.blockLimit,CKEDITOR.POSITION_BEFORE_END),(e=new CKEDITOR.dom.walker(t)).evaluator=n(),e.checkForward()},getPreviousNode:function(e,t,n){var i=this.clone();return i.collapse(1),i.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(i)).evaluator=e,n.guard=t,n.previous()},getNextNode:function(e,t,n){var i=this.clone();return i.collapse(),i.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(i)).evaluator=e,n.guard=t,n.next()},checkReadOnly:function(){function e(e,t){for(;e;){if(e.type==CKEDITOR.NODE_ELEMENT){if("false"==e.getAttribute("contentEditable")&&!e.data("cke-editable"))return 0;if(e.is("html")||"true"==e.getAttribute("contentEditable")&&(e.contains(t)||e.equals(t)))break}e=e.getParent()}return 1}return function(){var t=this.startContainer,n=this.endContainer;return!(e(t,n)&&e(n,t))}}(),moveToElementEditablePosition:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEditable(!1))return this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;e;){if(e.type==CKEDITOR.NODE_TEXT){t&&this.endContainer&&this.checkEndOfBlock()&&a.test(e.getText())?this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(e.type==CKEDITOR.NODE_ELEMENT)if(e.isEditable())this.moveToPosition(e,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(t&&e.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);else if("false"==e.getAttribute("contenteditable")&&e.is(CKEDITOR.dtd.$block))return this.setStartBefore(e),this.setEndAfter(e),!0;var i=e,o=n,r=void 0;i.type==CKEDITOR.NODE_ELEMENT&&i.isEditable(!1)&&(r=i[t?"getLast":"getFirst"](l)),o||r||(r=i[t?"getPrevious":"getNext"](l)),e=r}return!!n},moveToClosestEditablePosition:function(e,t){var n,i,o,r=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return e?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(e,a[t?0:1]):n=this.clone(),e&&!e.is(CKEDITOR.dtd.$block)?r=1:(i=n[t?"getNextEditableNode":"getPreviousEditableNode"]())&&(r=1,(o=i.type==CKEDITOR.NODE_ELEMENT)&&i.is(CKEDITOR.dtd.$block)&&"false"==i.getAttribute("contenteditable")?(n.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(i,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&o&&i.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(i,0),n.collapse()):n.moveToPosition(i,a[t?1:0])),r&&this.moveToRange(n),!!r},moveToElementEditStart:function(e){return this.moveToElementEditablePosition(e)},moveToElementEditEnd:function(e){return this.moveToElementEditablePosition(e,!0)},getEnclosedNode:function(){if((e=this.clone()).optimize(),e.startContainer.type!=CKEDITOR.NODE_ELEMENT||e.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var e=new CKEDITOR.dom.walker(e),t=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);e.evaluator=function(e){return n(e)&&t(e)};var i=e.next();return e.reset(),i&&i.equals(e.previous())?i:null},getTouchedStartNode:function(){var e=this.startContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.startOffset)||e},getTouchedEndNode:function(){var e=this.endContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.endOffset-1)||e},getNextEditableNode:i(),getPreviousEditableNode:i(1),_getTableElement:function(e){e=e||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var t=this.getTouchedStartNode(),n=this.getTouchedEndNode(),i=t.getAscendant("table",!0);n=n.getAscendant("table",!0);return i&&!this.root.contains(i)?null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(e,!0):i&&n&&(i.equals(n)||i.contains(n)||n.contains(i))?t.getAscendant(e,!0):null},scrollIntoView:function(){var e,t,n,i=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),o=this.clone();o.optimize(),(n=o.startContainer.type==CKEDITOR.NODE_TEXT)?(t=o.startContainer.getText(),e=o.startContainer.split(o.startOffset),i.insertAfter(o.startContainer)):o.insertNode(i),i.scrollIntoView(),n&&(o.startContainer.setText(t),e.remove()),i.remove()},getClientRects:function(){function e(e,t,i){var o;return t.collapsed?i.startContainer instanceof CKEDITOR.dom.element?(e=i.checkStartOfBlock(),o=new CKEDITOR.dom.text("â"),e?i.startContainer.append(o,!0):0===i.startOffset?o.insertBefore(i.startContainer.getFirst()):(i=i.startContainer.getChildren().getItem(i.startOffset-1),o.insertAfter(i)),t.setStart(o.$,0),t.setEnd(o.$,0),e=t.getClientRects(),o.remove()):i.startContainer instanceof CKEDITOR.dom.text&&(""===i.startContainer.getText()?(i.startContainer.setText("â"),e=t.getClientRects(),i.startContainer.setText("")):e=[n(i.createBookmark())]):e=[n(i.createBookmark())],e}function t(e,t,n){return e=CKEDITOR.tools.extend({},e),t&&(e=CKEDITOR.tools.getAbsoluteRectPosition(n.document.getWindow(),e)),!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),e}function n(e){var t,n=e.startNode;return e=e.endNode,n.setText("â"),n.removeStyle("display"),e?(e.setText("â"),e.removeStyle("display"),t=[n.getClientRect(),e.getClientRect()],e.remove()):t=[n.getClientRect(),n.getClientRect()],n.remove(),{right:Math.max(t[0].right,t[1].right),bottom:Math.max(t[0].bottom,t[1].bottom),left:Math.min(t[0].left,t[1].left),top:Math.min(t[0].top,t[1].top),width:Math.abs(t[0].left-t[1].left),height:Math.max(t[0].bottom,t[1].bottom)-Math.min(t[0].top,t[1].top)}}return void 0!==this.document.getSelection?function(n){var i,o=this.root.getDocument().$.createRange();return o.setStart(this.startContainer.$,this.startOffset),o.setEnd(this.endContainer.$,this.endOffset),(i=function(e,t){var n,i,o,r=CKEDITOR.tools.array.map(e,(function(e){return e})),a=new CKEDITOR.dom.range(t.root);if(t.startContainer instanceof CKEDITOR.dom.element&&(i=0===t.startOffset&&t.startContainer.hasAttribute("data-widget")),t.endContainer instanceof CKEDITOR.dom.element&&(o=(o=t.endOffset===(t.endContainer.getChildCount?t.endContainer.getChildCount():t.endContainer.length))&&t.endContainer.hasAttribute("data-widget")),i&&a.setStart(t.startContainer.getParent(),t.startContainer.getIndex()),o&&a.setEnd(t.endContainer.getParent(),t.endContainer.getIndex()+1),(i||o)&&(t=a),a=t.cloneContents().find("[data-cke-widget-id]").toArray(),a=CKEDITOR.tools.array.map(a,(function(e){var n=t.root.editor;return e=e.getAttribute("data-cke-widget-id"),n.widgets.instances[e].element})))return a=CKEDITOR.tools.array.map(a,(function(e){var t;return t=e.getParent().hasClass("cke_widget_wrapper")?e.getParent():e,(n=this.root.getDocument().$.createRange()).setStart(t.getParent().$,t.getIndex()),n.setEnd(t.getParent().$,t.getIndex()+1),(t=n.getClientRects()).widgetRect=e.getClientRect(),t}),t),CKEDITOR.tools.array.forEach(a,(function(e){var t;!function n(i){CKEDITOR.tools.array.forEach(r,(function(n,o){var a=CKEDITOR.tools.objectCompare(e[i],n);a||(a=CKEDITOR.tools.objectCompare(e.widgetRect,n)),a&&(Array.prototype.splice.call(r,o,e.length-i,e.widgetRect),t=!0)})),t||(i<r.length-1?n(i+1):r.push(e.widgetRect))}(0)})),r}(i=o.getClientRects(),this)).length||(i=e(i,o,this)),CKEDITOR.tools.array.map(i,(function(e){return t(e,n,this)}),this)}:function(e){return[t(n(this.createBookmark()),e,this)]}}(),_setStartContainer:function(e){this.startContainer=e},_setEndContainer:function(e){this.endContainer=e},_find:function(e,t){var n,i,o,r,a=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(a&&a.find)for(i=a.find(e),n=0;n<i.count();n++)a=i.getItem(n),(t||!a.isReadOnly())&&(o=a.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(a),r=a.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(a),o&&r&&l.push(a));return l}},CKEDITOR.dom.range.mergeRanges=function(e){return CKEDITOR.tools.array.reduce(e,(function(e,t){var n=e[e.length-1],i=!1;if((t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var o=new CKEDITOR.dom.range(t.root),r=(i=new CKEDITOR.dom.walker(o),CKEDITOR.dom.walker.whitespaces());for(o.setStart(n.endContainer,n.endOffset),o.setEnd(t.startContainer,t.startOffset),o=i.next();r(o)||t.endContainer.equals(o);)o=i.next();i=!o}return i?n.setEnd(t.endContainer,t.endOffset):e.push(t),e}),[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function e(e){1>arguments.length||(this.range=e,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function t(e,n,i,o){e:{null==o&&(o=function(e){var t=[];return e.forEach((function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1}),CKEDITOR.NODE_ELEMENT,!0),t}(i));for(var r;r=o.shift();)if(r.getDtd().p){o={element:r,remaining:o};break e}o=null}return o?(r=CKEDITOR.filter.instances[o.element.data("cke-filter")])&&!r.check(n)?t(e,n,i,o.remaining):((n=new CKEDITOR.dom.range(o.element)).selectNodeContents(o.element),(n=n.createIterator()).enlargeBr=e.enlargeBr,n.enforceRealBlocks=e.enforceRealBlocks,n.activeFilter=n.filter=r,e._.nestedEditable={element:o.element,container:i,remaining:o.remaining,iterator:n},1):0}function n(e,t,n){return!!t&&((e=e.clone()).collapse(!n),e.checkBoundaryOfElement(t,n?CKEDITOR.START:CKEDITOR.END))}var i=/^[\r\n\t ]+$/,o=CKEDITOR.dom.walker.bookmark(!1,!0),r=CKEDITOR.dom.walker.whitespaces(!0),a=function(e){return o(e)&&r(e)},s={dd:1,dt:1,li:1};e.prototype={getNextParagraph:function(e){var r,l,c,u,d;if(e=e||"p",this._.nestedEditable){if(r=this._.nestedEditable.iterator.getNextParagraph(e))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,r;if(this.activeFilter=this.filter,t(this,e,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(e);this._.nestedEditable=null}if(!this.range.root.getDtd()[e])return null;if(!this._.started){var f=this.range.clone();l=f.startPath();var h=f.endPath(),p=!f.collapsed&&n(f,l.block),m=!f.collapsed&&n(f,h.block,1);f.shrink(CKEDITOR.SHRINK_ELEMENT,!0),p&&f.setStartAt(l.block,CKEDITOR.POSITION_BEFORE_END),m&&f.setEndAt(h.block,CKEDITOR.POSITION_AFTER_START),l=f.endContainer.hasAscendant("pre",!0)||f.startContainer.hasAscendant("pre",!0),f.enlarge(this.forceBrBreak&&!l||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),f.collapsed||(l=new CKEDITOR.dom.walker(f.clone()),h=CKEDITOR.dom.walker.bookmark(!0,!0),l.evaluator=h,this._.nextNode=l.next(),(l=new CKEDITOR.dom.walker(f.clone())).evaluator=h,l=l.previous(),this._.lastNode=l.getNextSourceNode(!0,null,f.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((h=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),h.checkEndOfBlock()&&(h=new CKEDITOR.dom.elementPath(h.endContainer,h.root),this._.lastNode=(h.block||h.blockLimit).getNextSourceNode(!0))),this._.lastNode&&f.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=f.document.createText(""),this._.lastNode.insertAfter(l)),f=null),this._.started=1,l=f}for(h=this._.nextNode,f=this._.lastNode,this._.nextNode=null;h;){p=0,m=h.hasAscendant("pre");var g=h.type!=CKEDITOR.NODE_ELEMENT,E=0;if(g)h.type==CKEDITOR.NODE_TEXT&&i.test(h.getText())&&(g=0);else{var v=h.getName();if(CKEDITOR.dtd.$block[v]&&"false"==h.getAttribute("contenteditable")){t(this,e,r=h);break}if(h.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){if("br"==v)g=1;else if(!l&&!h.getChildCount()&&"hr"!=v){r=h,c=h.equals(f);break}l&&(l.setEndAt(h,CKEDITOR.POSITION_BEFORE_START),"br"!=v&&(this._.nextNode=h)),p=1}else{if(h.getFirst()){l||(l=this.range.clone()).setStartAt(h,CKEDITOR.POSITION_BEFORE_START),h=h.getFirst();continue}g=1}}if(g&&!l&&(l=this.range.clone()).setStartAt(h,CKEDITOR.POSITION_BEFORE_START),c=(!p||g)&&h.equals(f),l&&!p)for(;!h.getNext(a)&&!c;){if((v=h.getParent()).isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){p=1,g=0,c||v.equals(f),l.setEndAt(v,CKEDITOR.POSITION_BEFORE_END);break}g=1,c=(h=v).equals(f),E=1}if(g&&l.setEndAt(h,CKEDITOR.POSITION_AFTER_END),(c=!(h=this._getNextSourceNode(h,E,f)))||p&&l)break}if(!r){if(!l)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;h=(r=new CKEDITOR.dom.elementPath(l.startContainer,l.root)).blockLimit,p={div:1,th:1,td:1},!(r=r.block)&&h&&!this.enforceRealBlocks&&p[h.getName()]&&l.checkStartOfBlock()&&l.checkEndOfBlock()&&!h.equals(l.root)?r=h:!r||this.enforceRealBlocks&&r.is(s)?(r=this.range.document.createElement(e),l.extractContents().appendTo(r),r.trim(),l.insertNode(r),u=d=!0):"li"!=r.getName()?l.checkStartOfBlock()&&l.checkEndOfBlock()||(r=r.clone(!1),l.extractContents().appendTo(r),r.trim(),u=!(d=l.splitBlock()).wasStartOfBlock,d=!d.wasEndOfBlock,l.insertNode(r)):c||(this._.nextNode=r.equals(f)?null:this._getNextSourceNode(l.getBoundaryNodes().endNode,1,f))}return u&&(u=r.getPrevious())&&u.type==CKEDITOR.NODE_ELEMENT&&("br"==u.getName()?u.remove():u.getLast()&&"br"==u.getLast().$.nodeName.toLowerCase()&&u.getLast().remove()),d&&(u=r.getLast())&&u.type==CKEDITOR.NODE_ELEMENT&&"br"==u.getName()&&(!CKEDITOR.env.needsBrFiller||u.getPrevious(o)||u.getNext(o))&&u.remove(),this._.nextNode||(this._.nextNode=c||r.equals(f)||!f?null:this._getNextSourceNode(r,1,f)),r},_getNextSourceNode:function(e,t,n){function i(e){return!(e.equals(n)||e.equals(r))}var r=this.range.root;for(e=e.getNextSourceNode(t,null,i);!o(e);)e=e.getNextSourceNode(t,null,i);return e}},CKEDITOR.dom.range.prototype.createIterator=function(){return new e(this)}}(),CKEDITOR.command=function(e,t){var n;this.uiItems=[],this.exec=function(n){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&e.focus(),!1===this.fire("exec")||!1!==t.exec.call(this,e,n))},this.refresh=function(e,n){return!(this.readOnly||!e.readOnly)||(this.context&&!n.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[e.mode]&&this.disable(),!1===this.fire("refresh",{editor:e,path:n})||t.refresh&&!1!==t.refresh.apply(this,arguments)))},this.checkAllowed=function(t){return t||"boolean"!=typeof n?n=e.activeFilter.checkFeature(this):n},CKEDITOR.tools.extend(this,t,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!t.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&void 0!==this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(e){return!(this.state==e||e!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=e,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function e(e,t,n,i,o){var r,s,l;for(r in e=[],t){s="boolean"==typeof(s=t[r])?{}:"function"==typeof s?{match:s}:D(s),"$"!=r.charAt(0)&&(s.elements=r),n&&(s.featureName=n.toLowerCase());var c=s;c.elements=a(c.elements,/\s+/)||null,c.propertiesOnly=c.propertiesOnly||!0===c.elements;var u=/\s*,\s*/,d=void 0;for(d in w){c[d]=a(c[d],u)||null;var f=c,h=K[d],p=a(c[K[d]],u),g=c[d],E=[],v=!0,T=void 0;for(T in p?v=!1:p={},g)"!"==T.charAt(0)&&(T=T.slice(1),E.push(T),p[T]=!0,v=!1);for(;T=E.pop();)g[T]=g["!"+T],delete g["!"+T];f[h]=!v&&p||null}c.match=c.match||null,i.push(s),e.push(s)}for(t=o.elements,o=o.generic,n=0,i=e.length;n<i;++n){for(u in s=!0===(r=D(e[n])).classes||!0===r.styles||!0===r.attributes,c=r,d=h=u=void 0,w)c[u]=m(c[u]);for(d in f=!0,K){for(g in p=[],g=void 0,h=c[u=K[d]])-1<g.indexOf("*")?p.push(new RegExp("^"+g.replace(/\*/g,".*")+"$")):p.push(g);(h=p).length&&(c[u]=h,f=!1)}if(c.nothingRequired=f,c.noProperties=!(c.attributes||c.classes||c.styles),!0===r.elements||null===r.elements)o[s?"unshift":"push"](r);else for(l in c=r.elements,delete r.elements,c)t[l]?t[l][s?"unshift":"push"](r):t[l]=[r]}}function t(e,t,i,o){if((!e.match||e.match(t))&&(o||function(e,t){if(e.nothingRequired)return!0;var n,i,o,r;if(o=e.requiredClasses)for(r=t.classes,n=0;n<o.length;++n)if("string"==typeof(i=o[n])){if(-1==CKEDITOR.tools.indexOf(r,i))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(r,i))return!1;return s(t.styles,e.requiredStyles)&&s(t.attributes,e.requiredAttributes)}(e,t))&&(e.propertiesOnly||(i.valid=!0),i.allAttributes||(i.allAttributes=n(e.attributes,t.attributes,i.validAttributes)),i.allStyles||(i.allStyles=n(e.styles,t.styles,i.validStyles)),!i.allClasses)){if(e=e.classes,t=t.classes,o=i.validClasses,e)if(!0===e)e=!0;else{for(var r,a=0,l=t.length;a<l;++a)o[r=t[a]]||(o[r]=e(r));e=!1}else e=!1;i.allClasses=e}}function n(e,t,n){if(!e)return!1;if(!0===e)return!0;for(var i in t)n[i]||(n[i]=e(i));return!1}function i(e,t,n){if(!e.match||e.match(t)){if(e.noProperties)return!1;if(n.hadInvalidAttribute=o(e.attributes,t.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=o(e.styles,t.styles)||n.hadInvalidStyle,e=e.classes,t=t.classes,e){for(var i=!1,r=!0===e,a=t.length;a--;)(r||e(t[a]))&&(t.splice(a,1),i=!0);e=i}else e=!1;n.hadInvalidClass=e||n.hadInvalidClass}}function o(e,t){if(!e)return!1;var n,i=!1,o=!0===e;for(n in t)(o||e(n))&&(delete t[n],i=!0);return i}function r(e,t,n){return!(e.disabled||e.customConfig&&!n||!t)&&(e._.cachedChecks={},!0)}function a(e,t){if(!e)return!1;if(!0===e)return e;if("string"==typeof e)return"*"==(e=R(e))||CKEDITOR.tools.convertArrayToObject(e.split(t));if(CKEDITOR.tools.isArray(e))return!!e.length&&CKEDITOR.tools.convertArrayToObject(e);var n,i={},o=0;for(n in e)i[n]=e[n],o++;return!!o&&i}function s(e,t){if(!t)return!0;for(var n,i=0;i<t.length;++i)if("string"==typeof(n=t[i])){if(!(n in e))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e,n))return!1;return!0}function l(e){if(!e)return{};e=e.split(/\s*,\s*/).sort();for(var t={};e.length;)t[e.shift()]="cke-test";return t}function c(e){var t,n,i,o,r={},a=1;for(e=R(e);t=e.match(x);)(n=t[2])?(i=u(n,"styles"),o=u(n,"attrs"),n=u(n,"classes")):i=o=n=null,r["$"+a++]={elements:t[1],classes:n,styles:i,attributes:o},e=e.slice(t[0].length);return r}function u(e,t){var n=e.match(S[t]);return n?R(n[1]):null}function d(e){var t=e.styleBackup=e.attributes.style,n=e.classBackup=e.attributes.class;e.styles||(e.styles=CKEDITOR.tools.parseCssText(t||"",1)),e.classes||(e.classes=n?n.split(/\s+/):[])}function f(e,n,o,r){var a,s=0;if(r.toHtml&&(n.name=n.name.replace(N,"$1")),r.doCallbacks&&e.elementCallbacks){e:{for(var l,c=0,u=(a=e.elementCallbacks).length;c<u;++c)if(l=a[c](n)){a=l;break e}a=void 0}if(a)return a}if(r.doTransform&&(a=e._.transformations[n.name])){for(d(n),c=0;c<a.length;++c)T(e,n,a[c]);h(n)}if(r.doFilter){e:{c=n.name,e=(u=e._).allowedRules.elements[c],a=u.allowedRules.generic,c=u.disallowedRules.elements[c],u=u.disallowedRules.generic,l=r.skipRequired;var f,m,g={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(e||a){if(d(n),c)for(f=0,m=c.length;f<m;++f)if(!1===i(c[f],n,g)){e=null;break e}if(u)for(f=0,m=u.length;f<m;++f)i(u[f],n,g);if(e)for(f=0,m=e.length;f<m;++f)t(e[f],n,g,l);if(a)for(f=0,m=a.length;f<m;++f)t(a[f],n,g,l);e=g}else e=null}if(!e||!e.valid)return o.push(n),1;m=e.validAttributes;var E=e.validStyles;a=e.validClasses;c=n.attributes;var v=n.styles;u=n.classes;l=n.classBackup;var b,C,y=n.styleBackup,I=[],O=(g=[],/^data-cke-/);if(f=!1,delete c.style,delete c.class,delete n.classBackup,delete n.styleBackup,!e.allAttributes)for(b in c)m[b]||O.test(b)&&(b==(C=b.replace(/^data-cke-saved-/,""))||m[C])||(delete c[b],f=!0);if(!e.allStyles||e.hadInvalidStyle){for(b in v)e.allStyles||E[b]?I.push(b+":"+v[b]):f=!0;I.length&&(c.style=I.sort().join("; "))}else y&&(c.style=y);if(!e.allClasses||e.hadInvalidClass){for(b=0;b<u.length;++b)(e.allClasses||a[u[b]])&&g.push(u[b]);g.length&&(c.class=g.sort().join(" ")),l&&g.length<l.split(/\s+/).length&&(f=!0)}else l&&(c.class=l);if(f&&(s=1),!r.skipFinalValidation&&!p(n))return o.push(n),1}return r.toHtml&&(n.name=n.name.replace(P,"cke:$1")),s}function h(e){var t,n=e.attributes;delete n.style,delete n.class,(t=CKEDITOR.tools.writeCssText(e.styles,!0))&&(n.style=t),e.classes.length&&(n.class=e.classes.sort().join(" "))}function p(e){switch(e.name){case"a":if(!(e.children.length||e.attributes.name||e.attributes.id))return!1;break;case"img":if(!e.attributes.src)return!1}return!0}function m(e){if(!e)return!1;if(!0===e)return!0;var t=function(e){var t,n=[];for(t in e)-1<t.indexOf("*")&&n.push(t.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}(e);return function(n){return n in e||t&&n.match(t)}}function g(){return new CKEDITOR.htmlParser.element("br")}function E(e){return e.type==CKEDITOR.NODE_ELEMENT&&("br"==e.name||O.$block[e.name])}function v(e,t,n){var i=e.name;if(O.$empty[i]||!e.children.length)"hr"==i&&"br"==t?e.replaceWith(g()):(e.parent&&n.push({check:"it",el:e.parent}),e.remove());else if(O.$block[i]||"tr"==i)if("br"==t)e.previous&&!E(e.previous)&&(t=g()).insertBefore(e),e.next&&!E(e.next)&&(t=g()).insertAfter(e),e.replaceWithChildren();else{var o;i=e.children;e:{o=O[t];for(var r,a=0,s=i.length;a<s;++a)if((r=i[a]).type==CKEDITOR.NODE_ELEMENT&&!o[r.name]){o=!1;break e}o=!0}if(o)e.name=t,e.attributes={},n.push({check:"parent-down",el:e});else{var l,c;for(a=(o=e.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,s=i.length;0<s;)r=i[--s],a&&(r.type==CKEDITOR.NODE_TEXT||r.type==CKEDITOR.NODE_ELEMENT&&O.$inline[r.name])?(l||((l=new CKEDITOR.htmlParser.element(t)).insertAfter(e),n.push({check:"parent-down",el:l})),l.add(r,0)):(l=null,c=O[o.name]||O.span,r.insertAfter(e),o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r.type!=CKEDITOR.NODE_ELEMENT||c[r.name]||n.push({check:"el-up",el:r}));e.remove()}}else i in{style:1,script:1}?e.remove():(e.parent&&n.push({check:"it",el:e.parent}),e.replaceWithChildren())}function T(e,t,n){var i,o;for(i=0;i<n.length;++i)if(!((o=n[i]).check&&!e.check(o.check,!1)||o.left&&!o.left(t))){o.right(t,k);break}}function b(e,t){var n,i,o,r,a=t.getDefinition(),s=a.attributes,l=a.styles;if(e.name!=a.element)return!1;for(n in s)if("class"==n){for(a=s[n].split(/\s+/),o=e.classes.join("|");r=a.pop();)if(-1==o.indexOf(r))return!1}else if(e.attributes[n]!=s[n])return!1;for(i in l)if(e.styles[i]!=l[i])return!1;return!0}function C(e,t){var n,i;return"string"==typeof e?n=e:e instanceof CKEDITOR.style?i=e:(n=e[0],i=e[1]),[{element:n,left:i,right:function(e,n){n.transform(e,t)}}]}function y(e){return function(t){return b(t,e)}}function I(e){return function(t,n){n[e](t)}}var O=CKEDITOR.dtd,D=CKEDITOR.tools.copy,R=CKEDITOR.tools.trim,_=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(e,t){this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}},CKEDITOR.filter.instances[this.id]=this;var n=this.editor=e instanceof CKEDITOR.editor?e:null;if(n&&!t){this.customConfig=!0;var i=n.config.allowedContent;!0===i?this.disabled=!0:(i||(this.customConfig=!1),this.allow(i,"config",1),this.allow(n.config.extraAllowedContent,"extra",1),this.allow(_[n.enterMode]+" "+_[n.shiftEnterMode],"default",1),this.disallow(n.config.disallowedContent))}else this.customConfig=!1,this.allow(t||e,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,n,i){if(!r(this,t,i))return!1;var o,a;if("string"==typeof t)t=c(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),n,i);o=t.getDefinition(),t={},i=o.attributes,t[o.element]=o={styles:o.styles,requiredStyles:o.styles&&CKEDITOR.tools.object.keys(o.styles)},i&&(i=D(i),o.classes=i.class?i.class.split(/\s+/):null,o.requiredClasses=o.classes,delete i.class,o.attributes=i,o.requiredAttributes=i&&CKEDITOR.tools.object.keys(i))}else if(CKEDITOR.tools.isArray(t)){for(o=0;o<t.length;++o)a=this.allow(t[o],n,i);return a}return e(this,t,n,this.allowedContent,this._.allowedRules),!0},applyTo:function(e,t,n,i){if(this.disabled)return!1;var o,r,a,s=this,l=[],c=this.editor&&this.editor.config.protectedSource,u=!1,d={doFilter:!n,doTransform:!0,doCallbacks:!0,toHtml:t};for(e.forEach((function(e){if(e.type==CKEDITOR.NODE_ELEMENT){if("off"==e.attributes["data-cke-filter"])return!1;if(!t||"span"!=e.name||!~CKEDITOR.tools.object.keys(e.attributes).join("|").indexOf("data-cke-"))if(1&(o=f(s,e,l,d)))u=!0;else if(2&o)return!1}else if(e.type==CKEDITOR.NODE_COMMENT&&e.value.match(/^\{cke_protected\}(?!\{C\})/)){var n;e:{var i,r,a,h=decodeURIComponent(e.value.replace(/^\{cke_protected\}/,""));if(n=[],c)for(r=0;r<c.length;++r)if((a=h.match(c[r]))&&a[0].length==h.length){n=!0;break e}1==(h=CKEDITOR.htmlParser.fragment.fromHtml(h)).children.length&&(i=h.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(s,i,n,d),n=!n.length}n||l.push(e)}}),null,!0),l.length&&(u=!0),e=[],i=_[i||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];n=l.pop();)n.type==CKEDITOR.NODE_ELEMENT?v(n,i,e):n.remove();for(;r=e.pop();)if((n=r.el).parent)switch(a=O[n.parent.name]||O.span,r.check){case"it":O.$removeEmpty[n.name]&&!n.children.length?v(n,i,e):p(n)||v(n,i,e);break;case"el-up":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a[n.name]||v(n,i,e);break;case"parent-down":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a[n.name]||v(n.parent,i,e)}return u},checkFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),!e.requiredContent||this.check(e.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return!!r(this,t,!0)&&("string"==typeof t&&(t=c(t)),e(this,t,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(e){if(!this.disabled&&e){var t,n,i,o=[];for(t=0;t<e.length&&!i;++t)("string"==typeof(n=e[t])||n instanceof CKEDITOR.style)&&this.check(n)&&(i=n);if(i){for(t=0;t<e.length;++t)o.push(C(e[t],i));this.addTransformations(o)}}},addElementCallback:function(e){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(e)},addFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),this.allow(e.allowedContent,e.name),this.addTransformations(e.contentTransformations),this.addContentForms(e.contentForms),!e.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(e.requiredContent))},addTransformations:function(e){var t,n;if(!this.disabled&&e){var i,o=this._.transformations;for(i=0;i<e.length;++i){t=e[i];var r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0;for(n=[],a=0;a<t.length;++a)"string"==typeof(s=t[a])?(l=(s=s.split(/\s*:\s*/))[0],c=null,u=s[1]):(l=s.check,c=s.left,u=s.right),r||(r=(r=s).element?r.element:l?l.match(/^([a-z0-9]+)/i)[0]:r.left.getDefinition().element),c instanceof CKEDITOR.style&&(c=y(c)),n.push({check:l==r?null:l,left:c,right:"string"==typeof u?I(u):u});o[t=r]||(o[t]=[]),o[t].push(n)}}},check:function(e,t,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(e)){for(var i=e.length;i--;)if(this.check(e[i],t,n))return!0;return!1}var o,r;if("string"==typeof e){if((r=e+"<"+(!1===t?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[r];var a=(o=c(e).$1).styles;i=o.classes;o.name=o.elements,o.classes=i=i?i.split(/\s*,\s*/):[],o.styles=l(a),o.attributes=l(o.attributes),o.children=[],i.length&&(o.attributes.class=i.join(" ")),a&&(o.attributes.style=CKEDITOR.tools.writeCssText(o.styles))}else a=(o=e.getDefinition()).styles,i=o.attributes||{},a&&!CKEDITOR.tools.isEmpty(a)?(a=D(a),i.style=CKEDITOR.tools.writeCssText(a,!0)):a={},o={name:o.element,attributes:i,classes:i.class?i.class.split(/\s+/):[],styles:a,children:[]};a=CKEDITOR.tools.clone(o);var s,u=[];if(!1!==t&&(s=this._.transformations[o.name])){for(i=0;i<s.length;++i)T(this,o,s[i]);h(o)}return f(this,a,u,{doFilter:!0,doTransform:!1!==t,skipRequired:!n,skipFinalValidation:!n}),0<u.length?n=!1:((t=o.attributes.class)&&(o.attributes.class=o.attributes.class.split(" ").sort().join(" ")),n=CKEDITOR.tools.objectCompare(o.attributes,a.attributes,!0),t&&(o.attributes.class=t)),"string"==typeof e&&(this._.cachedChecks[r]=n),n},getAllowedEnterMode:function(){var e=["p","div","br"],t={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(n,i){var o,r=e.slice();if(this.check(_[n]))return n;for(i||(r=r.reverse());o=r.pop();)if(this.check(o))return t[o];return CKEDITOR.ENTER_BR}}(),clone:function(){var e=new CKEDITOR.filter,t=CKEDITOR.tools.clone;return e.allowedContent=t(this.allowedContent),e._.allowedRules=t(this._.allowedRules),e.disallowedContent=t(this.disallowedContent),e._.disallowedRules=t(this._.disallowedRules),e._.transformations=t(this._.transformations),e.disabled=this.disabled,e.editor=this.editor,e},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var k,w={styles:1,attributes:1,classes:1},K={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},x=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,S={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},N=/^cke:(object|embed|param)$/,P=/^(object|embed|param)$/;k=CKEDITOR.filter.transformationsTools={sizeToStyle:function(e){this.lengthToStyle(e,"width"),this.lengthToStyle(e,"height")},sizeToAttribute:function(e){this.lengthToAttribute(e,"width"),this.lengthToAttribute(e,"height")},lengthToStyle:function(e,t,n){if(!((n=n||t)in e.styles)){var i=e.attributes[t];i&&(/^\d+$/.test(i)&&(i+="px"),e.styles[n]=i)}delete e.attributes[t]},lengthToAttribute:function(e,t,n){if(!((n=n||t)in e.attributes)){var i=e.styles[t],o=i&&i.match(/^(\d+)(?:\.\d*)?px$/);o?e.attributes[n]=o[1]:"cke-test"==i&&(e.attributes[n]="cke-test")}delete e.styles[t]},alignmentToStyle:function(e){if(!("float"in e.styles)){var t=e.attributes.align;"left"!=t&&"right"!=t||(e.styles.float=t)}delete e.attributes.align},alignmentToAttribute:function(e){if(!("align"in e.attributes)){var t=e.styles.float;"left"!=t&&"right"!=t||(e.attributes.align=t)}delete e.styles.float},splitBorderShorthand:function(e){if(e.styles.border){var t=CKEDITOR.tools.style.parse.border(e.styles.border);t.color&&(e.styles["border-color"]=t.color),t.style&&(e.styles["border-style"]=t.style),t.width&&(e.styles["border-width"]=t.width),delete e.styles.border}},listTypeToStyle:function(e){if(e.attributes.type)switch(e.attributes.type){case"a":e.styles["list-style-type"]="lower-alpha";break;case"A":e.styles["list-style-type"]="upper-alpha";break;case"i":e.styles["list-style-type"]="lower-roman";break;case"I":e.styles["list-style-type"]="upper-roman";break;case"1":e.styles["list-style-type"]="decimal";break;default:e.styles["list-style-type"]=e.attributes.type}},splitMarginShorthand:function(e){function t(t){e.styles["margin-top"]=n[t[0]],e.styles["margin-right"]=n[t[1]],e.styles["margin-bottom"]=n[t[2]],e.styles["margin-left"]=n[t[3]]}if(e.styles.margin){var n=e.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}delete e.styles.margin}},matchesStyle:b,transform:function(e,t){if("string"==typeof t)e.name=t;else{var n,i,o,r,a=t.getDefinition(),s=a.styles,l=a.attributes;for(n in e.name=a.element,l)if("class"==n)for(a=e.classes.join("|"),o=l[n].split(/\s+/);r=o.pop();)-1==a.indexOf(r)&&e.classes.push(r);else e.attributes[n]=l[n];for(i in s)e.styles[i]=s[i]}}}}(),CKEDITOR.focusManager=function(e){return e.focusManager?e.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:e},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(e){this._.timer&&clearTimeout(this._.timer),e&&(this.currentActive=e),this.hasFocus||this._.locked||((e=CKEDITOR.currentInstance)&&e.focusManager.blur(1),this.hasFocus=!0,(e=this._.editor.container)&&e.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(e){function t(){if(this.hasFocus){this.hasFocus=!1;var e=this._.editor.container;e&&e.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;e||!n?t.call(this):this._.timer=CKEDITOR.tools.setTimeout((function(){delete this._.timer,t.call(this)}),n,this)}},add:function(e,t){if(!(n=e.getCustomData("focusmanager"))||n!=this){n&&n.remove(e);var n="focus",i="blur";t&&(CKEDITOR.env.ie?(n="focusin",i="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){e.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(e)}};e.on(n,o.focus,this),e.on(i,o.blur,this),t&&(CKEDITOR.event.useCapture=0),e.setCustomData("focusmanager",this),e.setCustomData("focusmanager_handlers",o)}},remove:function(e){e.removeCustomData("focusmanager");var t=e.removeCustomData("focusmanager_handlers");e.removeListener("blur",t.blur),e.removeListener("focus",t.focus)}},CKEDITOR.keystrokeHandler=function(e){return e.keystrokeHandler?e.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:e},this)},function(){var e,t=function(t){var n=(t=t.data).getKeystroke(),i=this.keystrokes[n],o=this._.editor;return(e=!1===o.fire("key",{keyCode:n,domEvent:t}))||(i&&(e=!1!==o.execCommand(i,{from:"keystrokeHandler"})),e||(e=!!this.blockedKeystrokes[n])),e&&t.preventDefault(!0),!e},n=function(t){e&&(e=!1,t.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",t,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&e.on("keypress",n,this)}}}(),CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(e,t,n){e&&CKEDITOR.lang.languages[e]||(e=this.detect(t,e));var i=this;t=function(){i[e].dir=i.rtl[e]?"rtl":"ltr",n(e,i[e])},this[e]?t():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+e+".js"),t,this)},detect:function(e,t){var n=this.languages,i=(o=(t=t||navigator.userLanguage||navigator.language||e).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],o=o[2];return n[i+"-"+o]?i=i+"-"+o:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(e){return e},i||e}},CKEDITOR.scriptLoader=function(){var e={},t={};return{load:function(n,i,o,r){var a="string"==typeof n;a&&(n=[n]),o||(o=CKEDITOR);var s=n.length,l=[],c=[],u=function(e){i&&(a?i.call(o,e):i.call(o,l,c))};if(0===s)u(!0);else{var d=function(e,t){(t?l:c).push(e),0>=--s&&(r&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),u(t))},f=function(n,i){e[n]=1;var o=t[n];delete t[n];for(var r=0;r<o.length;r++)o[r](n,i)},h=function(n){if(e[n])d(n,!0);else{var o=t[n]||(t[n]=[]);if(o.push(d),!(1<o.length)){var r=new CKEDITOR.dom.element("script");r.setAttributes({type:"text/javascript",src:n}),i&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?r.$.onreadystatechange=function(){"loaded"!=r.$.readyState&&"complete"!=r.$.readyState||(r.$.onreadystatechange=null,f(n,!0))}:(r.$.onload=function(){setTimeout((function(){r.$.onload=null,r.$.onerror=null,f(n,!0)}),0)},r.$.onerror=function(){r.$.onload=null,r.$.onerror=null,f(n,!1)})),r.appendTo(CKEDITOR.document.getHead())}}};r&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var p=0;p<s;p++)h(n[p])}},queue:function(){function e(){var e;(e=t[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var t=[];return function(n,i){var o=this;t.push({scriptUrl:n,callback:function(){i&&i.apply(this,arguments),t.shift(),e.call(o)}}),1==t.length&&e.call(this)}}()}}(),CKEDITOR.resourceManager=function(e,t){this.basePath=e,this.fileName=t,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(e,t){if(this.registered[e])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+e+'" is already registered.');var n=this.registered[e]=t||{};return n.name=e,n.path=this.getPath(e),CKEDITOR.fire(e+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(e)},get:function(e){return this.registered[e]||null},getPath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(t&&t.dir||this.basePath+e+"/")},getFilePath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(this.getPath(e)+(t?t.file:this.fileName+".js"))},addExternal:function(e,t,n){n||(t=t.replace(/[^\/]+$/,(function(e){return n=e,""}))),n=n||this.fileName+".js",e=e.split(",");for(var i=0;i<e.length;i++)this.externals[e[i]]={dir:t,file:n}},load:function(e,t,n){CKEDITOR.tools.isArray(e)||(e=e?[e]:[]);for(var i=this.loaded,o=this.registered,r=[],a={},s={},l=0;l<e.length;l++){var c=e[l];if(c)if(i[c]||o[c])s[c]=this.get(c);else{var u=this.getFilePath(c);r.push(u),u in a||(a[u]=[]),a[u].push(c)}}CKEDITOR.scriptLoader.load(r,(function(e,o){if(o.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+a[o[0]].join(",")+'" was not found at "'+o[0]+'".');for(var r=0;r<e.length;r++)for(var l=a[e[r]],c=0;c<l.length;c++){var u=l[c];s[u]=this.get(u),i[u]=1}t.call(n,s)}),this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,(function(e){var t={};return function(n,i,o){var r={},a=function(n){e.call(this,n,(function(e){CKEDITOR.tools.extend(r,e);var n,s=[];for(n in e){var l=e[n],c=l&&l.requires;if(!t[n]){if(l.icons)for(var u=l.icons.split(","),d=u.length;d--;)CKEDITOR.skin.addIcon(u[d],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+u[d]+".png");l.isSupportedEnvironment=l.isSupportedEnvironment||function(){return!0},t[n]=1}if(c)for(c.split&&(c=c.split(",")),l=0;l<c.length;l++)r[c[l]]||s.push(c[l])}if(s.length)a.call(this,s);else{for(n in r)(l=r[n]).onLoad&&!l.onLoad._called&&(!1===l.onLoad()&&delete r[n],l.onLoad._called=1);i&&i.call(o||window,r)}}),this)};a.call(this,n)}})),CKEDITOR.plugins.setLang=function(e,t,n){var i=this.get(e);e=i.langEntries||(i.langEntries={}),(i=i.lang||(i.lang=[])).split&&(i=i.split(",")),-1==CKEDITOR.tools.indexOf(i,t)&&i.push(t),e[t]=n},CKEDITOR.ui=function(e){return e.ui?e.ui:(this.items={},this.instances={},this.editor=e,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(e,t,n){n.name=e.toLowerCase();var i=this.items[e]={type:t,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(i,n)},get:function(e){return this.instances[e]},create:function(e){var t=this.items[e],n=t&&this._.handlers[t.type],i=t&&t.command&&this.editor.getCommand(t.command);n=n&&n.create.apply(this,t.args);return this.instances[e]=n,i&&i.uiItems.push(n),n&&!n.type&&(n.type=t.type),n},addHandler:function(e,t){this._.handlers[e]=t},space:function(e){return CKEDITOR.document.getById(this.spaceId(e))},spaceId:function(e){return this.editor.id+"_"+e}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function e(e,n,o){if(CKEDITOR.event.call(this),e=e&&CKEDITOR.tools.clone(e),void 0!==n){if(!(n instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!o)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!function(e,t){return t==CKEDITOR.ELEMENT_MODE_INLINE?e.is(CKEDITOR.dtd.$editable)||e.is("textarea"):t==CKEDITOR.ELEMENT_MODE_REPLACE?!e.is(CKEDITOR.dtd.$nonBodyContent):1}(n,o))throw Error('The specified element mode is not supported on element: "'+n.getName()+'".');this.element=n,this.elementMode=o,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(n.getId()||n.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||function(){do{var e="editor"+ ++r}while(CKEDITOR.instances[e]);return e}(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",t),this.on("selectionChange",(function(e){i(this,e.data.path)})),this.on("activeFilterChange",(function(){i(this,this.elementPath(),!0)})),this.on("mode",t),CKEDITOR.dom.selection.setupEditorOptimization(this),this.on("instanceReady",(function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var e=this.createRange();e.selectNodeContents(this.editable()),e.shrink(CKEDITOR.SHRINK_ELEMENT,!0),e.collapse(),this.getSelection().selectRanges([e])}this.focus()}})),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout((function(){this.isDestroyed()||this.isDetached()||function(e,t){e.on("customConfigLoaded",(function(){if(t){if(t.on)for(var n in t.on)e.on(n,t.on[n]);CKEDITOR.tools.extend(e.config,t,!0),delete e.config.on}n=e.config,e.readOnly=!!n.readOnly||(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"))),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p),e.tabIndex=n.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:n.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:n.shiftEnterMode,n.skin&&(CKEDITOR.skinName=n.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),function(e){CKEDITOR.skin.loadPart("editor",(function(){!function(e){CKEDITOR.lang.load(e.config.language,e.config.defaultLanguage,(function(t,n){var i=e.config.title;e.langCode=t,e.lang=CKEDITOR.tools.prototypedCopy(n),e.title="string"==typeof i||!1===i?i:[e.lang.editor,e.name].join(", "),e.config.contentsLangDirection||(e.config.contentsLangDirection=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.getDirection(1):e.lang.dir),e.fire("langLoaded"),function(e){e.getStylesSet((function(t){e.once("loaded",(function(){e.fire("stylesSet",{styles:t})}),null,null,1),function(e){function t(e){return e?(CKEDITOR.tools.isArray(e)&&(e=e.join(",")),e.replace(/\s/g,"")):""}var n=e.config,i=t(n.plugins),o=t(n.extraPlugins),r=t(n.removePlugins);if(o){var a=new RegExp("(?:^|,)(?:"+o.replace(/,/g,"|")+")(?=,|$)","g");i=(i=i.replace(a,""))+","+o}if(r){var s=new RegExp("(?:^|,)(?:"+r.replace(/,/g,"|")+")(?=,|$)","g");i=i.replace(s,"")}CKEDITOR.env.air&&(i+=",adobeair"),CKEDITOR.plugins.load(i.split(","),(function(t){var i=[],o=[],r=[];for(var a in e.plugins=CKEDITOR.tools.extend({},e.plugins,t),t){var l,c=t[a],u=c.lang,d=null,f=c.requires;if(CKEDITOR.tools.isArray(f)&&(f=f.join(",")),f&&(l=f.match(s)))for(;f=l.pop();)CKEDITOR.error("editor-plugin-required",{plugin:f.replace(",",""),requiredBy:a});u&&!e.lang[a]&&(u.split&&(u=u.split(",")),0<=CKEDITOR.tools.indexOf(u,e.langCode)?d=e.langCode:d=(d=e.langCode.replace(/-.*/,""))!=e.langCode&&0<=CKEDITOR.tools.indexOf(u,d)?d:0<=CKEDITOR.tools.indexOf(u,"en")?"en":u[0],c.langEntries&&c.langEntries[d]?(e.lang[a]=c.langEntries[d],d=null):r.push(CKEDITOR.getUrl(c.path+"lang/"+d+".js"))),o.push(d),i.push(c)}CKEDITOR.scriptLoader.load(r,(function(){if(!e.isDestroyed()&&!e.isDetached()){for(var t=["beforeInit","init","afterInit"],r=0;r<t.length;r++)for(var a=0;a<i.length;a++){var s=i[a];0===r&&o[a]&&s.lang&&s.langEntries&&(e.lang[s.name]=s.langEntries[o[a]]),s[t[r]]&&s[t[r]](e)}for(e.fireOnce("pluginsLoaded"),n.keystrokes&&e.setKeystroke(e.config.keystrokes),a=0;a<e.config.blockedKeystrokes.length;a++)e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[a]]=1;e.status="loaded",e.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,e)}}))}))}(e)}))}(e)}))}(e)}))}(e)})),t&&null!=t.customConfig&&(e.config.customConfig=t.customConfig),function e(t){if(!(n=t.config.customConfig))return!1;var n=CKEDITOR.getUrl(n),i=a[n]||(a[n]={});return i.fn?(i.fn.call(t,t.config),CKEDITOR.getUrl(t.config.customConfig)!=n&&e(t)||t.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(n,(function(){i.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},e(t)})),!0}(e)||e.fireOnce("customConfigLoaded")}(this,e)}),0,this)}function t(){var e,t=this.commands;for(e in t)n(this,t[e])}function n(e,t){t[t.startDisabled?"disable":e.readOnly&&!t.readOnly?"disable":t.modes[e.mode]?"enable":"disable"]()}function i(e,t,n){if(t){var i,o,r=e.commands;for(o in r)i=r[o],(n||i.contextSensitive)&&i.refresh(e,t)}}function o(){var e=this.element;if(e&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var t=this.getData();return this.config.htmlEncodeOutput&&(t=CKEDITOR.tools.htmlEncode(t)),e.is("textarea")?e.setValue(t):e.setHtml(t),!0}return!1}e.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=e;var r=0,a={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(this[i])return CKEDITOR.warn("editor-plugin-conflict",{plugin:e,replacedWith:i}),!0}return!1}},addCommand:function(e,t){t.name=e.toLowerCase();var i=t instanceof CKEDITOR.command?t:new CKEDITOR.command(this,t);return this.mode&&n(this,i),this.commands[e]=i},_attachToForm:function(){function e(e){t.updateElement(),t._.required&&!n.getValue()&&!1===t.fire("required")&&e.data.preventDefault()}var t=this,n=t.element,i=new CKEDITOR.dom.element(n.$.form);n.is("textarea")&&i&&(i.on("submit",e),function(e){return!!(e&&e.call&&e.apply)}(i.$.submit)&&(i.$.submit=CKEDITOR.tools.override(i.$.submit,(function(t){return function(){e(),t.apply?t.apply(this):t()}}))),t.on("destroy",(function(){i.removeListener("submit",e)})))},destroy:function(e){var t=CKEDITOR.filter.instances,n=this;this.fire("beforeDestroy"),!e&&o.call(this),this.editable(null),this.filter&&delete this.filter,CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(t),(function(e){e=t[e],n===e.editor&&e.destroy()})),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(e){if(!e){if(!(e=this.getSelection()))return null;e=e.getStartElement()}return e?new CKEDITOR.dom.elementPath(e,this.editable()):null},createRange:function(){var e=this.editable();return e?new CKEDITOR.dom.range(e):null},execCommand:function(e,t){var n=this.getCommand(e),i={name:e,commandData:t||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",i)||(i.returnValue=n.exec(i.commandData),n.async||!1===this.fire("afterCommandExec",i)))&&i.returnValue},getCommand:function(e){return this.commands[e]},getData:function(e){!e&&this.fire("beforeGetData");var t=this._.data;return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t={dataValue:t},!e&&this.fire("getData",t),t.dataValue},getSnapshot:function(){var e=this.fire("getSnapshot");return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e},loadSnapshot:function(e){this.fire("loadSnapshot",e)},setData:function(e,t,n){var i=!0,o=t;t&&"object"==typeof t&&(n=t.internal,o=t.callback,i=!t.noSnapshot),!n&&i&&this.fire("saveSnapshot"),!o&&n||this.once("dataReady",(function(e){!n&&i&&this.fire("saveSnapshot"),o&&o.call(e.editor)})),e={dataValue:e},!n&&this.fire("setData",e),this._.data=e.dataValue,!n&&this.fire("afterSetData",e)},setReadOnly:function(e){e=null==e||e,this.readOnly!=e&&(this.readOnly=e,this.keystrokeHandler.blockedKeystrokes[8]=+e,this.editable().setReadOnly(e),this.fire("readOnly"))},insertHtml:function(e,t,n){this.fire("insertHtml",{dataValue:e,mode:t,range:n})},insertText:function(e){this.fire("insertText",e)},insertElement:function(e){this.fire("insertElement",e)},getSelectedHtml:function(e){var t=this.editable(),n=(n=this.getSelection())&&n.getRanges();return t&&n&&0!==n.length?(t=function(e,t){function n(e){var t=e.startContainer,n=e.endContainer;return!(!t.is||!(t.is("tr")||t.is("td")&&t.equals(n)&&e.endOffset===t.getChildCount()))}function i(e){var t=e.startContainer;return t.is("tr")?e.cloneContents():t.clone(!0)}for(var o,r,a,s=new CKEDITOR.dom.documentFragment,l=0;l<e.length;l++){var c=e[l],u=c.startContainer.getAscendant("tr",!0);n(c)?(o||((o=u.getAscendant("table").clone()).append(u.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(o),o=o.findOne("thead, tbody, tfoot")),r&&r.equals(u)||(r=u,a=u.clone(),o.append(a)),a.append(i(c))):s.append(c.cloneContents())}return o?s:t.getHtmlFromRange(e[0])}(n,t),e?t.getHtml():t):null},extractSelectedHtml:function(e,t){var n,i=this.editable(),o=this.getSelection().getRanges(),r=new CKEDITOR.dom.documentFragment;if(!i||0===o.length)return null;for(n=0;n<o.length;n++)r.append(i.extractHtmlFromRange(o[n],t));return t||this.getSelection().selectRanges([o[0]]),e?r.getHtml():r},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return o.call(this)},setKeystroke:function(){for(var e,t,n=this.keystrokeHandler.keystrokes,i=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],o=i.length;o--;)e=i[o],t=0,CKEDITOR.tools.isArray(e)&&(t=e[1],e=e[0]),t?n[e]=t:delete n[e]},getCommandKeystroke:function(e,t){var n="string"==typeof e?this.getCommand(e):e,i=[];if(n){var o=CKEDITOR.tools.object.findKey(this.commands,n),r=this.keystrokeHandler.keystrokes;if(n.fakeKeystroke)i.push(n.fakeKeystroke);else for(var a in r)r[a]===o&&i.push(a)}return t?i:i[0]||null},addFeature:function(e){return this.filter.addFeature(e)},setActiveFilter:function(e){e||(e=this.filter),this.activeFilter!==e&&(this.activeFilter=e,this.fire("activeFilterChange"),e===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode),e.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(e,t){e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.enterMode,t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.shiftEnterMode,this.activeEnterMode==e&&this.activeShiftEnterMode==t||(this.activeEnterMode=e,this.activeShiftEnterMode=t,this.fire("activeEnterModeChange"))},showNotification:function(e){alert(e)},isDetached:function(){return!!this.container&&this.container.isDetached()},isDestroyed:function(){return"destroyed"===this.status}}),CKEDITOR.editor._getEditorElement=function(e){if(!CKEDITOR.env.isCompatible)return null;var t=CKEDITOR.dom.element.get(e);return t?t.getEditor()?(CKEDITOR.error("editor-element-conflict",{editorName:t.getEditor().name}),null):t:(CKEDITOR.error("editor-incorrect-element",{element:e}),null)}}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var e=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){for(var i,o,r,a=0;i=this._.htmlPartsRegex.exec(n);)if((o=i.index)>a&&(a=n.substring(a,o),r?r.push(a):this.onText(a)),a=this._.htmlPartsRegex.lastIndex,!(o=i[1])||(o=o.toLowerCase(),r&&CKEDITOR.dtd.$cdata[o]&&(this.onCDATA(r.join("")),r=null),r))if(r)r.push(i[0]);else if(o=i[3]){if(o=o.toLowerCase(),!/="/.test(o)){var s,l={},c=i[4];if(i=!!i[5],c)for(;s=e.exec(c);){var u=s[1].toLowerCase();s=s[2]||s[3]||s[4]||"",l[u]=!s&&t[u]?u:CKEDITOR.tools.htmlDecodeAttr(s)}this.onTagOpen(o,l,i),!r&&CKEDITOR.dtd.$cdata[o]&&(r=[])}}else(o=i[2])&&this.onComment(o);else this.onTagClose(o);n.length>a&&this.onText(n.substring(a,n.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(e){this._.output.push("<",e)},openTagClose:function(e,t){t?this._.output.push(" />"):this._.output.push(">")},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){this._.output.push("</",e,">")},text:function(e){this._.output.push(e)},comment:function(e){this._.output.push("\x3c!--",e,"--\x3e")},write:function(e){this._.output.push(e)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(e){var t=this._.output.join("");return e&&this.reset(),t}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var e=this.parent.children,t=CKEDITOR.tools.indexOf(e,this),n=this.previous,i=this.next;n&&(n.next=i),i&&(i.previous=n),e.splice(t,1),this.parent=null},replaceWith:function(e){var t=this.parent.children,n=CKEDITOR.tools.indexOf(t,this),i=e.previous=this.previous,o=e.next=this.next;i&&(i.next=e),o&&(o.previous=e),t[n]=e,e.parent=this.parent,this.parent=null},insertAfter:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e),i=e.next;t.splice(n+1,0,this),this.next=e.next,this.previous=e,e.next=this,i&&(i.previous=this),this.parent=e.parent},insertBefore:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e);t.splice(n,0,this),this.next=e,(this.previous=e.previous)&&(e.previous.next=this),e.previous=this,this.parent=e.parent},getAscendant:function(e){for(var t="function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(e){return this.replaceWith(e),e.add(this),e},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(e){return e||{}}},CKEDITOR.htmlParser.comment=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(e,t){var n=this.value;return(n=e.onComment(t,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.comment(this.value)}}),CKEDITOR.htmlParser.text=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e,t){if(!(this.value=e.onText(t,this.value,this)))return this.remove(),!1},writeHtml:function(e,t){t&&this.filter(t),e.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(e){this.value=e},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(e){e.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function e(e){return!e.attributes["data-cke-survive"]&&("a"==e.name&&e.attributes.href||CKEDITOR.dtd.$removeEmpty[e.name])}var t=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),n={ol:1,ul:1},i=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),o={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(r,a,s){function l(e){var t;if(0<g.length)for(var n=0;n<g.length;n++){var i=g[n],o=i.name,r=CKEDITOR.dtd[o],a=v.name&&CKEDITOR.dtd[v.name];a&&!a[o]||e&&r&&!r[e]&&CKEDITOR.dtd[e]?o==v.name&&(d(v,v.parent,1),n--):(t||(c(),t=1),(i=i.clone()).parent=v,v=i,g.splice(n,1),n--)}}function c(){for(;E.length;)d(E.shift(),v)}function u(e){if(e._.isBlockLike&&"pre"!=e.name&&"textarea"!=e.name){var t,n=e.children.length,i=e.children[n-1];i&&i.type==CKEDITOR.NODE_TEXT&&((t=CKEDITOR.tools.rtrim(i.value))?i.value=t:e.children.length=n-1)}}function d(t,n,i){n=n||v||m;var o=v;void 0===t.previous&&(f(n,t)&&(v=n,p.onTagOpen(s,{}),t.returnPoint=n=v),u(t),e(t)&&!t.children.length||n.add(t),"pre"==t.name&&(b=!1),"textarea"==t.name&&(T=!1)),t.returnPoint?(v=t.returnPoint,delete t.returnPoint):v=i?n:o}function f(e,t){var n,i;if((e==m||"body"==e.name)&&s&&(!e.name||CKEDITOR.dtd[e.name][s]))return(n=t.attributes&&(i=t.attributes["data-cke-real-element-type"])?i:t.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!t.isOrphan||t.type==CKEDITOR.NODE_TEXT}function h(e,t){return(e in CKEDITOR.dtd.$listItem||e in CKEDITOR.dtd.$tableContent)&&(e==t||"dt"==e&&"dd"==t||"dd"==e&&"dt"==t)}var p=new CKEDITOR.htmlParser,m=a instanceof CKEDITOR.htmlParser.element?a:"string"==typeof a?new CKEDITOR.htmlParser.element(a):new CKEDITOR.htmlParser.fragment,g=[],E=[],v=m,T="textarea"==m.name,b="pre"==m.name;for(p.onTagOpen=function(o,r,a,s){if((r=new CKEDITOR.htmlParser.element(o,r)).isUnknown&&a&&(r.isEmpty=!0),r.isOptionalClose=s,e(r))g.push(r);else{if("pre"==o)b=!0;else{if("br"==o&&b)return void v.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==o&&(T=!0)}if("br"==o)E.push(r);else{for(;s=(a=v.name)?CKEDITOR.dtd[a]||(v._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):i,!(r.isUnknown||v.isUnknown||s[o]);)if(v.isOptionalClose)p.onTagClose(a);else if(o in n&&a in n)(a=(a=v.children)[a.length-1])&&"li"==a.name||d(a=new CKEDITOR.htmlParser.element("li"),v),!r.returnPoint&&(r.returnPoint=v),v=a;else if(o in CKEDITOR.dtd.$listItem&&!h(o,a))p.onTagOpen("li"==o?"ul":"dl",{},0,1);else if(a in t&&!h(o,a))!r.returnPoint&&(r.returnPoint=v),v=v.parent;else{if(a in CKEDITOR.dtd.$inline&&g.unshift(v),!v.parent){r.isOrphan=1;break}d(v,v.parent,1)}l(o),c(),r.parent=v,r.isEmpty?d(r):v=r}}},p.onTagClose=function(e){for(var t=g.length-1;0<=t;t--)if(e==g[t].name)return void g.splice(t,1);for(var n=[],i=[],o=v;o!=m&&o.name!=e;)o._.isBlockLike||i.unshift(o),n.push(o),o=o.returnPoint||o.parent;if(o!=m){for(t=0;t<n.length;t++){var r=n[t];d(r,r.parent)}v=o,o._.isBlockLike&&c(),d(o,o.parent),o==v&&(v=v.parent),g=g.concat(i)}"body"==e&&(s=!1)},p.onText=function(e){if(v._.hasInlineStarted&&!E.length||b||T||0!==(e=CKEDITOR.tools.ltrim(e)).length){var n=v.name,r=n?CKEDITOR.dtd[n]||(v._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):i;!T&&!r["#"]&&n in t?(p.onTagOpen(o[n]||""),p.onText(e)):(c(),l(),b||T||(e=e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),e=new CKEDITOR.htmlParser.text(e),f(v,e)&&this.onTagOpen(s,{},0,1),v.add(e))}},p.onCDATA=function(e){v.add(new CKEDITOR.htmlParser.cdata(e))},p.onComment=function(e){c(),l(),v.add(new CKEDITOR.htmlParser.comment(e))},p.parse(r),c();v!=m;)d(v,v.parent,1);return u(m),m},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(e,t){isNaN(t)&&(t=this.children.length);var n=0<t?this.children[t-1]:null;if(n){if(e._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(e);n.next=e}e.previous=n,e.parent=this,this.children.splice(t,0,e),this._.hasInlineStarted||(this._.hasInlineStarted=e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&!e._.isBlockLike)},filter:function(e,t){t=this.getFilterContext(t),e.onRoot(t,this),this.filterChildren(e,!1,t)},filterChildren:function(e,t,n){if(this.childrenFilteredBy!=e.id)for(n=this.getFilterContext(n),t&&!this.parent&&e.onRoot(n,this),this.childrenFilteredBy=e.id,t=0;t<this.children.length;t++)!1===this.children[t].filter(e,n)&&t--},writeHtml:function(e,t){t&&this.filter(t),this.writeChildrenHtml(e)},writeChildrenHtml:function(e,t,n){var i=this.getFilterContext();for(n&&!this.parent&&t&&t.onRoot(i,this),t&&this.filterChildren(t,!1,i),t=0,i=(n=this.children).length;t<i;t++)n[t].writeHtml(e)},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var i=e(this);if(!1!==i){n=this.children;for(var o=0;o<n.length;o++)(i=n[o]).type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):t&&i.type!=t||e(i)}},getFilterContext:function(e){return e||{}}}}(),function(){function e(){this.rules=[]}function t(t,n,i,o){var r,a;for(r in n)(a=t[r])||(a=t[r]=new e),a.add(n[r],i,o)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new e,this.attributeNameRules=new e,this.elementsRules={},this.attributesRules={},this.textRules=new e,this.commentRules=new e,this.rootRules=new e,t&&this.addRules(t,10)},proto:{addRules:function(e,n){var i;"number"==typeof n?i=n:n&&"priority"in n&&(i=n.priority),"number"!=typeof i&&(i=10),"object"!=typeof n&&(n={}),e.elementNames&&this.elementNameRules.addMany(e.elementNames,i,n),e.attributeNames&&this.attributeNameRules.addMany(e.attributeNames,i,n),e.elements&&t(this.elementsRules,e.elements,i,n),e.attributes&&t(this.attributesRules,e.attributes,i,n),e.text&&this.textRules.add(e.text,i,n),e.comment&&this.commentRules.add(e.comment,i,n),e.root&&this.rootRules.add(e.root,i,n)},applyTo:function(e){e.filter(this)},onElementName:function(e,t){return this.elementNameRules.execOnName(e,t)},onAttributeName:function(e,t){return this.attributeNameRules.execOnName(e,t)},onText:function(e,t,n){return this.textRules.exec(e,t,n)},onComment:function(e,t,n){return this.commentRules.exec(e,t,n)},onRoot:function(e,t){return this.rootRules.exec(e,t)},onElement:function(e,t){for(var n,i=[this.elementsRules["^"],this.elementsRules[t.name],this.elementsRules.$],o=0;3>o;o++)if(n=i[o]){if(!1===(n=n.exec(e,t,this)))return null;if(n&&n!=t)return this.onNode(e,n);if(t.parent&&!t.name)break}return t},onNode:function(e,t){var n=t.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(e,t):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(e,t.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(e,t.value)):null},onAttribute:function(e,t,n,i){return(n=this.attributesRules[n])?n.exec(e,i,t,this):i}}}),CKEDITOR.htmlParser.filterRulesGroup=e,e.prototype={add:function(e,t,n){this.rules.splice(this.findIndex(t),0,{value:e,priority:t,options:n})},addMany:function(e,t,n){for(var i=[this.findIndex(t),0],o=0,r=e.length;o<r;o++)i.push({value:e[o],priority:t,options:n});this.rules.splice.apply(this.rules,i)},findIndex:function(e){for(var t=this.rules,n=t.length-1;0<=n&&e<t[n].priority;)n--;return n+1},exec:function(e,t){var n,i,o,r,a=t instanceof CKEDITOR.htmlParser.node||t instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,c=l.length;for(r=0;r<c;r++)if(a&&(n=t.type,i=t.name),o=l[r],!(e.nonEditable&&!o.options.applyToAll||e.nestedEditable&&o.options.excludeNestedEditable)){if(!1===(o=o.value.apply(null,s))||a&&o&&(o.name!=i||o.type!=n))return o;null!=o&&(s[0]=t=o)}return t},execOnName:function(e,t){for(var n,i=0,o=this.rules,r=o.length;t&&i<r;i++)n=o[i],e.nonEditable&&!n.options.applyToAll||e.nestedEditable&&n.options.excludeNestedEditable||(t=t.replace(n.value[0],n.value[1]));return t}}}(),function(){function e(e,t){function s(e){return e||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("Â "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(e,t){return function(o){if(o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var a,l,u=[],d=n(o);if(d)for(c(d,1)&&u.push(d);d;)r(d)&&(a=i(d))&&c(a)&&((l=i(a))&&!r(l)?u.push(a):(s(f).insertAfter(a),a.remove())),d=d.previous;for(d=0;d<u.length;d++)u[d].remove();(u=!e||!1!==("function"==typeof t?t(o):t))&&((f||CKEDITOR.env.needsBrFiller||o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(f||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||o.name in CKEDITOR.dtd.tr||o.name in CKEDITOR.dtd.$listItem))?u=!(u=n(o))||"form"==o.name&&"input"==u.name:u=!1),u&&o.add(s(e))}}}function c(e,t){return!(f&&!CKEDITOR.env.needsBrFiller||e.type!=CKEDITOR.NODE_ELEMENT||"br"!=e.name||e.attributes["data-cke-eol"])||!!(e.type==CKEDITOR.NODE_TEXT&&(n=e.value.match(m))&&(n.index&&(new CKEDITOR.htmlParser.text(e.value.substring(0,n.index)).insertBefore(e),e.value=n[0]),!CKEDITOR.env.needsBrFiller&&f&&(!t||e.parent.name in h)||!f&&((n=e.previous)&&"br"==n.name||!n||r(n))));var n}var u,d={elements:{}},f="html"==t,h=CKEDITOR.tools.extend({},T);for(u in h)"#"in E[u]||delete h[u];for(u in h)d.elements[u]=l(f,e.config.fillEmptyBlocks);return d.root=l(f,!1),d.elements.br=function(e){return function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=t.attributes;if("data-cke-bogus"in n||"data-cke-eol"in n)delete n["data-cke-bogus"];else{for(n=t.next;n&&o(n);)n=n.next;var l=i(t);!n&&r(t.parent)?a(t.parent,s(e)):r(n)&&l&&!r(l)&&s(e).insertBefore(n)}}}}(f),d}function t(e,t){return e!=CKEDITOR.ENTER_BR&&!1!==t&&(e==CKEDITOR.ENTER_DIV?"div":"p")}function n(e){for(e=e.children[e.children.length-1];e&&o(e);)e=e.previous;return e}function i(e){for(e=e.previous;e&&o(e);)e=e.previous;return e}function o(e){return e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(e.value)||e.type==CKEDITOR.NODE_ELEMENT&&e.attributes["data-cke-bookmark"]}function r(e){return e&&(e.type==CKEDITOR.NODE_ELEMENT&&e.name in T||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function a(e,t){var n=e.children[e.children.length-1];e.children.push(t),t.parent=e,n&&(n.next=t,t.previous=n)}function s(e){"false"!=(e=e.attributes).contenteditable&&(e["data-cke-editable"]=e.contenteditable?"true":1),e.contenteditable="false"}function l(e){switch((e=e.attributes)["data-cke-editable"]){case"true":e.contenteditable="true";break;case"1":delete e.contenteditable}}function c(e,t){return e.replace(t,(function(e,t,n){return 0===e.indexOf("<textarea")&&(e=t+h(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(e)+"</cke:encoded>"}))}function u(e){return e.replace(w,(function(e,t){return decodeURIComponent(t)}))}function d(e){return CKEDITOR.tools.array.reduce(e.split(""),(function(e,t){var n=t.toLowerCase(),i=t.toUpperCase(),o=f(n);return n!==i&&(o+="|"+f(i)),e+"("+o+")"}),"")}function f(e){var t,n=(t=e.charCodeAt(0)).toString(16);for(var i in t={htmlCode:"&#"+t+";?",hex:"&#x0*"+n+";?",entity:{"<":"&lt;",">":"&gt;",":":"&colon;"}[e]})t[i]&&(e+="|"+t[i]);return e}function h(e){return e.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,(function(e,t){return decodeURIComponent(t)}))}function p(e,t){var n=t._.dataStore;return e.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,(function(e,t){return decodeURIComponent(t)})).replace(/\{cke_protected_(\d+)\}/g,(function(e,t){return n&&n[t]||""}))}CKEDITOR.htmlDataProcessor=function(n){var i,o,r=this;this.editor=n,this.dataFilter=i=new CKEDITOR.htmlParser.filter,this.htmlFilter=o=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,i.addRules(b),i.addRules(C,{applyToAll:!0}),i.addRules(e(n,"data"),{applyToAll:!0}),o.addRules(y),o.addRules(I,{applyToAll:!0}),o.addRules(e(n,"html"),{applyToAll:!0}),n.on("toHtml",(function(e){var i,o,r=function(e,t){var n=[],i=t.config.protectedSource,o=t._.dataStore||(t._.dataStore={id:1}),r=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;i=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(i),e=e.replace(/\x3c!--[\s\S]*?--\x3e/g,(function(e){return"\x3c!--{cke_tempcomment}"+(n.push(e)-1)+"--\x3e"}));for(var a=0;a<i.length;a++)e=e.replace(i[a],(function(e){return e=e.replace(r,(function(e,t,i){return n[i]})),/cke_temp(comment)?/.test(e)?e:"\x3c!--{cke_temp}"+(n.push(e)-1)+"--\x3e"}));return(e=(e=e.replace(r,(function(e,t,i){return"\x3c!--"+g+(t?"{C}":"")+encodeURIComponent(n[i]).replace(/--/g,"%2D%2D")+"--\x3e"}))).replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,(function(e){return e.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,(function(e,t){return o[o.id]=decodeURIComponent(t),"{cke_protected_"+o.id+++"}"}))}))).replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,(function(e,n,i,o){return"<"+n+i+">"+p(h(o),t)+"</"+n+">"}))}(r=(r=(e=e.data).dataValue).replace(K,""),n);r=c(r,k),r=(r=(r=(r=(r=c(r=function(e){return e.replace(O,(function(e,t,n){return"<"+t+n.replace(D,(function(e,t){return R.test(t)&&-1==n.indexOf("data-cke-saved-"+t)?" data-cke-saved-"+e+" data-cke-"+CKEDITOR.rnd+"-"+e:e}))+">"}))}(r),_)).replace(x,"$1cke:$2")).replace(N,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");i=e.context||n.editable().getName(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==i&&(i="div",r="<pre>"+r+"</pre>",o=1),(i=n.document.createElement(i)).setHtml("a"+r),r=(r=i.getHtml().substr(1)).replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),o&&(r=r.replace(/^<pre>|<\/pre>$/gi,"")),r=h(r=u(r=r.replace(S,"$1$2"))),i=!1!==e.fixForBody&&t(e.enterMode,n.config.autoParagraph),r=CKEDITOR.htmlParser.fragment.fromHtml(r,e.context,i),i&&(!(o=r).children.length&&CKEDITOR.dtd[o.name][i]&&(i=new CKEDITOR.htmlParser.element(i),o.add(i))),e.dataValue=r}),null,null,5),n.on("toHtml",(function(e){e.data.filter.applyTo(e.data.dataValue,!0,e.data.dontFilter,e.data.enterMode)&&n.fire("dataFiltered")}),null,null,6),n.on("toHtml",(function(e){e.data.dataValue.filterChildren(r.dataFilter,!0)}),null,null,10),n.on("toHtml",(function(e){var t=(e=e.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;t.writeChildrenHtml(n),t=n.getHtml(!0),e.dataValue=function(e){return e.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,(function(e){return"\x3c!--"+g+"{C}"+encodeURIComponent(e).replace(/--/g,"%2D%2D")+"--\x3e"}))}(t)}),null,null,15),n.on("toDataFormat",(function(e){var i=e.data.dataValue;e.data.enterMode!=CKEDITOR.ENTER_BR&&(i=i.replace(/^<br *\/?>/i,"")),e.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(i,e.data.context,t(e.data.enterMode,n.config.autoParagraph))}),null,null,5),n.on("toDataFormat",(function(e){e.data.dataValue.filterChildren(r.htmlFilter,!0)}),null,null,10),n.on("toDataFormat",(function(e){e.data.filter.applyTo(e.data.dataValue,!1,!0)}),null,null,11),n.on("toDataFormat",(function(e){var t=e.data.dataValue,i=r.writer;i.reset(),t.writeChildrenHtml(i),t=p(t=h(t=i.getHtml(!0)),n),e.data.dataValue=t}),null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(e,t,n,i){var o,r,a,s,l=this.editor;return t&&"object"==typeof t?(o=t.context,n=t.fixForBody,i=t.dontFilter,r=t.filter,a=t.enterMode,s=t.protectedWhitespaces):o=t,o||null===o||(o=l.editable().getName()),l.fire("toHtml",{dataValue:e,context:o,fixForBody:n,dontFilter:i,filter:r||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(e,t){var n,i,o;return t&&(n=t.context,i=t.filter,o=t.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:e,filter:i||this.editor.filter,context:n,enterMode:o||this.editor.enterMode}).dataValue}};var m=/(?:&nbsp;|\xa0)$/,g="{cke_protected}",E=CKEDITOR.dtd,v="caption colgroup col thead tfoot tbody".split(" "),T=CKEDITOR.tools.extend({},E.$blockLimit,E.$block),b={elements:{input:s,textarea:s}},C={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(e){if(e.attributes&&e.attributes.src){var t=e.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==t.indexOf("javascript")&&0!==t.indexOf("data")||(e.attributes["data-cke-pa-src"]=e.attributes.src,delete e.attributes.src)}}}},y={elements:{embed:function(e){if((n=e.parent)&&"object"==n.name){var t=n.attributes.width,n=n.attributes.height;t&&(e.attributes.width=t),n&&(e.attributes.height=n)}},a:function(e){var t=e.attributes;if(!(e.children.length||t.name||t.id||e.attributes["data-cke-saved-name"]))return!1}}},I={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(e){var t=e.attributes;if(t){if(t["data-cke-temp"])return!1;for(var n=["name","href","src"],i=0;i<n.length;i++)"data-cke-saved-"+n[i]in t&&delete t[n[i]]}return e},table:function(e){e.children.slice(0).sort((function(e,t){var n,i;return e.type==CKEDITOR.NODE_ELEMENT&&t.type==e.type&&(n=CKEDITOR.tools.indexOf(v,e.name),i=CKEDITOR.tools.indexOf(v,t.name)),-1<n&&-1<i&&n!=i||(n=e.parent?e.getIndex():-1,i=t.parent?t.getIndex():-1),n>i?1:-1}))},param:function(e){return e.children=[],e.isEmpty=!0,e},span:function(e){"Apple-style-span"==e.attributes.class&&delete e.name},html:function(e){delete e.attributes.contenteditable,delete e.attributes.class},body:function(e){delete e.attributes.spellcheck,delete e.attributes.contenteditable},style:function(e){var t=e.children[0];t&&t.value&&(t.value=CKEDITOR.tools.trim(t.value)),e.attributes.type||(e.attributes.type="text/css")},title:function(e){var t=e.children[0];!t&&a(e,t=new CKEDITOR.htmlParser.text),t.value=e.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{class:function(e){return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(I.attributes.style=function(e){return e.replace(/(^|;)([^\:]+)/g,(function(e){return e.toLowerCase()}))});var O=/<(a|area|img|input|source)\b([^>]*)>/gi,D=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,R=/^(href|src|name)$/i,_=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,k=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,w=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,K=new RegExp("("+d("<cke:encoded>")+"(.*?)"+d("</cke:encoded>")+")|("+d("<")+d("/")+"?"+d("cke:encoded>")+")","gi"),x=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,S=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,N=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(e,t){this.name=e,this.attributes=t||{},this.children=[];var n=e||"",i=n.match(/^cke:(.*)/);i&&(n=i[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[e],this.isUnknown=!CKEDITOR.dtd[e],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(e){var t={};return((e instanceof CKEDITOR.htmlParser.element?e.attributes.style:e)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,(function(e,n,i){"font-family"==n&&(i=i.replace(/["']/g,"")),t[n.toLowerCase()]=i})),{rules:t,populate:function(e){var t=this.toString();t&&(e instanceof CKEDITOR.dom.element?e.setAttribute("style",t):e instanceof CKEDITOR.htmlParser.element?e.attributes.style=t:e.style=t)},toString:function(){var e,n=[];for(e in t)t[e]&&n.push(e,":",t[e],";");return n.join("")}}},function(){var e=function(e,t){return(e=e[0])<(t=t[0])?-1:e>t?1:0},t=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:t.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(e,t){var n,i,o,r,a=this;for(t=a.getFilterContext(t),a.parent||e.onRoot(t,a);;){if(n=a.name,!(i=e.onElementName(t,n)))return this.remove(),!1;if(a.name=i,!(a=e.onElement(t,a)))return this.remove(),!1;if(a!==this)return this.replaceWith(a),!1;if(a.name==n)break;if(a.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(a),!1;if(!a.name)return this.replaceWithChildren(),!1}for(o in n=a.attributes){for(i=n[o];;){if(!(r=e.onAttributeName(t,o))){delete n[o];break}if(r==o)break;delete n[o],o=r}r&&(!1===(i=e.onAttribute(t,a,r,i))?delete n[r]:n[r]=i)}return a.isEmpty||this.filterChildren(e,!1,t),!0},filterChildren:t.filterChildren,writeHtml:function(t,n){n&&this.filter(n);var i,o,r=this.name,a=[],s=this.attributes;for(i in t.openTag(r,s),s)a.push([i,s[i]]);for(t.sortAttributes&&a.sort(e),i=0,o=a.length;i<o;i++)s=a[i],t.attribute(s[0],s[1]);t.openTagClose(r,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(r)},writeChildrenHtml:t.writeChildrenHtml,replaceWithChildren:function(){for(var e=this.children,t=e.length;t;)e[--t].insertAfter(this);this.remove()},forEach:t.forEach,getFirst:function(e){if(!e)return this.children.length?this.children[0]:null;"function"!=typeof e&&(e=function(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}(e));for(var t=0,n=this.children.length;t<n;++t)if(e(this.children[t]))return this.children[t];return null},getHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(e),e.getHtml()},setHtml:function(e){for(var t=0,n=(e=this.children=CKEDITOR.htmlParser.fragment.fromHtml(e).children).length;t<n;++t)e[t].parent=this},getOuterHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(e),e.getHtml()},split:function(e){for(var t=this.children.splice(e,this.children.length-e),n=this.clone(),i=0;i<t.length;++i)t[i].parent=n;return n.children=t,t[0]&&(t[0].previous=null),0<e&&(this.children[e-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(e,t){void 0===t&&(t=!1);var n,i=[];for(n=0;n<this.children.length;n++){var o=this.children[n];"function"==typeof e&&e(o)?i.push(o):"string"==typeof e&&o.name===e&&i.push(o),t&&o.find&&(i=i.concat(o.find(e,t)))}return i},findOne:function(e,t){var n=null,i=CKEDITOR.tools.array.find(this.children,(function(i){var o="function"==typeof e?e(i):i.name===e;return o||!t?o:(i.children&&i.findOne&&(n=i.findOne(e,!0)),!!n)}));return n||i||null},addClass:function(e){if(!this.hasClass(e)){var t=this.attributes.class||"";this.attributes.class=t+(t?" ":"")+e}},removeClass:function(e){var t=this.attributes.class;t&&((t=CKEDITOR.tools.trim(t.replace(new RegExp("(?:\\s+|^)"+e+"(?:\\s+|$)")," ")))?this.attributes.class=t:delete this.attributes.class)},hasClass:function(e){var t=this.attributes.class;return!!t&&new RegExp("(?:^|\\s)"+e+"(?=\\s|$)").test(t)},getFilterContext:function(e){var t=[];if(e||(e={nonEditable:!1,nestedEditable:!1}),e.nonEditable||"false"!=this.attributes.contenteditable?e.nonEditable&&!e.nestedEditable&&"true"==this.attributes.contenteditable&&t.push("nestedEditable",!0):t.push("nonEditable",!0),t.length){e=CKEDITOR.tools.copy(e);for(var n=0;n<t.length;n+=2)e[t[n]]=t[n+1]}return e}},!0)}(),function(){var e=/{([^}]+)}/g;CKEDITOR.template=function(e){this.source="function"==typeof e?e:String(e)},CKEDITOR.template.prototype.output=function(t,n){var i=("function"==typeof this.source?this.source(t):this.source).replace(e,(function(e,n){return void 0!==t[n]?t[n]:e}));return n?n.push(i):i}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(e){function t(){CKEDITOR.currentInstance==e&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}CKEDITOR.instances[e.name]=e,e.on("focus",(function(){CKEDITOR.currentInstance!=e&&(CKEDITOR.currentInstance=e,CKEDITOR.fire("currentInstance"))})),e.on("blur",t),e.on("destroy",t),CKEDITOR.fire("instance",null,e)},CKEDITOR.remove=function(e){delete CKEDITOR.instances[e.name]},function(){var e={};CKEDITOR.addTemplate=function(t,n){var i=e[t];return i||(i={name:t,source:n},CKEDITOR.fire("template",i),e[t]=new CKEDITOR.template(i.source))},CKEDITOR.getTemplate=function(t){return e[t]}}(),function(){var e=[];CKEDITOR.addCss=function(t){e.push(t)},CKEDITOR.getCss=function(){return e.join("\n")}}(),CKEDITOR.on("instanceDestroyed",(function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")})),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(e,t){if(!(e=CKEDITOR.editor._getEditorElement(e)))return null;var n=new CKEDITOR.editor(t,e,CKEDITOR.ELEMENT_MODE_INLINE),i=e.is("textarea")?e:null;return i?(n.setData(i.getValue(),null,!0),(e=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+i.getValue()+"</div>",CKEDITOR.document)).insertAfter(i),i.hide(),i.$.form&&n._attachToForm()):n.setData(e.getHtml(),null,!0),n.on("loaded",(function(){n.fire("uiReady"),n.editable(e),n.container=e,n.ui.contentsElement=e,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)}),null,null,1e4),n.on("destroy",(function(){var e=n.container;i&&e&&(e.clearCustomData(),e.remove()),i&&i.show(),n.element.clearCustomData(),delete n.element})),n},CKEDITOR.inlineAll=function(){var e,t,n;for(n in CKEDITOR.dtd.$editable)for(var i=CKEDITOR.document.getElementsByTag(n),o=0,r=i.count();o<r;o++)"true"==(e=i.getItem(o)).getAttribute("contenteditable")&&(t={element:e,config:{}},!1!==CKEDITOR.fire("inline",t)&&CKEDITOR.inline(e,t.config))},CKEDITOR.domReady((function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})),CKEDITOR.replaceClass="ckeditor",function(){function e(e,n,i,o){if(!(e=CKEDITOR.editor._getEditorElement(e)))return null;var r=new CKEDITOR.editor(n,e,o);return o==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.setStyle("visibility","hidden"),r._.required=e.hasAttribute("required"),e.removeAttribute("required")),i&&r.setData(i,null,!0),r.on("loaded",(function(){r.isDestroyed()||r.isDetached()||(function(e){var t=e.name,n=e.element,i=e.elementMode,o=e.fire("uiSpace",{space:"top",html:""}).html,r=e.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');t=CKEDITOR.dom.element.createFromHtml(a.output({id:e.id,name:t,langDir:e.lang.dir,langCode:e.langCode,voiceLabel:e.title,topHtml:o?'<span id="'+e.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:e.ui.spaceId("contents"),bottomHtml:r?'<span id="'+e.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+r+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));i==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),t.insertAfter(n)):n.append(t),e.container=t,e.ui.contentsElement=e.ui.space("contents"),o&&e.ui.space("top").unselectable(),r&&e.ui.space("bottom").unselectable(),n=e.config.width,i=e.config.height,n&&t.setStyle("width",CKEDITOR.tools.cssLength(n)),i&&e.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(i)),t.disableContextMenu(),CKEDITOR.env.webkit&&t.on("focus",(function(){e.focus()})),e.fireOnce("uiReady")}(r),o==CKEDITOR.ELEMENT_MODE_REPLACE&&r.config.autoUpdateElement&&e.$.form&&r._attachToForm(),r.setMode(r.config.startupMode,(function(){r.resetDirty(),r.status="ready",r.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,r)})))})),r.on("destroy",t),r}function t(){var e=this.container,t=this.element;e&&(e.clearCustomData(),e.remove()),t&&(t.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.show(),this._.required&&t.setAttribute("required","required")),delete this.element)}CKEDITOR.replace=function(t,n){return e(t,n,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,n,i){return e(t,n,i,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++){var n=null,i=e[t];if(i.name||i.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(i.className))continue}else if("function"==typeof arguments[0]&&(n={},!1===arguments[0](i,n)))continue;this.replace(i,n)}}},CKEDITOR.editor.prototype.addMode=function(e,t){(this._.modes||(this._.modes={}))[e]=t},CKEDITOR.editor.prototype.setMode=function(e,t){var n=this,i=this._.modes;if(e!=n.mode&&i&&i[e]){if(n.fire("beforeSetMode",e),n.mode){var o,r=n.checkDirty(),a=(i=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=o=n.getData(1),"source"==n.mode&&i==o&&(n.fire("lockSnapshot",{forceUpdate:!0}),a=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[e]((function(){n.mode=e,void 0!==r&&!r&&n.resetDirty(),a?n.fire("unlockSnapshot"):"wysiwyg"==e&&n.fire("saveSnapshot"),setTimeout((function(){n.isDestroyed()||n.isDetached()||(n.fire("mode"),t&&t.call(n))}),0)}))}},CKEDITOR.editor.prototype.resize=function(e,t,n,i){var o=this.container,r=this.ui.space("contents"),a=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;(i=i?this.container.getFirst((function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")})):o).setSize("width",e,!0),a&&(a.style.width="1%");var s=(i.$.offsetHeight||0)-(r.$.clientHeight||0);o=Math.max(t-(n?0:s),0);t=n?t+s:t,r.setStyle("height",o+"px"),a&&(a.style.width="100%"),this.fire("resize",{outerHeight:t,contentsHeight:o,outerWidth:e||i.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(e){return e?this.ui.space("contents"):this.container},CKEDITOR.domReady((function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)}))}(),CKEDITOR.config.startupMode="wysiwyg",function(){function e(e){var t,i=e.editor,o=e.data.path,a=o.blockLimit,s=e.data.selection,l=s.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(s=function(e,t){if(e.isFake)return 0;var i=t.block||t.blockLimit,o=i&&i.getLast(n);if(!(!i||!i.isBlockBoundary()||o&&o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()||i.is("pre")||i.getBogus()))return i}(s,o))&&(s.appendBogus(),t=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&i._.previousActive),r(i,o.block,a)&&l.collapsed&&!l.getCommonAncestor().isReadOnly()&&((o=l.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(a=new CKEDITOR.dom.walker(o)).guard=function(e){return!n(e)||e.type==CKEDITOR.NODE_COMMENT||e.isReadOnly()},!a.checkForward()||o.checkStartOfBlock()&&o.checkEndOfBlock())&&(i=l.fixBlock(!0,i.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(i=i.getFirst(n))&&i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText()).match(/^(?:&nbsp;|\xa0)$/)&&i.remove(),t=1,e.cancel()),t&&l.select()}function t(e){var t=e.data.getTarget();t.is("input")&&("submit"!=(t=t.getAttribute("type"))&&"reset"!=t||e.data.preventDefault())}function n(e){return u(e)&&d(e)}function i(e,t){return function(n){var i=n.data.$.toElement||n.data.$.fromElement||n.data.$.relatedTarget;(i=i&&i.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(i):null)&&(t.equals(i)||t.contains(i))||e.call(this,n)}}function o(e){function t(e){return function(t,o){if(o&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(r)&&(i=t),!(o||!n(t)||e&&h(t)))return!1}}var i,o=e.getRanges()[0];e=e.root;var r={table:1,ul:1,ol:1,dl:1};if(o.startPath().contains(r)){var a=o.clone();if(a.collapse(1),a.setStartAt(e,CKEDITOR.POSITION_AFTER_START),(e=new CKEDITOR.dom.walker(a)).guard=t(),e.checkBackward(),i)return(a=o.clone()).collapse(),a.setEndAt(i,CKEDITOR.POSITION_AFTER_END),(e=new CKEDITOR.dom.walker(a)).guard=t(!0),i=!1,e.checkForward(),i}return null}function r(e,t,n){return!1!==e.config.autoParagraph&&e.activeEnterMode!=CKEDITOR.ENTER_BR&&(e.editable().equals(n)&&!t||t&&"true"==t.getAttribute("contenteditable"))}function a(e){return e.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==e.config.autoParagraph&&(e.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function s(e){e&&e.isEmptyInlineRemoveable()&&e.remove()}function l(e){var t=e.editor;t.getSelection().scrollIntoView(),setTimeout((function(){t.fire("saveSnapshot")}),0)}function c(e,t,n){var i=e.getCommonAncestor(t);for(t=e=n?t:e;(e=e.getParent())&&!i.equals(e)&&1==e.getChildCount();)t=e;t.remove()}var u,d,f,h,p,m,g,E,v,T;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(e,t){this.base(t.$||t),this.editor=e,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var e;if(CKEDITOR.env.webkit&&!this.hasFocus&&(e=this.editor._.previousActive||this.getDocument().getActive(),this.contains(e)))e.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var t=this.$.scrollTop;this.$.focus(),this.$.scrollTop=t}else this.$.focus();else this.$.setActive()}catch(e){if(!CKEDITOR.env.ie)throw e}CKEDITOR.env.safari&&!this.isInline()&&((e=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(e,t){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(e)&&(e="focus"==e?"focusin":"focusout",t=i(t,this),n[0]=e,n[1]=t),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(e){!this._.listeners&&(this._.listeners=[]);var t=Array.prototype.slice.call(arguments,1);t=e.on.apply(e,t);return this._.listeners.push(t),t},clearListeners:function(){var e=this._.listeners;try{for(;e.length;)e.pop().removeListener()}catch(e){}},restoreAttrs:function(){var e,t,n=this._.attrChanges;for(t in n)n.hasOwnProperty(t)&&(null!==(e=n[t])?this.setAttribute(t,e):this.removeAttribute(t))},attachClass:function(e){var t=this.getCustomData("classes");this.hasClass(e)||(!t&&(t=[]),t.push(e),this.setCustomData("classes",t),this.addClass(e))},changeAttr:function(e,t){var n=this.getAttribute(e);t!==n&&(!this._.attrChanges&&(this._.attrChanges={}),e in this._.attrChanges||(this._.attrChanges[e]=n),this.setAttribute(e,t))},insertText:function(e){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(e),"text")},transformPlainTextToHtml:function(e){var t=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(e,t)},insertHtml:function(e,t,n){var i=this.editor;i.focus(),i.fire("saveSnapshot"),n||(n=i.getSelection().getRanges()[0]),m(this,t||"html",e,n),n.select(),l(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(e,t,n){m(this,n||"html",e,t),this.editor.fire("afterInsertHtml",{intoRange:t})},insertElement:function(e,t){(o=this.editor).focus(),o.fire("saveSnapshot");var i=o.activeEnterMode,o=o.getSelection(),r=e.getName();r=CKEDITOR.dtd.$block[r];t||(t=o.getRanges()[0]),this.insertElementIntoRange(e,t)&&(t.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),r&&((r=e.getNext((function(e){return n(e)&&!h(e)})))&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$block)?r.getDtd()["#"]?t.moveToElementEditStart(r):t.moveToElementEditEnd(e):r||i==CKEDITOR.ENTER_BR||(r=t.fixBlock(!0,i==CKEDITOR.ENTER_DIV?"div":"p"),t.moveToElementEditStart(r)))),o.selectRanges([t]),l(this)},insertElementIntoSelection:function(e){this.insertElement(e)},insertElementIntoRange:function(e,t){var n,i,o=this.editor,r=o.config.enterMode,a=e.getName(),l=CKEDITOR.dtd.$block[a];if(t.checkReadOnly())return!1;if(t.deleteContents(1),t.startContainer.type==CKEDITOR.NODE_ELEMENT&&(t.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?g(t):t.startContainer.is(CKEDITOR.dtd.$list)&&E(t)),l)for(;(n=t.getCommonAncestor(0,1))&&(i=CKEDITOR.dtd[n.getName()])&&(!i||!i[a]);)if(n.getName()in CKEDITOR.dtd.span){l=t.splitElement(n);var c=t.createBookmark();s(n),s(l),t.moveToBookmark(c)}else t.checkStartOfBlock()&&t.checkEndOfBlock()?(t.setStartBefore(n),t.collapse(!0),n.remove()):t.splitBlock(r==CKEDITOR.ENTER_DIV?"div":"p",o.editable());return t.insertNode(e),!0},setData:function(e,t){t||(e=this.editor.dataProcessor.toHtml(e)),this.setHtml(e),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(e){var t=this.getHtml();return e||(t=this.editor.dataProcessor.toDataFormat(t)),t},setReadOnly:function(e){this.setAttribute("contenteditable",!e)},detach:function(){this.status="detached",this.editor.setData(this.editor.getData(),{internal:!0}),this.clearListeners();try{this._.cleanCustomData()}catch(e){if(!CKEDITOR.env.ie||-2146828218!==e.number)throw e}this.editor.fire("contentDomUnload"),delete this.editor.document,delete this.editor.window,delete this.editor},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function e(){var e,n=t.getDocument().$,i=n.getSelection();e:if(i.anchorNode&&i.anchorNode==t.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=t.getDocument().getActive())&&e.equals(t)&&!i.anchorNode){e=!0;break e}e=void 0}e&&((e=new CKEDITOR.dom.range(t)).moveToElementEditStart(t),(n=n.createRange()).setStart(e.startContainer.$,e.startOffset),n.collapse(!0),i.removeAllRanges(),i.addRange(n))}var t=this;CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),function(){var e=t.getDocument().$,n=e.selection,i=t.getDocument().getActive();"None"==n.type&&i.equals(t)&&(n=new CKEDITOR.dom.range(t),e=e.body.createTextRange(),n.moveToElementEditStart(t),(n=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(n=n.getParent()),e.moveToElementText(n.$),e.collapse(!0),e.select())}()):this.hasFocus?(this.focus(),e()):this.once("focus",(function(){e()}),null,null,-999)},getHtmlFromRange:function(e){return e.collapsed?new CKEDITOR.dom.documentFragment(e.document):(e={doc:this.getDocument(),range:e.clone()},v.eol.detect(e,this),v.bogus.exclude(e),v.cell.shrink(e),e.fragment=e.range.cloneContents(),v.tree.rebuild(e,this),v.eol.fix(e,this),new CKEDITOR.dom.documentFragment(e.fragment.$))},extractHtmlFromRange:function(e,t){var n=T,i={range:e,doc:e.document},o=this.getHtmlFromRange(e);if(e.collapsed)return e.optimize(),o;if(e.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(i),i.bookmark=e.createBookmark(),delete i.range,(a=this.editor.createRange()).moveToPosition(i.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),i.targetBookmark=a.createBookmark(),n.list.detectMerge(i,this),n.table.detectRanges(i,this),n.block.detectMerge(i,this),i.tableContentsRanges?(n.table.deleteRanges(i),e.moveToBookmark(i.bookmark),i.range=e):(e.moveToBookmark(i.bookmark),i.range=e,e.extractContents(n.detectExtractMerge(i))),e.moveToBookmark(i.targetBookmark),e.optimize(),n.fixUneditableRangePosition(e),n.list.merge(i,this),n.table.purge(i,this),n.block.merge(i,this),t){if(n=e.startPath(),i=e.checkStartOfBlock()&&e.checkEndOfBlock()&&n.block&&!e.root.equals(n.block)){e:{var r,a=0;if(i=n.block.getElementsByTag("span"))for(;r=i.getItem(a++);)if(!d(r)){i=!0;break e}i=!1}i=!i}i&&(e.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,e),f(e.startContainer)&&e.startContainer.appendBogus();return e.startContainer.mergeSiblings(),o},setup:function(){var e=this.editor;if(this.attachListener(e,"beforeGetData",(function(){var t=this.getData();this.is("textarea")||!1!==e.config.ignoreEmptyParagraph&&(t=t.replace(p,(function(e,t){return t}))),e.setData(t,null,1)}),this),this.attachListener(e,"getSnapshot",(function(e){e.data=this.getData(1)}),this),this.attachListener(e,"afterSetData",(function(){this.setData(e.getData(1))}),this),this.attachListener(e,"loadSnapshot",(function(e){this.setData(e.data,1)}),this),this.attachListener(e,"beforeFocus",(function(){var t=e.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()}),this),this.attachListener(e,"insertHtml",(function(e){this.insertHtml(e.data.dataValue,e.data.mode,e.data.range)}),this),this.attachListener(e,"insertElement",(function(e){this.insertElement(e.data)}),this),this.attachListener(e,"insertText",(function(e){this.insertText(e.data)}),this),this.setReadOnly(e.readOnly),this.attachClass("cke_editable"),e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):e.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&e.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+e.config.contentsLangDirection),e.keystrokeHandler.blockedKeystrokes[8]=+e.readOnly,e.keystrokeHandler.attach(this),this.on("blur",(function(){this.hasFocus=!1}),null,null,-1),this.on("focus",(function(){this.hasFocus=!0}),null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",(function(){e._.previousScrollTop=e.editable().$.scrollTop}),null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var i=function(){var t=e.editable();null!=e._.previousScrollTop&&t.getDocument().equals(CKEDITOR.document)&&(t.$.scrollTop=e._.previousScrollTop,e._.previousScrollTop=null,this.removeListener("scroll",i))};this.on("scroll",i)}if(e.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,e.once("contentDom",(function(){e.focusManager.focus(this)}),this)),this.isInline()&&this.changeAttr("tabindex",e.tabIndex),!this.is("textarea")){e.document=this.getDocument(),e.window=this.getWindow();var r=e.document;this.changeAttr("spellcheck",!e.config.disableNativeSpellChecker);var a=e.config.contentsLangDirection;this.getDirection(1)!=a&&this.changeAttr("dir",a);var s=CKEDITOR.getCss();if(s){var l=(a=r.getHead()).getCustomData("stylesheet");l?s!=l.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?l.$.styleSheet.cssText=s:l.setText(s)):(s=r.appendStyleText(s),s=new CKEDITOR.dom.element(s.ownerNode||s.owningElement),a.setCustomData("stylesheet",s),s.data("cke-temp",1))}a=r.getCustomData("stylesheet_ref")||0,r.setCustomData("stylesheet_ref",a+1),this.setCustomData("cke_includeReadonly",!e.config.disableReadonlyStyling),this.attachListener(this,"click",(function(e){e=e.data;var t=new CKEDITOR.dom.elementPath(e.getTarget(),this).contains("a");t&&2!=e.$.button&&t.isReadOnly()&&e.preventDefault()}));var d={8:1,46:1};this.attachListener(e,"key",(function(t){if(e.readOnly)return!0;var n,i=t.data.domEvent.getKey();if(0!==(t=e.getSelection()).getRanges().length){if(i in d){var r,a,s,l,c=t.getRanges()[0],f=c.startPath();i=8==i;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(r=t.getSelectedElement())||(r=o(t))?(e.fire("saveSnapshot"),c.moveToPosition(r,CKEDITOR.POSITION_BEFORE_START),r.remove(),c.select(),e.fire("saveSnapshot"),n=1):c.collapsed&&((a=f.block)&&(l=a[i?"getPrevious":"getNext"](u))&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("table")&&c[i?"checkStartOfBlock":"checkEndOfBlock"]()?(e.fire("saveSnapshot"),c[i?"checkEndOfBlock":"checkStartOfBlock"]()&&a.remove(),c["moveToElementEdit"+(i?"End":"Start")](l),c.select(),e.fire("saveSnapshot"),n=1):f.blockLimit&&f.blockLimit.is("td")&&(s=f.blockLimit.getAscendant("table"))&&c.checkBoundaryOfElement(s,i?CKEDITOR.START:CKEDITOR.END)&&(l=s[i?"getPrevious":"getNext"](u))?(e.fire("saveSnapshot"),c["moveToElementEdit"+(i?"End":"Start")](l),c.checkStartOfBlock()&&c.checkEndOfBlock()?l.remove():c.select(),e.fire("saveSnapshot"),n=1):(s=f.contains(["td","th","caption"]))&&c.checkBoundaryOfElement(s,i?CKEDITOR.START:CKEDITOR.END)&&(n=1))}return!n}})),e.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",(function(t){t.data.getKeystroke()in d&&!this.getFirst(n)&&(this.appendBogus(),(t=e.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())})),this.attachListener(this,"dblclick",(function(t){if(e.readOnly)return!1;t={element:t.data.getTarget()},e.fire("doubleclick",t)})),CKEDITOR.env.ie&&this.attachListener(this,"click",t),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",(function(t){var n=t.data.getTarget();n.is("img","hr","input","textarea","select")&&!n.isReadOnly()&&(e.getSelection().selectElement(n),n.is("input","textarea","select")&&t.data.preventDefault())})),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",(function(t){(t=t.data.getTarget())&&t.is("img")&&!t.isReadOnly()&&e.getSelection().selectElement(t)})),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",(function(t){if(2==t.data.$.button&&(!(t=t.data.getTarget()).getAscendant("table")&&!t.getOuterHtml().replace(p,""))){var n=e.createRange();n.moveToElementEditStart(t),n.select(!0)}})),CKEDITOR.env.webkit&&(this.attachListener(this,"click",(function(e){e.data.getTarget().is("input","select")&&e.data.preventDefault()})),this.attachListener(this,"mouseup",(function(e){e.data.getTarget().is("input","textarea")&&e.data.preventDefault()}))),CKEDITOR.env.webkit&&this.attachListener(e,"key",(function(t){if(e.readOnly)return!0;if((n=t.data.domEvent.getKey())in d&&0!==(t=e.getSelection()).getRanges().length){var n=8==n,i=t.getRanges()[0];if(t=i.startPath(),i.collapsed)e:{var o=t.block;if(o&&i[n?"checkStartOfBlock":"checkEndOfBlock"]()&&i.moveToClosestEditablePosition(o,!n)&&i.collapsed){if(i.startContainer.type==CKEDITOR.NODE_ELEMENT){var r=i.startContainer.getChild(i.startOffset-(n?1:0));if(r&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("hr")){e.fire("saveSnapshot"),r.remove(),t=!0;break e}}var a;if(!(i=i.startPath().block)||i&&i.contains(o))t=void 0;else e.fire("saveSnapshot"),(a=(n?i:o).getBogus())&&a.remove(),r=(a=e.getSelection()).createBookmarks(),(n?o:i).moveChildren(n?i:o,!1),t.lastElement.mergeSiblings(),c(o,i,!n),a.selectBookmarks(r),t=!0}else t=!1}else n=i,a=t.block,i=n.endPath().block,a&&i&&!a.equals(i)?(e.fire("saveSnapshot"),(o=a.getBogus())&&o.remove(),n.enlarge(CKEDITOR.ENLARGE_INLINE),n.deleteContents(),i.getParent()&&(i.moveChildren(a,!1),t.lastElement.mergeSiblings(),c(a,i,!0)),(n=e.getSelection().getRanges()[0]).collapse(1),n.optimize(),""===n.startContainer.getHtml()&&n.startContainer.appendBogus(),n.select(),t=!0):t=!1;if(!t)return;return e.getSelection().scrollIntoView(),e.fire("saveSnapshot"),!1}}),this,null,100)}},getUniqueId:function(){var e;try{this._.expandoNumber=e=CKEDITOR.dom.domObject.prototype.getUniqueId.call(this)}catch(t){e=this._&&this._.expandoNumber}return e}},_:{cleanCustomData:function(){this.removeClass("cke_editable"),this.restoreAttrs();for(var e=this.removeCustomData("classes");e&&e.length;)this.removeClass(e.pop());if(!this.is("textarea")){var t=(e=this.getDocument()).getHead();if(t.getCustomData("stylesheet")){var n=e.getCustomData("stylesheet_ref");--n?e.setCustomData("stylesheet_ref",n):(e.removeCustomData("stylesheet_ref"),t.removeCustomData("stylesheet").remove())}}}}}),CKEDITOR.editor.prototype.editable=function(e){var t=this._.editable;return t&&e?0:arguments.length?(e?t=e instanceof CKEDITOR.editable?e:new CKEDITOR.editable(this,e):(t&&t.detach(),t=null),this._.editable=t):t},CKEDITOR.on("instanceLoaded",(function(t){var n=t.editor;n.on("insertElement",(function(e){(e=e.data).type==CKEDITOR.NODE_ELEMENT&&(e.is("input")||e.is("textarea"))&&("false"!=e.getAttribute("contentEditable")&&e.data("cke-editable",e.hasAttribute("contenteditable")?"true":"1"),e.setAttribute("contentEditable",!1))})),n.on("selectionChange",(function(t){if(!n.readOnly){var i=n.getSelection();i&&!i.isLocked&&(i=n.checkDirty(),n.fire("lockSnapshot"),e(t),n.fire("unlockSnapshot"),!i&&n.resetDirty())}}))})),CKEDITOR.on("instanceCreated",(function(e){var t=e.editor;t.on("mode",(function(){var e=t.editable();if(e&&e.isInline()){var n=t.title;if(e.changeAttr("role","textbox"),e.changeAttr("aria-multiline","true"),e.changeAttr("aria-label",n),n&&e.changeAttr("title",n),(o=t.fire("ariaEditorHelpLabel",{}).label)&&(n=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var i=CKEDITOR.tools.getNextId(),o=CKEDITOR.dom.element.createFromHtml('<span id="'+i+'" class="cke_voice_label">'+o+"</span>");n.append(o),e.changeAttr("aria-describedby",i)}}}))})),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),u=CKEDITOR.dom.walker.whitespaces(!0),d=CKEDITOR.dom.walker.bookmark(!1,!0),f=CKEDITOR.dom.walker.empty(),h=CKEDITOR.dom.walker.bogus(),p=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,m=function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT}function t(n,i){var o,r=[],a=n.getChildren(),s=a.count(),l=0,u=c[i],d=!n.is(c.$inline)||n.is("br");for(d&&r.push(" ");l<s;l++)e(o=a.getItem(l))&&!o.is(u)?r=r.concat(t(o,i)):r.push(o);return d&&r.push(" "),r}function i(t){return e(t.startContainer)&&t.startContainer.getChild(t.startOffset-1)}function o(t){return t&&e(t)&&(t.is(c.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function l(t,n,i,o){var r,a,s=t.clone();s.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(r=new CKEDITOR.dom.walker(s).next())&&e(r)&&u[r.getName()]&&(a=r.getPrevious())&&e(a)&&!a.getParent().equals(t.startContainer)&&i.contains(a)&&o.contains(r)&&r.isIdentical(a)&&(r.moveChildren(a),r.remove(),l(t,n,i,o))}var c=CKEDITOR.dtd,u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},d={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},f=CKEDITOR.tools.extend({},c.$inline);return delete f.br,function(u,h,p,m){var g=u.editor,E=!1;if("unfiltered_html"==h&&(h="html",E=!0),!m.checkReadOnly()){E=(h={type:h,dontFilter:E,editable:u,editor:g,range:m,blockLimit:D=new CKEDITOR.dom.elementPath(m.startContainer,m.root).blockLimit||m.root,mergeCandidates:[],zombies:[]}).range;var v,T,b,C,y,I,O,D=h.mergeCandidates,R="html"===h.type;if("text"==h.type&&E.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(T=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",E.document),E.insertNode(T),E.setStartAfter(T)),b=new CKEDITOR.dom.elementPath(E.startContainer),h.endPath=C=new CKEDITOR.dom.elementPath(E.endContainer),!E.collapsed){v=C.block||C.blockLimit;var _=E.getCommonAncestor();v&&!v.equals(_)&&!v.contains(_)&&E.checkEndOfBlock()&&h.zombies.push(v),E.deleteContents()}for(;(y=i(E))&&e(y)&&y.isBlockBoundary()&&b.contains(y);)E.moveToPosition(y,CKEDITOR.POSITION_BEFORE_END);for(l(E,h.blockLimit,b,C),T&&(E.setEndBefore(T),E.collapse(),T.remove()),(v=(T=E.startPath()).contains(o,!1,1))&&(I=E.splitElement(v),h.inlineStylesRoot=v,h.inlineStylesPeak=T.lastElement),T=E.createBookmark(),R&&(s(v),s(I)),(v=T.startNode.getPrevious(n))&&e(v)&&o(v)&&D.push(v),(v=T.startNode.getNext(n))&&e(v)&&o(v)&&D.push(v),v=T.startNode;(v=v.getParent())&&o(v);)D.push(v);if(E.moveToBookmark(T),g.enterMode===CKEDITOR.ENTER_DIV&&""===g.getData(!0)&&((g=u.getFirst())&&g.remove(),m.setStartAt(u,CKEDITOR.POSITION_AFTER_START),m.collapse(!0)),u=p){if(u=h.range,"text"==h.type&&h.inlineStylesRoot){for(g=(m=h.inlineStylesPeak).getDocument().createText("{cke-peak}"),I=h.inlineStylesRoot.getParent();!m.equals(I);)g=g.appendTo(m.clone()),m=m.getParent();p=g.getOuterHtml().split("{cke-peak}").join(p)}if(m=h.blockLimit.getName(),/^\s+|\s+$/.test(p)&&"span"in CKEDITOR.dtd[m])p=(S='<span data-cke-marker="1">&nbsp;</span>')+p+S;if(p=h.editor.dataProcessor.toHtml(p,{context:null,fixForBody:!1,protectedWhitespaces:!!S,dontFilter:h.dontFilter,filter:h.editor.activeFilter,enterMode:h.editor.activeEnterMode}),(m=u.document.createElement("body")).setHtml(p),S&&(m.getFirst().remove(),m.getLast().remove()),(S=u.startPath().block)&&(1!=S.getChildCount()||!S.getBogus()))e:{var k;if(1==m.getChildCount()&&e(k=m.getFirst())&&k.is(d)&&!k.hasAttribute("contenteditable")){for(u=0,I=(S=k.getElementsByTag("*")).count();u<I;u++)if(!(g=S.getItem(u)).is(f))break e;k.moveChildren(k.getParent(1)),k.remove()}}h.dataWrapper=m,u=p}if(u){u=(k=h.range).document,m=h.blockLimit,I=0;var w,K,x,S=[];p=T=0;var N,P;g=k.startContainer,E=(y=h.endPath.elements[0]).getPosition(g),D=!(!y.getCommonAncestor(g)||E==CKEDITOR.POSITION_IDENTICAL||E&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);for(function(t,n){function i(t,n){if(n.isBlock&&n.isElement&&!n.node.is("br")&&e(t)&&t.is("br"))return t.remove(),1}var o=n.endContainer.getChild(n.endOffset),r=n.endContainer.getChild(n.endOffset-1);o&&i(o,t[t.length-1]),r&&i(r,t[0])&&(n.setEnd(n.endContainer,n.endOffset-1),n.collapse())}(g=function t(n,i){var o,r,a,s,l=[],u=i.range.startContainer;o=i.range.startPath(),u=c[u.getName()];for(var d=0,f=n.getChildren(),h=f.count(),p=-1,m=-1,g=0,E=o.contains(c.$list);d<h;++d)e(o=f.getItem(d))?(a=o.getName(),E&&a in CKEDITOR.dtd.$list?l=l.concat(t(o,i)):(s=!!u[a],"br"!=a||!o.data("cke-eol")||d&&d!=h-1||(g=(r=d?l[d-1].node:f.getItem(d+1))&&(!e(r)||!r.is("br")),r=r&&e(r)&&c.$block[r.getName()]),-1!=p||s||(p=d),s||(m=d),l.push({isElement:1,isLineBreak:g,isBlock:o.isBlockBoundary(),hasBlockSibling:r,node:o,name:a,allowed:s}),r=g=0)):l.push({isElement:0,node:o,allowed:1});return-1<p&&(l[p].firstNotAllowed=1),-1<m&&(l[m].lastNotAllowed=1),l}(h.dataWrapper,h),k);I<g.length;I++)if((R=(E=g[I]).isLineBreak)&&(R=k,v=m,C=b=void 0,E.hasBlockSibling?R=1:(b=R.startContainer.getAscendant(c.$block,1))&&b.is({div:1,p:1})?(C=b.getPosition(v))==CKEDITOR.POSITION_IDENTICAL||C==CKEDITOR.POSITION_CONTAINS?R=0:(v=R.splitElement(b),R.moveToPosition(v,CKEDITOR.POSITION_AFTER_START),R=1):R=0),R)p=0<I;else{if(R=k.startPath(),!E.isBlock&&r(h.editor,R.block,R.blockLimit)&&(x=a(h.editor))&&((x=u.createElement(x)).appendBogus(),k.insertNode(x),CKEDITOR.env.needsBrFiller&&(w=x.getBogus())&&w.remove(),k.moveToPosition(x,CKEDITOR.POSITION_BEFORE_END)),(R=k.startPath().block)&&!R.equals(K)&&((w=R.getBogus())&&(w.remove(),S.push(R)),K=R),E.firstNotAllowed&&(T=1),T&&E.isElement){for(R=k.startContainer,v=null;R&&!c[R.getName()][E.name];){if(R.equals(m)){R=null;break}v=R,R=R.getParent()}if(R)v&&(N=k.splitElement(v),h.zombies.push(N),h.zombies.push(v));else{v=m.getName(),P=!I,R=I==g.length-1,b=[],C=(v=t(E.node,v)).length;_=0;for(var A=void 0,L=0,F=-1;_<C;_++)" "==(A=v[_])?(L||P&&!_||(b.push(new CKEDITOR.dom.text(" ")),F=b.length),L=1):(b.push(A),L=0);R&&F==b.length&&b.pop(),P=b}}if(P){for(;R=P.pop();)k.insertNode(R);P=0}else k.insertNode(E.node);E.lastNotAllowed&&I<g.length-1&&((N=D?y:N)&&k.setEndAt(N,CKEDITOR.POSITION_AFTER_START),T=0),k.collapse()}1!=g.length?w=!1:w=(w=g[0]).isElement&&"false"==w.node.getAttribute("contenteditable"),w&&(p=!0,R=g[0].node,k.setStartAt(R,CKEDITOR.POSITION_BEFORE_START),k.setEndAt(R,CKEDITOR.POSITION_AFTER_END)),h.dontMoveCaret=p,h.bogusNeededBlocks=S}for(w=h.range,N=h.bogusNeededBlocks,P=w.createBookmark();K=h.zombies.pop();)K.getParent()&&((x=w.clone()).moveToElementEditStart(K),x.removeEmptyBlocksAtEnd());if(N)for(;K=N.pop();)CKEDITOR.env.needsBrFiller?K.appendBogus():K.append(w.document.createText("Â "));for(;K=h.mergeCandidates.pop();)K.mergeSiblings();if(w.moveToBookmark(P),!h.dontMoveCaret){for(K=i(w);K&&e(K)&&!K.is(c.$empty);){if(K.isBlockBoundary())w.moveToPosition(K,CKEDITOR.POSITION_BEFORE_END);else{if(o(K)&&K.getHtml().match(/(\s|&nbsp;)$/g)){O=null;break}(O=w.clone()).moveToPosition(K,CKEDITOR.POSITION_BEFORE_END)}K=K.getLast(n)}O&&w.moveToRange(O)}}}}(),g=function(){function e(e){return(e=new CKEDITOR.dom.walker(e)).guard=function(e,t){return!t&&(e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$tableContent):void 0)},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT},e}function t(e,t,n){return t=e.getDocument().createElement(t),e.append(t,n),t}function n(e){for(var t,n=e.count();0<n--;)t=e.getItem(n),CKEDITOR.tools.trim(t.getHtml())||(t.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&t.getChildCount()&&t.getFirst().remove())}return function(i){var o=i.startContainer,r=o.getAscendant("table",1),a=!1;n(r.getElementsByTag("td")),n(r.getElementsByTag("th")),(r=i.clone()).setStart(o,0),(r=e(r).lastBackward())||((r=i.clone()).setEndAt(o,CKEDITOR.POSITION_BEFORE_END),r=e(r).lastForward(),a=!0),r||(r=o),r.is("table")?(i.setStartAt(r,CKEDITOR.POSITION_BEFORE_START),i.collapse(!0),r.remove()):(r.is({tbody:1,thead:1,tfoot:1})&&(r=t(r,"tr",a)),r.is("tr")&&(r=t(r,r.getParent().is("thead")?"th":"td",a)),(o=r.getBogus())&&o.remove(),i.moveToPosition(r,a?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),E=function(){function e(e){return(e=new CKEDITOR.dom.walker(e)).guard=function(e,t){return!t&&(e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$list)||e.is(CKEDITOR.dtd.$listItem):void 0)},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$listItem)},e}return function(t){var n,i=t.startContainer,o=!1;(n=t.clone()).setStart(i,0),(n=e(n).lastBackward())||((n=t.clone()).setEndAt(i,CKEDITOR.POSITION_BEFORE_END),n=e(n).lastForward(),o=!0),n||(n=i),n.is(CKEDITOR.dtd.$list)?(t.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),n.remove()):((i=n.getBogus())&&i.remove(),t.moveToPosition(n,o?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),t.select())}}(),v={eol:{detect:function(e,t){var n=e.range,i=n.clone(),o=n.clone(),r=new CKEDITOR.dom.elementPath(n.startContainer,t),a=new CKEDITOR.dom.elementPath(n.endContainer,t);i.collapse(1),o.collapse(),r.block&&i.checkBoundaryOfElement(r.block,CKEDITOR.END)&&(n.setStartAfter(r.block),e.prependEolBr=1),a.block&&o.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),e.appendEolBr=1)},fix:function(e,t){var n,i=t.getDocument();e.appendEolBr&&(n=this.createEolBr(i),e.fragment.append(n)),!e.prependEolBr||n&&!n.getPrevious()||e.fragment.append(this.createEolBr(i),1)},createEolBr:function(e){return e.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(e){var t,n=(t=e.range.getBoundaryNodes()).startNode;!(t=t.endNode)||!h(t)||n&&n.equals(t)||e.range.setEndBefore(t)}},tree:{rebuild:function(e,t){var n,i=(a=e.range).getCommonAncestor(),o=new CKEDITOR.dom.elementPath(i,t),r=new CKEDITOR.dom.elementPath(a.startContainer,t),a=new CKEDITOR.dom.elementPath(a.endContainer,t);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),o.blockLimit.is({tr:1,table:1})){var s=o.contains("table").getParent();n=function(e){return!e.equals(s)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)&&(r=r.contains(CKEDITOR.dtd.$list),a=a.contains(CKEDITOR.dtd.$list),!r.equals(a))){var l=o.contains(CKEDITOR.dtd.$list).getParent();n=function(e){return!e.equals(l)}}n||(n=function(e){return!e.equals(o.block)&&!e.equals(o.blockLimit)}),this.rebuildFragment(e,t,i,n)},rebuildFragment:function(e,t,n,i){for(var o;n&&!n.equals(t)&&i(n);)o=n.clone(0,1),e.fragment.appendTo(o),e.fragment=o,n=n.getParent()}},cell:{shrink:function(e){var t=(e=e.range).startContainer,n=e.endContainer,i=e.startOffset,o=e.endOffset;t.type==CKEDITOR.NODE_ELEMENT&&t.equals(n)&&t.is("tr")&&++i==o&&e.shrink(CKEDITOR.SHRINK_TEXT)}}},T=function(){function e(e,t){var n=e.getParent();n.is(CKEDITOR.dtd.$inline)&&e[t?"insertBefore":"insertAfter"](n)}function t(t,n,i){e(n),e(i,1);for(var o;o=i.getNext();)o.insertAfter(n),n=o;f(t)&&t.remove()}function n(e,t){var n=new CKEDITOR.dom.range(e);return n.setStartAfter(t.startNode),n.setEndBefore(t.endNode),n}return{list:{detectMerge:function(e,t){var i=n(t,e.bookmark),o=i.startPath(),r=i.endPath(),a=o.contains(CKEDITOR.dtd.$list),s=r.contains(CKEDITOR.dtd.$list);e.mergeList=a&&s&&a.getParent().equals(s.getParent())&&!a.equals(s),e.mergeListItems=o.block&&r.block&&o.block.is(CKEDITOR.dtd.$listItem)&&r.block.is(CKEDITOR.dtd.$listItem),(e.mergeList||e.mergeListItems)&&((i=i.clone()).setStartBefore(e.bookmark.startNode),i.setEndAfter(e.bookmark.endNode),e.mergeListBookmark=i.createBookmark())},merge:function(e,n){if(e.mergeListBookmark){var i=e.mergeListBookmark.startNode,o=e.mergeListBookmark.endNode,r=new CKEDITOR.dom.elementPath(i,n),a=new CKEDITOR.dom.elementPath(o,n);if(e.mergeList){var s=r.contains(CKEDITOR.dtd.$list),l=a.contains(CKEDITOR.dtd.$list);s.equals(l)||(l.moveChildren(s),l.remove())}e.mergeListItems&&(r=r.contains(CKEDITOR.dtd.$listItem),a=a.contains(CKEDITOR.dtd.$listItem),r.equals(a)||t(a,i,o)),i.remove(),o.remove()}}},block:{detectMerge:function(e,t){if(!e.tableContentsRanges&&!e.mergeListBookmark){var n=new CKEDITOR.dom.range(t);n.setStartBefore(e.bookmark.startNode),n.setEndAfter(e.bookmark.endNode),e.mergeBlockBookmark=n.createBookmark()}},merge:function(e,n){if(e.mergeBlockBookmark&&!e.purgeTableBookmark){var i=e.mergeBlockBookmark.startNode,o=e.mergeBlockBookmark.endNode,r=new CKEDITOR.dom.elementPath(i,n),a=new CKEDITOR.dom.elementPath(o,n);r=r.block,a=a.block;r&&a&&!r.equals(a)&&t(a,i,o),i.remove(),o.remove()}}},table:function(){function e(e){var n,o=[],r=new CKEDITOR.dom.walker(e),a=e.startPath().contains(i),s=e.endPath().contains(i),l={};return r.guard=function(r,c){if(r.type==CKEDITOR.NODE_ELEMENT){var u="visited_"+(c?"out":"in");if(r.getCustomData(u))return;CKEDITOR.dom.element.setMarker(l,r,u,1)}if(c&&a&&r.equals(a))(n=e.clone()).setEndAt(a,CKEDITOR.POSITION_BEFORE_END),o.push(n);else if(!c&&s&&r.equals(s))(n=e.clone()).setStartAt(s,CKEDITOR.POSITION_AFTER_START),o.push(n);else{if((u=!c)&&(u=r.type==CKEDITOR.NODE_ELEMENT&&r.is(i)&&(!a||t(r,a))&&(!s||t(r,s))),!u&&(u=c))if(r.is(i)){u=a&&a.getAscendant("table",!0);var d=s&&s.getAscendant("table",!0),f=r.getAscendant("table",!0);u=u&&u.contains(f)||d&&d.contains(f)}else u=void 0;u&&((n=e.clone()).selectNodeContents(r),o.push(n))}},r.lastForward(),CKEDITOR.dom.element.clearAllMarkers(l),o}function t(e,t){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,i=e.getPosition(t);return i!==CKEDITOR.POSITION_IDENTICAL&&0==(i&n)}var i={td:1,th:1,caption:1};return{detectPurge:function(e){var t=e.range;(n=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),o=0;if(n.evaluator=function(e){e.type==CKEDITOR.NODE_ELEMENT&&e.is(i)&&++o},n.checkForward(),1<o){n=t.startPath().contains("table");var r=t.endPath().contains("table");n&&r&&t.checkBoundaryOfElement(n,CKEDITOR.START)&&t.checkBoundaryOfElement(r,CKEDITOR.END)&&((t=e.range.clone()).setStartBefore(n),t.setEndAfter(r),e.purgeTableBookmark=t.createBookmark())}},detectRanges:function(o,r){var a,s,l=n(r,o.bookmark),c=l.clone(),u=l.getCommonAncestor();u.is(CKEDITOR.dtd.$tableContent)&&!u.is(i)&&(u=u.getAscendant("table",!0)),s=u,u=new CKEDITOR.dom.elementPath(l.startContainer,s),s=new CKEDITOR.dom.elementPath(l.endContainer,s),u=u.contains("table"),s=s.contains("table"),(u||s)&&(u&&s&&t(u,s)?(o.tableSurroundingRange=c,c.setStartAt(u,CKEDITOR.POSITION_AFTER_END),c.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),(c=l.clone()).setEndAt(u,CKEDITOR.POSITION_AFTER_END),(a=l.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),a=e(c).concat(e(a))):u?s||(o.tableSurroundingRange=c,c.setStartAt(u,CKEDITOR.POSITION_AFTER_END),l.setEndAt(u,CKEDITOR.POSITION_AFTER_END)):(o.tableSurroundingRange=c,c.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),l.setStartAt(s,CKEDITOR.POSITION_AFTER_START)),o.tableContentsRanges=a||e(l))},deleteRanges:function(e){for(var t;t=e.tableContentsRanges.pop();)t.extractContents(),f(t.startContainer)&&t.startContainer.appendBogus();e.tableSurroundingRange&&e.tableSurroundingRange.extractContents()},purge:function(e){if(e.purgeTableBookmark){var t=e.doc,n=e.range.clone();(t=t.createElement("p")).insertBefore(e.purgeTableBookmark.startNode),n.moveToBookmark(e.purgeTableBookmark),n.deleteContents(),e.range.moveToPosition(t,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(e){return!(e.range.startPath().contains(CKEDITOR.dtd.$listItem)&&e.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(e){e.startContainer.getDtd()["#"]||e.moveToClosestEditablePosition(null,!0)},autoParagraph:function(e,t){var n,i=t.startPath();r(e,i.block,i.blockLimit)&&(n=a(e))&&((n=t.document.createElement(n)).appendBogus(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function e(e){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(e)}function t(t,n){if(0===t.length||e(t[0].getEnclosedNode()))return!1;var i,o;if((i=!n&&1===t.length)&&!(i=t[0].collapsed)){var r=t[0];i=r.startContainer.getAscendant({td:1,th:1},!0);var a=r.endContainer.getAscendant({td:1,th:1},!0);o=CKEDITOR.tools.trim,i&&i.equals(a)&&!i.findOne("td, th, tr, tbody, table")?i=!(r=r.cloneContents()).getFirst()||o(r.getFirst().getText())!==o(i.getText()):i=!1}if(i)return!1;for(o=0;o<t.length;o++)if(!(i=t[o]._getTableElement()))return!1;return!0}function n(e){e=function(e){function t(e){e=e.find("td, th");var t,n=[];for(t=0;t<e.count();t++)n.push(e.getItem(t));return n}var n,i,o=[];for(i=0;i<e.length;i++)(n=e[i]._getTableElement()).is&&n.is({td:1,th:1})?o.push(n):o=o.concat(t(n));return o}(e);var t,n,i="",o=[];for(n=0;n<e.length;n++)t&&!t.equals(e[n].getAscendant("tr"))?(i+=o.join("\t")+"\n",t=e[n].getAscendant("tr"),o=[]):0===n&&(t=e[n].getAscendant("tr")),o.push(e[n].getText());return i+o.join("\t")}function i(e){var t=this.root.editor,i=t.getSelection(1);this.reset(),f=!0,i.root.once("selectionchange",(function(e){e.cancel()}),null,null,0),i.selectRanges([e[0]]),(i=this._.cache).ranges=new CKEDITOR.dom.rangeList(e),i.type=CKEDITOR.SELECTION_TEXT,i.selectedElement=e[0]._getTableElement(),i.selectedText=n(e),i.nativeSel=null,this.isFake=1,this.rev=g++,t._.fakeSelection=this,f=!1,this.root.fire("selectionchange")}function o(){var n,i=this._.fakeSelection;if(i){var o;if(!(o=!(n=this.getSelection(1)))&&(o=!n.isHidden())){o=i;var r=n.getRanges(),a=o.getRanges(),s=r.length&&r[0]._getTableElement()&&r[0]._getTableElement().getAscendant("table",!0),l=a.length&&a[0]._getTableElement()&&a[0]._getTableElement().getAscendant("table",!0),c=1===r.length&&r[0]._getTableElement()&&r[0]._getTableElement().is("table"),u=1===a.length&&a[0]._getTableElement()&&a[0]._getTableElement().is("table");if(e(o.getSelectedElement()))o=!1;else{var d=1===r.length&&r[0].collapsed;a=t(r,!!CKEDITOR.env.webkit)&&t(a);(s=!(!s||!l)&&(s.equals(l)||l.contains(s)))&&(d||a)?(c&&!u&&o.selectRanges(r),o=!0):o=!1}o=!o}o&&(i.reset(),i=0)}(i||(i=n||this.getSelection(1))&&i.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",i),(n=this.elementPath()).compare(this._.selectionPreviousPath)||(o=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(n.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||o||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=n,this.fire("selectionChange",{selection:i,path:n})))}function r(){p=!0,h||(a.call(this),h=CKEDITOR.tools.setTimeout(a,200,this))}function a(){h=null,p&&(CKEDITOR.tools.setTimeout(o,0,this),p=!1)}function s(e){return!(!T(e)&&(e.type!=CKEDITOR.NODE_ELEMENT||e.is(CKEDITOR.dtd.$empty)))}function l(e){function t(t,n){return!(!t||t.type==CKEDITOR.NODE_TEXT)&&e.clone()["moveToElementEdit"+(n?"End":"Start")](t)}if(!(e.root instanceof CKEDITOR.editable))return!1;var n=e.startContainer,i=e.getPreviousNode(s,null,n),o=e.getNextNode(s,null,n);return!(!t(i)&&!t(o,1)&&(i||o||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()&&n.getBogus()))}function c(e){u(e,!1);var t=e.getDocument().createText(E);return e.setCustomData("cke-fillingChar",t),t}function u(e,t){var n=e&&e.removeCustomData("cke-fillingChar");if(n){if(!1!==t){var i=e.getDocument().getSelection().getNative(),o=i&&"None"!=i.type&&i.getRangeAt(0),r=E.length;if(n.getLength()>r&&o&&o.intersectsNode(n.$)){var a=[{node:i.anchorNode,offset:i.anchorOffset},{node:i.focusNode,offset:i.focusOffset}];i.anchorNode==n.$&&i.anchorOffset>r&&(a[0].offset-=r),i.focusNode==n.$&&i.focusOffset>r&&(a[1].offset-=r)}}n.setText(d(n.getText(),1)),a&&(i=(n=e.getDocument().$).getSelection(),(n=n.createRange()).setStart(a[0].node,a[0].offset),n.collapse(!0),i.removeAllRanges(),i.addRange(n),i.extend(a[1].node,a[1].offset))}}function d(e,t){return t?e.replace(v,(function(e,t){return t?"Â ":""})):e.replace(E,"")}var f,h,p,m="function"!=typeof window.getSelection,g=1,E=CKEDITOR.tools.repeat("â",7),v=new RegExp(E+"( )?","g"),T=CKEDITOR.dom.walker.invisible(1),b=function(){function e(e){return function(t){var n=t.editor.createRange();return n.moveToClosestEditablePosition(t.selected,e)&&t.editor.getSelection().selectRanges([n]),!1}}function t(e){return function(t){var n,i=t.editor,o=i.createRange();if(!i.readOnly)return(n=o.moveToClosestEditablePosition(t.selected,e))||(n=o.moveToClosestEditablePosition(t.selected,!e)),n&&i.getSelection().selectRanges([o]),i.fire("saveSnapshot"),t.selected.remove(),n||(o.moveToElementEditablePosition(i.editable()),i.getSelection().selectRanges([o])),i.fire("saveSnapshot"),!1}}var n=e(),i=e(1);return{37:n,38:n,39:i,40:i,8:t(),46:t(1)}}();CKEDITOR.on("instanceCreated",(function(e){function t(){var e=n.getSelection();e&&e.removeAllRanges()}var n=e.editor;n.on("contentDom",(function(){function e(){(a=new CKEDITOR.dom.selection(n.getSelection())).lock()}function t(){d.removeListener("mouseup",t),p.removeListener("mouseup",t);var e=CKEDITOR.document.$.selection,n=e.createRange();"None"!=e.type&&n.parentElement()&&n.parentElement().ownerDocument==c.$&&n.select()}var i,a,s,l,c=n.document,d=CKEDITOR.document,f=n.editable(),h=c.getBody(),p=c.getDocumentElement(),g=f.isInline();if((CKEDITOR.env.gecko&&f.attachListener(f,"focus",(function(e){e.removeListener(),0!==i&&(e=n.getSelection().getNative())&&e.isCollapsed&&e.anchorNode==f.$&&((e=n.createRange()).moveToElementEditStart(f),e.select())}),null,null,-2),f.attachListener(f,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",(function(){if(i&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){i=n._.previousActive&&n._.previousActive.equals(c.getActive());var e=null!=n._.previousScrollTop&&n._.previousScrollTop!=f.$.scrollTop;CKEDITOR.env.webkit&&i&&e&&(f.$.scrollTop=n._.previousScrollTop)}n.unlockSelection(i),i=0}),null,null,-1),f.attachListener(f,"mousedown",(function(){i=0})),(CKEDITOR.env.ie||CKEDITOR.env.gecko||g)&&(m?f.attachListener(f,"beforedeactivate",e,null,null,-1):f.attachListener(n,"selectionCheck",e,null,null,-1),f.attachListener(f,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",(function(){var e=a&&(a.isFake||2>a.getRanges());CKEDITOR.env.gecko&&!g&&e||(n.lockSelection(a),i=1)}),null,null,-1),f.attachListener(f,"mousedown",(function(){i=0}))),CKEDITOR.env.ie&&!g)&&(f.attachListener(f,"mousedown",(function(e){2==e.data.$.button&&((e=n.document.getSelection())&&e.getType()!=CKEDITOR.SELECTION_NONE||(s=n.window.getScrollPosition()))})),f.attachListener(f,"mouseup",(function(e){2==e.data.$.button&&s&&(n.document.$.documentElement.scrollLeft=s.x,n.document.$.documentElement.scrollTop=s.y),s=null})),"BackCompat"!=c.$.compatMode)){var E,v;if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)p.on("mousedown",(function(e){function t(e){if(e=e.data.$,E){var t=h.$.createTextRange();try{t.moveToPoint(e.clientX,e.clientY)}catch(e){}E.setEndPoint(0>v.compareEndPoints("StartToStart",t)?"EndToEnd":"StartToStart",t),E.select()}}function n(){p.removeListener("mousemove",t),d.removeListener("mouseup",n),p.removeListener("mouseup",n),E.select()}if((e=e.data).getTarget().is("html")&&e.$.y<p.$.clientHeight&&e.$.x<p.$.clientWidth){E=h.$.createTextRange();try{E.moveToPoint(e.$.clientX,e.$.clientY)}catch(e){}v=E.duplicate(),p.on("mousemove",t),d.on("mouseup",n),p.on("mouseup",n)}}));7<CKEDITOR.env.version&&11>CKEDITOR.env.version&&p.on("mousedown",(function(e){e.data.getTarget().is("html")&&(d.on("mouseup",t),p.on("mouseup",t))}))}(f.attachListener(f,"selectionchange",o,n),f.attachListener(f,"keyup",r,n),f.attachListener(f,"touchstart",r,n),f.attachListener(f,"touchend",r,n),CKEDITOR.env.ie&&f.attachListener(f,"keydown",(function(e){var t=this.getSelection(1),n=function(e){return(e=e.getRanges()[0])&&(e=e.startContainer.getAscendant((function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")}),!0))&&"false"===e.getAttribute("contenteditable")?e:null}(t);n&&!n.equals(f)&&(t.selectElement(n),e.data.preventDefault())}),n),f.attachListener(f,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",(function(){n.forceNextSelectionCheck(),n.selectionChange(1)})),g&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko))?(f.attachListener(f,"mousedown",(function(){l=1})),f.attachListener(c.getDocumentElement(),"mouseup",(function(){l&&r.call(n),l=0}))):f.attachListener(CKEDITOR.env.ie?f:c.getDocumentElement(),"mouseup",r,n);CKEDITOR.env.webkit&&f.attachListener(c,"keydown",(function(e){switch(e.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:f.hasFocus&&u(f)}}),null,null,-1),f.attachListener(f,"keydown",function(e){var t={37:1,39:1,8:1,46:1};return function(n){var i=n.data.getKeystroke();if(t[i]){var o=e.getSelection().getRanges(),r=o[0];1==o.length&&r.collapsed&&(i=r[38>i?"getPreviousEditableNode":"getNextEditableNode"]())&&i.type==CKEDITOR.NODE_ELEMENT&&"false"==i.getAttribute("contenteditable")&&(e.getSelection().fake(i),n.data.preventDefault(),n.cancel())}}}(n),null,null,-1)})),n.on("setData",(function(){n.unlockSelection(),CKEDITOR.env.webkit&&t()})),n.on("contentDomUnload",(function(){n.unlockSelection()})),CKEDITOR.env.ie9Compat&&n.on("beforeDestroy",t,null,null,9),n.on("dataReady",(function(){delete n._.fakeSelection,delete n._.hiddenSelectionContainer,n.selectionChange(1)})),n.on("loadSnapshot",(function(){var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),t=n.editable().getLast(e);t&&t.hasAttribute("data-cke-hidden-sel")&&(t.remove(),CKEDITOR.env.gecko&&(e=n.editable().getFirst(e))&&e.is("br")&&e.getAttribute("_moz_editor_bogus_node")&&e.remove())}),null,null,100),n.on("key",(function(e){if("wysiwyg"==n.mode){var t=n.getSelection();if(t.isFake){var i=b[e.data.keyCode];if(i)return i({editor:n,selected:t.getSelectedElement(),selection:t,keyEvent:e})}}}))})),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",(function(e){var t=e.editor;t.on("selectionChange",(function(){var e=t.editable(),n=e.getCustomData("cke-fillingChar");n&&(n.getCustomData("ready")?(u(e),e.editor.fire("selectionCheck")):n.setCustomData("ready",1))}),null,null,-1),t.on("beforeSetMode",(function(){u(t.editable())}),null,null,-1),t.on("getSnapshot",(function(e){e.data&&(e.data=d(e.data))}),t,null,20),t.on("toDataFormat",(function(e){e.data.dataValue=d(e.data.dataValue)}),null,null,0)})),CKEDITOR.editor.prototype.selectionChange=function(e){(e?o:r).call(this)},CKEDITOR.editor.prototype.getSelection=function(e){return!this._.savedSelection&&!this._.fakeSelection||e?(e=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(e):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(e){return(e=e||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!e.isLocked&&e.lock(),this._.savedSelection=e,!0)},CKEDITOR.editor.prototype.unlockSelection=function(e){var t=this._.savedSelection;return!!t&&(t.unlock(e),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var e=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return e.selectRanges([this]),e},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(e){if(e instanceof CKEDITOR.dom.selection){var t=e;e=e.root}var n,i,o=e instanceof CKEDITOR.dom.element;if(this.rev=t?t.rev:g++,this.document=e instanceof CKEDITOR.dom.document?e:e.getDocument(),this.root=o?e:this.document.getBody(),this.isLocked=0,this._={cache:{}},t)return CKEDITOR.tools.extend(this._.cache,t._.cache),this.isFake=t.isFake,this.isLocked=t.isLocked,this;if(e=this.getNative())if(e.getRangeAt)n=(i=e.rangeCount&&e.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=e.createRange()}catch(e){}n=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var C={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:d,_createFillingCharSequenceNode:c,FILLING_CHAR_SEQUENCE:E}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=m?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:m?function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),i=n.type;"Text"==i&&(t=CKEDITOR.SELECTION_TEXT),"Control"==i&&(t=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(t=CKEDITOR.SELECTION_TEXT)}catch(e){}return e.type=t}:function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,i=(n=n.getRangeAt(0)).startContainer;i==n.endContainer&&1==i.nodeType&&1==n.endOffset-n.startOffset&&C[i.childNodes[n.startOffset].nodeName.toLowerCase()]&&(t=CKEDITOR.SELECTION_ELEMENT)}}else t=CKEDITOR.SELECTION_NONE;return e.type=t},getRanges:function(){var e=m?function(){function e(e){return new CKEDITOR.dom.node(e).getIndex()}var t=function(t,n){(t=t.duplicate()).collapse(n);var i=t.parentElement();if(!i.hasChildNodes())return{container:i,offset:0};for(var o,r,a,s,l=i.children,c=t.duplicate(),u=0,d=l.length-1,f=-1;u<=d;)if(o=l[f=Math.floor((u+d)/2)],c.moveToElementText(o),0<(a=c.compareEndPoints("StartToStart",t)))d=f-1;else{if(!(0>a))return{container:i,offset:e(o)};u=f+1}if(-1==f||f==l.length-1&&0>a){if(c.moveToElementText(i),c.setEndPoint("StartToStart",t),c=c.text.replace(/(\r\n|\r)/g,"\n").length,l=i.childNodes,!c)return(o=l[l.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:i,offset:l.length}:{container:o,offset:o.nodeValue.length};for(i=l.length;0<c&&0<i;)(r=l[--i]).nodeType==CKEDITOR.NODE_TEXT&&(s=r,c-=r.nodeValue.length);return{container:s,offset:-c}}if(c.collapse(0<a),c.setEndPoint(0<a?"StartToStart":"EndToStart",t),!(c=c.text.replace(/(\r\n|\r)/g,"\n").length))return{container:i,offset:e(o)+(0<a?0:1)};for(;0<c;)try{(r=o[0<a?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(c-=r.nodeValue.length,s=r),o=r}catch(t){return{container:i,offset:e(o)}}return{container:s,offset:0<a?-c:s.nodeValue.length+c}};return function(){var e=(s=this.getNative())&&s.createRange(),n=this.getType();if(!s)return[];if(n==CKEDITOR.SELECTION_TEXT)return s=new CKEDITOR.dom.range(this.root),n=t(e,!0),s.setStart(new CKEDITOR.dom.node(n.container),n.offset),n=t(e),s.setEnd(new CKEDITOR.dom.node(n.container),n.offset),s.endContainer.getPosition(s.startContainer)&CKEDITOR.POSITION_PRECEDING&&s.endOffset<=s.startContainer.getIndex()&&s.collapse(),[s];if(n==CKEDITOR.SELECTION_ELEMENT){n=[];for(var i=0;i<e.length;i++){for(var o=e.item(i),r=o.parentNode,a=0,s=new CKEDITOR.dom.range(this.root);a<r.childNodes.length&&r.childNodes[a]!=o;a++);s.setStart(new CKEDITOR.dom.node(r),a),s.setEnd(new CKEDITOR.dom.node(r),a+1),n.push(s)}return n}return[]}}():function(){var e,t=[],n=this.getNative();if(!n)return t;for(var i=0;i<n.rangeCount;i++){var o=n.getRangeAt(i);(e=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),e.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),t.push(e)}return t};return function(t){var n=this._.cache,i=n.ranges;return i||(n.ranges=i=new CKEDITOR.dom.rangeList(e.call(this))),t?function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.getCommonAncestor().isReadOnly()&&e.splice(t,1),!n.collapsed){if(n.startContainer.isReadOnly())for(var i,o=n.startContainer;o&&!((i=o.type==CKEDITOR.NODE_ELEMENT)&&o.is("body")||!o.isReadOnly());)i&&"false"==o.getAttribute("contentEditable")&&n.setStartAfter(o),o=o.getParent();o=n.startContainer,i=n.endContainer;var r=n.startOffset,a=n.endOffset,s=n.clone();o&&o.type==CKEDITOR.NODE_TEXT&&(r>=o.getLength()?s.setStartAfter(o):s.setStartBefore(o)),i&&i.type==CKEDITOR.NODE_TEXT&&(a?s.setEndAfter(i):s.setEndBefore(i)),(o=new CKEDITOR.dom.walker(s)).evaluator=function(i){if(i.type==CKEDITOR.NODE_ELEMENT&&i.isReadOnly()){var o=n.clone();return n.setEndBefore(i),n.collapsed&&e.splice(t--,1),i.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(o.setStartAfter(i),o.collapsed||e.splice(t+1,0,o)),!0}return!1},o.next()}}return e}(new CKEDITOR.dom.rangeList(i.slice())):i}}(),getStartElement:function(){var e,t=this._.cache;if(void 0!==t.startElement)return t.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(e=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent());else{for(n.optimize();e=n.startContainer,n.startOffset==(e.getChildCount?e.getChildCount():e.getLength())&&!e.isBlockBoundary();)n.setStartAfter(e);if((e=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return e.getParent();if((e=e.getChild(n.startOffset))&&e.type==CKEDITOR.NODE_ELEMENT)for(n=e.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)e=n,n=n.getFirst();else e=n.startContainer}e=e.$}}return t.startElement=e?new CKEDITOR.dom.element(e):null},getSelectedElement:function(){var e=this._.cache;if(void 0!==e.selectedElement)return e.selectedElement;var t=this,n=CKEDITOR.tools.tryThese((function(){return t.getNative().createRange().item(0)}),(function(){for(var e,n,i=t.getRanges()[0].clone(),o=2;o&&!((e=i.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&C[e.getName()]&&(n=e));o--)i.shrink(CKEDITOR.SHRINK_ELEMENT);return n&&n.$}));return e.selectedElement=n?new CKEDITOR.dom.element(n):null},getSelectedText:function(){var e=this._.cache;if(void 0!==e.selectedText)return e.selectedText;var t=this.getNative();t=m?"Control"==t.type?"":t.createRange().text:t.toString();return e.selectedText=t},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(e){if(this.isLocked){if(e)var n=this.getSelectedElement(),o=this.getRanges(),r=this.isFake;this.isLocked=0,this.reset(),e&&(e=n||o[0]&&o[0].getCommonAncestor())&&e.getAscendant("body",1)&&(this.root.editor.plugins.tableselection&&t(o)?i.call(this,o):r?this.fake(n):n&&2>o.length?this.selectElement(n):this.selectRanges(o))}},reset:function(){this._.cache={},this.isFake=0;var e=this.root.editor;if(e&&e._.fakeSelection)if(this.rev==e._.fakeSelection.rev){delete e._.fakeSelection;var t=e._.hiddenSelectionContainer;if(t){var n=e.checkDirty();e.fire("lockSnapshot"),t.remove(),e.fire("unlockSnapshot"),!n&&e.resetDirty()}delete e._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=g++},selectElement:function(e){var t=new CKEDITOR.dom.range(this.root);t.setStartBefore(e),t.setEndAfter(e),this.selectRanges([t])},selectRanges:function(e){var n=this.root.editor,o=n&&n._.hiddenSelectionContainer;if(this.reset(),o){o=this.root;for(var r,a=0;a<e.length;++a)(r=e[a]).endContainer.equals(o)&&(r.endOffset=Math.min(r.endOffset,o.getChildCount()))}if(e.length)if(this.isLocked){var s=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(e),this.lock(),s&&!s.equals(this.root)&&s.focus()}else{var d,h,p;if(1==e.length&&!(p=e[0]).collapsed&&(d=p.getEnclosedNode())&&d.type==CKEDITOR.NODE_ELEMENT&&((p=p.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(h=p.getEnclosedNode())&&h.type==CKEDITOR.NODE_ELEMENT&&(d=h),"false"==d.getAttribute("contenteditable"))||(d=void 0),d)this.fake(d);else if(n&&n.plugins.tableselection&&n.plugins.tableselection.isSupportedEnvironment()&&t(e)&&!f&&!e[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))i.call(this,e);else{if(m){var g,E,v;if(h=CKEDITOR.dom.walker.whitespaces(!0),d=/\ufeff|\u00a0/,p={table:1,tbody:1,tr:1},1<e.length&&(n=e[e.length-1],e[0].setEnd(n.endContainer,n.endOffset)),e=(n=e[0]).collapsed,(o=n.getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT&&o.getName()in C&&(!o.is("a")||!o.getText()))try{return(v=o.$.createControlRange()).addElement(o.$),void v.select()}catch(e){}(n.startContainer.type==CKEDITOR.NODE_ELEMENT&&n.startContainer.getName()in p||n.endContainer.type==CKEDITOR.NODE_ELEMENT&&n.endContainer.getName()in p)&&(n.shrink(CKEDITOR.NODE_ELEMENT,!0),e=n.collapsed),p=(v=n.createBookmark()).startNode,e||(s=v.endNode),(v=n.document.$.body.createTextRange()).moveToElementText(p.$),v.moveStart("character",1),s?((d=n.document.$.body.createTextRange()).moveToElementText(s.$),v.setEndPoint("EndToEnd",d),v.moveEnd("character",-1)):(g=p.getNext(h),E=p.hasAscendant("pre"),g=!(g&&g.getText&&g.getText().match(d))&&(E||!p.hasPrevious()||p.getPrevious().is&&p.getPrevious().is("br")),(E=n.document.createElement("span")).setHtml("&#65279;"),E.insertBefore(p),g&&n.document.createText("\ufeff").insertBefore(p)),n.setStartBefore(p),p.remove(),e?(g?(v.moveStart("character",-1),v.select(),n.document.$.selection.clear()):v.select(),n.moveToPosition(E,CKEDITOR.POSITION_BEFORE_START),E.remove()):(n.setEndBefore(s),s.remove(),v.select())}else{if(!(s=this.getNative()))return;for(this.removeAllRanges(),v=0;v<e.length;v++)if(v<e.length-1&&(g=e[v],E=e[v+1],(d=g.clone()).setStart(g.endContainer,g.endOffset),d.setEnd(E.startContainer,E.startOffset),!d.collapsed&&(d.shrink(CKEDITOR.NODE_ELEMENT,!0),n=d.getCommonAncestor(),d=d.getEnclosedNode(),n.isReadOnly()||d&&d.isReadOnly())))E.setStart(g.startContainer,g.startOffset),e.splice(v--,1);else{n=e[v],E=this.document.$.createRange(),n.collapsed&&CKEDITOR.env.webkit&&l(n)&&(d=c(this.root),n.insertNode(d),(g=d.getNext())&&!d.getPrevious()&&g.type==CKEDITOR.NODE_ELEMENT&&"br"==g.getName()?(u(this.root),n.moveToPosition(g,CKEDITOR.POSITION_BEFORE_START)):n.moveToPosition(d,CKEDITOR.POSITION_AFTER_END)),E.setStart(n.startContainer.$,n.startOffset);try{E.setEnd(n.endContainer.$,n.endOffset)}catch(e){if(!(0<=e.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw e;n.collapse(1),E.setEnd(n.endContainer.$,n.endOffset)}s.addRange(E)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(e,t){var n=this.root.editor;void 0===t&&e.hasAttribute("aria-label")&&(t=e.getAttribute("aria-label")),this.reset(),function(e,t){var n=t&&CKEDITOR.tools.htmlEncode(t)||"&nbsp;";n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'">'+n+"</div>",e.document),e.fire("lockSnapshot"),e.editable().append(n);var i=e.getSelection(1),o=e.createRange(),r=i.root.on("selectionchange",(function(e){e.cancel()}),null,null,0);o.setStartAt(n,CKEDITOR.POSITION_AFTER_START),o.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.selectRanges([o]),r.removeListener(),e.fire("unlockSnapshot"),e._.hiddenSelectionContainer=n}(n,t);var i=this._.cache,o=new CKEDITOR.dom.range(this.root);o.setStartBefore(e),o.setEndAfter(e),i.ranges=new CKEDITOR.dom.rangeList(o),i.selectedElement=i.startElement=e,i.type=CKEDITOR.SELECTION_ELEMENT,i.selectedText=i.nativeSel=null,this.isFake=1,this.rev=g++,n._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var e=this.getCommonAncestor();return e&&e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),!(!e||!e.data("cke-hidden-sel"))},isInTable:function(e){return t(this.getRanges(),e)},isCollapsed:function(){var e=this.getRanges();return 1===e.length&&e[0].collapsed},createBookmarks:function(e){return e=this.getRanges().createBookmarks(e),this.isFake&&(e.isFake=1),e},createBookmarks2:function(e){return e=this.getRanges().createBookmarks2(e),this.isFake&&(e.isFake=1),e},selectBookmarks:function(e){for(var n,i=[],o=0;o<e.length;o++){var r=new CKEDITOR.dom.range(this.root);r.moveToBookmark(e[o]),i.push(r)}return e.isFake&&((n=t(i)?i[0]._getTableElement():i[0].getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),e.isFake=0)),e.isFake&&!t(i)?this.fake(n):this.selectRanges(i),this},getCommonAncestor:function(){var e=this.getRanges();return e.length?e[0].startContainer.getCommonAncestor(e[e.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var e=this.getNative();try{e&&e[m?"empty":"removeAllRanges"]()}catch(e){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function e(e,t){for(var n,i;(e=e.getParent())&&!e.equals(t);)if(e.getAttribute("data-nostyle"))n=e;else if(!i){var o=e.getAttribute("contentEditable");"false"==o?n=e:"true"==o&&(i=1)}return n}function t(e,t,n,i){return(e.getPosition(t)|i)==i&&(!n.childRule||n.childRule(e))}function n(i){var r=i.document;if(i.collapsed)r=m(this,r),i.insertNode(r),i.moveToPosition(r,CKEDITOR.POSITION_BEFORE_END);else{var a,s=this.element,l=this._.definition,c=(v=l.ignoreReadonly)||l.includeReadonly;null==c&&(c=i.root.getCustomData("cke_includeReadonly"));var u=CKEDITOR.dtd[s];u||(a=!0,u=CKEDITOR.dtd.span),i.enlarge(CKEDITOR.ENLARGE_INLINE,1),i.trim();var d,h=i.createBookmark(),p=h.startNode,g=h.endNode,E=p;if(!v){var v=e(p,T=i.getCommonAncestor()),T=e(g,T);v&&(E=v.getNextSourceNode(!0)),T&&(g=T)}for(E.getPosition(g)==CKEDITOR.POSITION_FOLLOWING&&(E=0);E;){if(v=!1,E.equals(g))E=null,v=!0;else{T=(_=E.type==CKEDITOR.NODE_ELEMENT?E.getName():null)&&"false"==E.getAttribute("contentEditable");var b=_&&E.getAttribute("data-nostyle");if(_&&E.data("cke-bookmark")||E.type===CKEDITOR.NODE_COMMENT){E=E.getNextSourceNode(!0);continue}if(T&&c&&CKEDITOR.dtd.$block[_])for(var C=void 0,y=0,I=(P=(N=o(I=E)).length)&&new CKEDITOR.dom.range(I.getDocument());y<P;++y){C=N[y];var O=CKEDITOR.filter.instances[C.data("cke-filter")];O&&!O.check(this)||(I.selectNodeContents(C),n.call(this,I))}if(N=_?!u[_]||b?0:T&&!c?0:t(E,g,l,k):1){if(N=l,P=s,y=a,!(C=E.getParent())||!(C.getDtd()||CKEDITOR.dtd.span)[P]&&!y||N.parentRule&&!N.parentRule(C))v=!0;else if(d||_&&CKEDITOR.dtd.$removeEmpty[_]&&(E.getPosition(g)|k)!=k||(d=i.clone()).setStartBefore(E),(_=E.type)==CKEDITOR.NODE_TEXT||T||_==CKEDITOR.NODE_ELEMENT&&!E.getChildCount()){for(var D,_=E;(v=!_.getNext(R))&&u[(D=_.getParent()).getName()]&&t(D,p,l,w);)_=D;d.setEndAfter(_)}}else v=!0;E=E.getNextSourceNode(b||T)}if(v&&d&&!d.collapsed){T=(v=m(this,r)).hasAttributes(),b=d.getCommonAncestor(),_={};for(var K,x,S,N={},P=(C={},{});v&&b;){if(b.getName()==s){for(K in l.attributes)!P[K]&&(S=b.getAttribute(x))&&(v.getAttribute(K)==S?N[K]=1:P[K]=1);for(x in l.styles)!C[x]&&(S=b.getStyle(x))&&(v.getStyle(x)==S?_[x]=1:C[x]=1)}b=b.getParent()}for(K in N)v.removeAttribute(K);for(x in _)v.removeStyle(x);T&&!v.hasAttributes()&&(v=null),v?(d.extractContents().appendTo(v),d.insertNode(v),f.call(this,v),v.mergeSiblings(),CKEDITOR.env.ie||v.$.normalize()):(v=new CKEDITOR.dom.element("span"),d.extractContents().appendTo(v),d.insertNode(v),f.call(this,v),v.remove(!0)),d=null}}i.moveToBookmark(h),i.shrink(CKEDITOR.SHRINK_TEXT),i.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function i(e){function t(){for(var e=new CKEDITOR.dom.elementPath(i.getParent()),t=new CKEDITOR.dom.elementPath(u.getParent()),n=null,o=null,r=0;r<e.elements.length;r++){var a=e.elements[r];if(a==e.block||a==e.blockLimit)break;f.checkElementRemovable(a,!0)&&(n=a)}for(r=0;r<t.elements.length&&((a=t.elements[r])!=t.block&&a!=t.blockLimit);r++)f.checkElementRemovable(a,!0)&&(o=a);o&&u.breakParent(o),n&&i.breakParent(n)}e.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=e.createBookmark(),i=n.startNode,o=this._.definition.alwaysRemoveElement;if(e.collapsed){for(var r,a,s=new CKEDITOR.dom.elementPath(i.getParent(),e.root),l=0;l<s.elements.length&&(a=s.elements[l])&&a!=s.block&&a!=s.blockLimit;l++)if(this.checkElementRemovable(a)){var c;!o&&e.collapsed&&(e.checkBoundaryOfElement(a,CKEDITOR.END)||(c=e.checkBoundaryOfElement(a,CKEDITOR.START)))?(r=a).match=c?"start":"end":(a.mergeSiblings(),a.is(this.element)?d.call(this,a):h(a,v(this)[a.getName()]))}if(r){for(o=i,l=0;!(a=s.elements[l]).equals(r);l++)a.match||((a=a.clone()).append(o),o=a);o["start"==r.match?"insertBefore":"insertAfter"](r)}}else{var u=n.endNode,f=this;for(t(),s=i;!s.equals(u);)r=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?d.call(this,s):h(s,v(this)[s.getName()]),r.type==CKEDITOR.NODE_ELEMENT&&r.contains(i)&&(t(),r=i.getNext())),s=r}e.moveToBookmark(n),e.shrink(CKEDITOR.NODE_ELEMENT,!0)}function o(e){var t=[];return e.forEach((function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1}),CKEDITOR.NODE_ELEMENT,!0),t}function r(e){var t=e.getEnclosedNode()||e.getCommonAncestor(!1,!0);(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1))&&!e.isReadOnly()&&g(e,this)}function a(e){var t=e.getCommonAncestor(!0,!0);if(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1)){var n=(t=this._.definition).attributes;if(n)for(var i in n)e.removeAttribute(i,n[i]);if(t.styles)for(var o in t.styles)t.styles.hasOwnProperty(o)&&e.removeStyle(o)}}function s(e){var t=e.createBookmark(!0),n=e.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var i,o=e.document;i=n.getNextParagraph();)!i.isReadOnly()&&(!n.activeFilter||n.activeFilter.check(this))&&c(i,m(this,o,i));e.moveToBookmark(t)}function l(e){var t,n,i=e.createBookmark(1),o=e.createIterator();for(o.enforceRealBlocks=!0,o.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;t=o.getNextParagraph();)this.checkElementRemovable(t)&&(t.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:e.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&t.copyAttributes(n),c(t,n)):d.call(this,t));e.moveToBookmark(i)}function c(e,t){(n=!t)&&(t=e.getDocument().createElement("div"),e.copyAttributes(t));var n,i,o=t&&t.is("pre"),r=e.is("pre"),a=!o&&r;if(o&&!r){if(r=t,(a=e.getBogus())&&a.remove(),a=(a=(a=(a=u(a=e.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=e.getDocument().createElement("div");s.append(r),r.$.outerHTML="<pre>"+a+"</pre>",r.copyAttributes(s.getFirst()),r=s.getFirst().remove()}else r.setHtml(a);t=r}else a?t=function(e,t){var n;1<e.length&&(n=new CKEDITOR.dom.documentFragment(t.getDocument()));for(var i=0;i<e.length;i++){var o=u(o=(o=e[i]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,"");o=u(o,/\n$/,""),o=(o=(o=u(o,/^[ \t]+|[ \t]+$/g,(function(e,t){return 1==e.length?"&nbsp;":t?" "+CKEDITOR.tools.repeat("&nbsp;",e.length-1):CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "}))).replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,(function(e){return CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "}));if(n){var r=t.clone();r.setHtml(o),n.append(r)}else t.setHtml(o)}return n||t}(n?[e.getHtml()]:function(e){var t=[];return u(e.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,(function(e,t,n){return t+"</pre>"+n+"<pre>"})).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,(function(e,n){t.push(n)})),t}(e),t):e.moveChildren(t);(t.replace(e),o)?(i=(n=t).getPrevious(_))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("pre")&&(o=u(i.getHtml(),/\n$/,"")+"\n\n"+u(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+o+"</pre>":n.setHtml(o),i.remove()):n&&p(t)}function u(e,t,n){var i="",o="";return e=e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,(function(e,t,n){return t&&(i=t),n&&(o=n),""})),i+e.replace(t,n)+o}function d(e,t){var n,i=(o=this._.definition).attributes,o=o.styles,r=v(this)[e.getName()],a=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(o);for(n in i)("class"!=n&&!this._.definition.fullMatch||e.getAttribute(n)==T(n,i[n]))&&(t&&"data-"==n.slice(0,5)||(a=e.hasAttribute(n),e.removeAttribute(n)));for(var s in o)this._.definition.fullMatch&&e.getStyle(s)!=T(s,o[s],!0)||(a=a||!!e.getStyle(s),e.removeStyle(s));h(e,r,y[e.getName()]),a&&(this._.definition.alwaysRemoveElement?p(e,1):!CKEDITOR.dtd.$block[e.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!e.hasAttributes()?p(e):e.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function f(e){for(var t,n=v(this),i=e.getElementsByTag(this.element),o=i.count();0<=--o;)(t=i.getItem(o)).isReadOnly()||d.call(this,t,!0);for(var r in n)if(r!=this.element)for(o=(i=e.getElementsByTag(r)).count()-1;0<=o;o--)(t=i.getItem(o)).isReadOnly()||h(t,n[r])}function h(e,t,n){if(t=t&&t.attributes)for(var i=0;i<t.length;i++){var o,r=t[i][0];if(o=e.getAttribute(r)){var a=t[i][1];(null===a||a.test&&a.test(o)||"string"==typeof a&&o==a)&&e.removeAttribute(r)}}n||p(e)}function p(e,t){if(!e.hasAttributes()||t)if(CKEDITOR.dtd.$block[e.getName()]){var n=e.getPrevious(_),i=e.getNext(_);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||e.append("br",1),!i||i.type!=CKEDITOR.NODE_TEXT&&i.isBlockBoundary({br:1})||e.append("br"),e.remove(!0)}else n=e.getFirst(),i=e.getLast(),e.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),i&&!n.equals(i)&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings())}function m(e,t,n){var i;return"*"==(i=e.element)&&(i="span"),i=new CKEDITOR.dom.element(i,t),n&&n.copyAttributes(i),i=g(i,e),t.getCustomData("doc_processing_style")&&i.hasAttribute("id")?i.removeAttribute("id"):t.setCustomData("doc_processing_style",1),i}function g(e,t){var n=(i=t._.definition).attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var o in n)e.setAttribute(o,n[o]);return i&&e.setAttribute("style",i),e.getDocument().removeCustomData("doc_processing_style"),e}function E(e,t){for(var n in e)e[n]=e[n].replace(D,(function(e,n){return t[n]}))}function v(e){if(e._.overrides)return e._.overrides;var t=e._.overrides={},n=e._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var o,r;if("string"==typeof(s=n[i])?o=s.toLowerCase():(o=s.element?s.element.toLowerCase():e.element,r=s.attributes),s=t[o]||(t[o]={}),r){var a,s=s.attributes=s.attributes||[];for(a in r)s.push([a.toLowerCase(),r[a]])}}}return t}function T(e,t,n){var i=new CKEDITOR.dom.element("span");return i[n?"setStyle":"setAttribute"](e,t),i[n?"getStyle":"getAttribute"](e)}function b(e,t){function n(e,t){return"font-family"==t.toLowerCase()?e.replace(/["']/g,""):e}for(var i in"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e)),"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t,!0)),e)if(!(i in t)||n(t[i],i)!=n(e[i],i)&&"inherit"!=e[i]&&"inherit"!=t[i])return!1;return!0}function C(e,t,n){var i=e.getRanges();t=t?this.removeFromRange:this.applyToRange;for(var o,r=i.createIterator();o=r.getNextRange();)t.call(this,o,n);e.selectRanges(i)}var y={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},I={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},O=/\s*(?:;\s*|$)/,D=/#\((.+?)\)/g,R=CKEDITOR.dom.walker.bookmark(0,1),_=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(e,t){if("string"==typeof e.type)return new CKEDITOR.style.customHandlers[e.type](e);var n=e.attributes;n&&n.style&&(e.styles=CKEDITOR.tools.extend({},e.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),t&&(E((e=CKEDITOR.tools.clone(e)).attributes,t),E(e.styles,t)),n=this.element=e.element?"string"==typeof e.element?e.element.toLowerCase():e.element:"*",this.type=e.type||(y[n]?CKEDITOR.STYLE_BLOCK:I[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:e}},CKEDITOR.style.prototype={apply:function(e){if(e instanceof CKEDITOR.dom.document)return C.call(this,e.getSelection());if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),C.call(this,e.getSelection(),0,e),this._.enterMode=t}},remove:function(e){if(e instanceof CKEDITOR.dom.document)return C.call(this,e.getSelection(),1);if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),C.call(this,e.getSelection(),1,e),this._.enterMode=t}},applyToRange:function(e){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?n:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?r:null,this.applyToRange(e)},removeFromRange:function(e){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?i:this.type==CKEDITOR.STYLE_BLOCK?l:this.type==CKEDITOR.STYLE_OBJECT?a:null,this.removeFromRange(e)},applyToObject:function(e){g(e,this)},checkActive:function(e,t){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(e.block||e.blockLimit,!0,t);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,i=e.elements,o=0;o<i.length;o++)if(n=i[o],this.type!=CKEDITOR.STYLE_INLINE||n!=e.block&&n!=e.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var r=n.getName();if(!("string"==typeof this.element?r==this.element:r in this.element))continue}if(this.checkElementRemovable(n,!0,t))return!0}}return!1},checkApplicable:function(e,t,n){if(t&&t instanceof CKEDITOR.filter&&(n=t),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!e.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!e.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(e,t){var n=this._.definition;if(!e||!n.ignoreReadonly&&e.isReadOnly())return!1;var i=e.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!t&&!e.hasAttributes())return!0;if(i=n._AC)n=i;else{i={};var o=0,r=n.attributes;if(r)for(var a in r)o++,i[a]=r[a];(a=CKEDITOR.style.getStyleText(n))&&(i.style||o++,i.style=a),i._length=o,n=n._AC=i}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(i=e.getAttribute(s)||"","style"==s?b(n[s],i):n[s]==i){if(!t)return!0}else if(t)return!1;if(t)return!0}return!1},checkElementRemovable:function(e,t,n){if(this.checkElementMatch(e,t,n))return!0;if(t=v(this)[e.getName()]){var i;if(!(t=t.attributes))return!0;for(n=0;n<t.length;n++)if(i=t[n][0],i=e.getAttribute(i)){var o=t[n][1];if(null===o)return!0;if("string"==typeof o){if(i==o)return!0}else if(o.test(i))return!0}}return!1},buildPreview:function(e){var t=this._.definition,n=[],i=t.element;"bdo"==i&&(i="span");n=["<",i];var o=t.attributes;if(o)for(var r in o)n.push(" ",r,'="',o[r],'"');return(o=CKEDITOR.style.getStyleText(t))&&n.push(' style="',o,'"'),n.push(">",e||t.name,"</",i,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(e){if(t=e._ST)return t;var t=e.styles,n=e.attributes&&e.attributes.style||"",i="";for(var o in n.length&&(n=n.replace(O,";")),t){var r=t[o],a=(o+":"+r).replace(O,";");"inherit"==r?i+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),e._ST=n+i},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(e){var t=function(e){this._={definition:e},this.setup&&this.setup(e)};return t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},e,!0),this.customHandlers[e.type]=t};var k=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,w=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(e,t){this.requiredContent=this.allowedContent=this.style=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.styleCommand.prototype.exec=function(e){e.focus(),this.state==CKEDITOR.TRISTATE_OFF?e.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&e.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(e,t,n){CKEDITOR.stylesSet.addExternal(e,t,""),CKEDITOR.stylesSet.load(e,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(e,t){var n=this._.styleStateChangeCallbacks;n||(n=this._.styleStateChangeCallbacks=[],this.on("selectionChange",(function(e){for(var t=0;t<n.length;t++){var i=n[t],o=i.style.checkActive(e.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;i.fn.call(this,o)}}))),n.push({style:e,fn:t})},applyStyle:function(e){e.apply(this)},removeStyle:function(e){e.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var t=this;if(!1===(n=t.config.stylesCombo_stylesSet||t.config.stylesSet))e(null);else if(n instanceof Array)t._.stylesDefinitions=n,e(n);else{n||(n="default");var n,i=(n=n.split(":"))[0];CKEDITOR.stylesSet.addExternal(i,n[1]?n.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,(function(n){t._.stylesDefinitions=n[i],e(t._.stylesDefinitions)}))}}}}),function(){if(window.Promise)CKEDITOR.tools.promise=Promise;else{var e=CKEDITOR.getUrl("vendor/promise.js");if("function"==typeof window.define&&window.define.amd&&"function"==typeof window.require)return window.require([e],(function(e){CKEDITOR.tools.promise=e}));CKEDITOR.scriptLoader.load(e,(function(t){return t?void 0!==window.ES6Promise?CKEDITOR.tools.promise=ES6Promise:void 0:CKEDITOR.error("no-vendor-lib",{path:e})}))}}(),function(){function e(e,i,o){e.once("selectionCheck",(function(e){if(!t){var r=e.data.getRanges()[0];o.equals(r)?e.cancel():i.equals(r)&&(n=!0)}}),null,null,-1)}var t=!0,n=!1;CKEDITOR.dom.selection.setupEditorOptimization=function(e){e.on("selectionCheck",(function(e){e.data&&!n&&e.data.optimizeInElementEnds(),n=!1})),e.on("contentDom",(function(){var t=e.editable();t&&(t.attachListener(t,"keydown",(function(e){this._.shiftPressed=e.data.$.shiftKey}),this),t.attachListener(t,"keyup",(function(e){this._.shiftPressed=e.data.$.shiftKey}),this))}))},CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var n,i=this.getRanges()[0],o=this.root.editor;if(this.root.editor._.shiftPressed||this.isFake||i.isCollapsed||i.startContainer.equals(i.endContainer))n=!1;else if(0===i.endOffset)n=!0;else{n=i.startContainer.type===CKEDITOR.NODE_TEXT;var r=i.endContainer.type===CKEDITOR.NODE_TEXT,a=n?i.startContainer.getLength():i.startContainer.getChildCount();n=i.startOffset===a||n^r}n&&(n=i.clone(),i.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!0}),t=!1,e(o,i,n),i.select(),t=!0)}}(),CKEDITOR.dom.comment=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createComment(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}}),function(){var e,t={},n={};for(e in CKEDITOR.dtd.$blockLimit)e in CKEDITOR.dtd.$list||(t[e]=1);for(e in CKEDITOR.dtd.$block)e in CKEDITOR.dtd.$blockLimit||e in CKEDITOR.dtd.$empty||(n[e]=1);CKEDITOR.dom.elementPath=function(e,i){var o,r=null,a=null,s=[],l=e;i=i||e.getDocument().getBody(),l||(l=i);do{if(l.type==CKEDITOR.NODE_ELEMENT){if(s.push(l),!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(i))break;if(!a&&(o=l.getName(),"true"==l.getAttribute("contenteditable")?a=l:!r&&n[o]&&(r=l),t[o])){if(o=!r&&"div"==o){e:{for(var c=0,u=(o=l.getChildren()).count();c<u;c++){var d=o.getItem(c);if(d.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[d.getName()]){o=!0;break e}}o=!1}o=!o}o?r=l:a=l}}}while(l=l.getParent());a||(a=i),this.block=r,this.blockLimit=a,this.root=i,this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(e){var t=this.elements;if(!(e=e&&e.elements)||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0},contains:function(e,t,n){var i,o=0;"string"==typeof e&&(i=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?i=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?i=function(t){return-1<CKEDITOR.tools.indexOf(e,t.getName())}:"function"==typeof e?i=e:"object"==typeof e&&(i=function(t){return t.getName()in e});var r=this.elements,a=r.length;for(t&&(n?o+=1:--a),n&&(r=Array.prototype.slice.call(r,0)).reverse();o<a;o++)if(i(r[o]))return r[o];return null},isContextFor:function(e){return!(e in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[e]},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createTextNode(e)),this.$=e},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(e){this.$.nodeValue=e},isEmpty:function(e){var t=this.getText();return e&&(t=CKEDITOR.tools.trim(t)),!t||t===CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE},split:function(e){var t=this.$.parentNode,n=t.childNodes.length,i=this.getLength(),o=this.getDocument(),r=new CKEDITOR.dom.text(this.$.splitText(e),o);return t.childNodes.length==n&&(e>=i?(r=o.createText("")).insertAfter(this):((e=o.createText("")).insertAfter(r),e.remove())),r},substring:function(e,t){return"number"!=typeof t?this.$.nodeValue.substr(e):this.$.nodeValue.substring(e,t)}}),function(){function e(e,t,n){var i=e.serializable,o=t[n?"endContainer":"startContainer"],r=n?"endOffset":"startOffset",a=i?t.document.getById(e.startNode):e.startNode;return e=i?t.document.getById(e.endNode):e.endNode,o.equals(a.getPrevious())?(t.startOffset=t.startOffset-o.getLength()-e.getPrevious().getLength(),o=e.getNext()):o.equals(e.getPrevious())&&(t.startOffset-=o.getLength(),o=e.getNext()),o.equals(a.getParent())&&t[r]++,o.equals(e.getParent())&&t[r]++,t[n?"endContainer":"startContainer"]=o,t}CKEDITOR.dom.rangeList=function(e){return e instanceof CKEDITOR.dom.rangeList?e:(e?e instanceof CKEDITOR.dom.range&&(e=[e]):e=[],CKEDITOR.tools.extend(e,t))};var t={createIterator:function(){var e,t=this,n=CKEDITOR.dom.walker.bookmark(),i=[];return{getNextRange:function(o){var r=t[e=void 0===e?0:e+1];if(r&&1<t.length){if(!e)for(var a=t.length-1;0<=a;a--)i.unshift(t[a].createBookmark(!0));if(o)for(var s=0;t[e+s+1];){var l=r.document;for(o=0,a=l.getById(i[s].endNode),l=l.getById(i[s+1].startNode);;){if(a=a.getNextSourceNode(!1),l.equals(a))o=1;else if(n(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())continue;break}if(!o)break;s++}for(r.moveToBookmark(i.shift());s--;)(a=t[++e]).moveToBookmark(i.shift()),r.setEnd(a.endContainer,a.endOffset)}return r}}},createBookmarks:function(t){for(var n,i=[],o=0;o<this.length;o++){i.push(n=this[o].createBookmark(t,!0));for(var r=o+1;r<this.length;r++)this[r]=e(n,this[r]),this[r]=e(n,this[r],!0)}return i},createBookmarks2:function(e){for(var t=[],n=0;n<this.length;n++)t.push(this[n].createBookmark2(e));return t},moveToBookmarks:function(e){for(var t=0;t<this.length;t++)this[t].moveToBookmark(e[t])}}}(),function(){function e(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function t(t){var n=CKEDITOR.skin["ua_"+t],i=CKEDITOR.env;if(n){n=n.split(",").sort((function(e,t){return e>t?-1:1}));for(var o,r=0;r<n.length;r++)if(o=n[r],i.ie&&(o.replace(/^ie/,"")==i.version||i.quirks&&"iequirks"==o)&&(o="ie"),i[o]){t+="_"+n[r];break}}return CKEDITOR.getUrl(e()+t+".css")}function n(e,n){r[e]||(CKEDITOR.document.appendStyleSheet(t(e)),r[e]=1),n&&n()}function i(e){var t=e.getById(a);return t||((t=e.getHead().append("style")).setAttribute("id",a),t.setAttribute("type","text/css")),t}function o(e,t,n){var i,o,r;if(CKEDITOR.env.webkit)for(t=t.split("}").slice(0,-1),o=0;o<t.length;o++)t[o]=t[o].split("{");for(var a=0;a<e.length;a++)if(CKEDITOR.env.webkit)for(o=0;o<t.length;o++){for(r=t[o][1],i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);e[a].$.sheet.addRule(t[o][0],r)}else{for(r=t,i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?e[a].$.styleSheet.cssText+=r:e[a].$.innerHTML+=r}}var r={};CKEDITOR.skin={path:e,loadPart:function(t,i){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e()+"skin.js"),(function(){n(t,i)})):n(t,i)},getPath:function(e){return CKEDITOR.getUrl(t(e))},icons:{},addIcon:function(e,t,n,i){e=e.toLowerCase(),this.icons[e]||(this.icons[e]={path:t,offset:n||0,bgsize:i||"16px"})},getIconStyle:function(e,t,n,i,o){var r;return e&&(e=e.toLowerCase(),t&&(r=this.icons[e+"-rtl"]),r||(r=this.icons[e])),e=n||r&&r.path||"",i=i||r&&r.offset,o=o||r&&r.bgsize||"16px",e&&(e=e.replace(/'/g,"\\'")),e&&"background-image:url('"+CKEDITOR.getUrl(e)+"');background-position:0 "+i+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(e){var t=i(CKEDITOR.document);return(this.setUiColor=function(e){this.uiColor=e;var n=CKEDITOR.skin.chameleon,i="",r="";"function"==typeof n&&(i=n(this,"editor"),r=n(this,"panel")),o([t],i,e=[[l,e]]),o(s,r,e)}).call(this,e)}});var a="cke_ui_color",s=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",(function(e){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var t=e.editor;e=function(e){if(!(e=(e.data[0]||e.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){var n=i(e);s.push(n),t.on("destroy",(function(){s=CKEDITOR.tools.array.filter(s,(function(e){return n!==e}))})),(e=t.getUiColor())&&o([n],CKEDITOR.skin.chameleon(t,"panel"),[[l,e]])}},t.on("panelShow",e),t.on("menuShow",e),t.config.uiColor&&t.setUiColor(t.config.uiColor)}}))}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var e=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);e.appendTo(CKEDITOR.document.getHead());try{var t=e.getComputedStyle("border-top-color"),n=e.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!t||t!=n)}catch(e){CKEDITOR.env.hc=!1}e.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),e=CKEDITOR._.pending)for(delete CKEDITOR._.pending,t=0;t<e.length;t++)CKEDITOR.editor.prototype.constructor.apply(e[t][0],e[t][1]),CKEDITOR.add(e[t][0])}(),CKEDITOR.skin.name="bootstrapck",CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8,opera",CKEDITOR.skin.chameleon=function(){var e=function(e,t){for(var n=e.match(/[^#]./g),i=0;3>i;i++){var o,r=n,a=i;o=parseInt(n[i],16),o=("0"+(0>t?0|o*(1+t):0|o+(255-o)*t).toString(16)).slice(-2),r[a]=o}return"#"+n.join("")},t=function(){var e=new CKEDITOR.template("background:#{to};background-image:-webkit-gradient(linear,lefttop,leftbottom,from({from}),to({to}));background-image:-moz-linear-gradient(top,{from},{to});background-image:-webkit-linear-gradient(top,{from},{to});background-image:-o-linear-gradient(top,{from},{to});background-image:-ms-linear-gradient(top,{from},{to});background-image:linear-gradient(top,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(t,n){return e.output({from:t,to:n})}}(),n={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(i,o){var r=i.uiColor;r={id:"."+i.id,defaultBorder:e(r,-.1),defaultGradient:t(e(r,.9),r),lightGradient:t(e(r,1),e(r,.7)),mediumGradient:t(e(r,.8),e(r,.5)),ckeButtonOn:t(e(r,.6),e(r,.7)),ckeResizer:e(r,-.4),ckeToolbarSeparator:e(r,.5),ckeColorauto:e(r,.8),dialogBody:e(r,.7),dialogTabSelected:t("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:e(r,-.6),elementsPathBg:r,menubuttonIcon:e(r,.5),menubuttonIconHover:e(r,.3)};return n[o].output(r).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var e=function(e){this._||(this._={}),this._.default=this._.initValue=e.default||"",this._.required=e.required||!1;for(var t=[this._],n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,t),this._},t={build:function(e,t,n){return new CKEDITOR.ui.dialog.textInput(e,t,n)}},n={build:function(e,t,n){return new CKEDITOR.ui.dialog[t.type](e,t,n)}},i={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(e){this.setValue(this.getInitValue(),e)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._.default},getInitValue:function(){return this._.initValue}},o=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(e,t){this._.domOnChangeRegistered||(e.on("load",(function(){this.getInputElement().on("change",(function(){e.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})}),this)}),this),this._.domOnChangeRegistered=!0),this.on("change",t)}},!0),r=/^on([A-Z]\w+)/,a=function(e){for(var t in e)(r.test(t)||"title"==t||"type"==t)&&delete e[t];return e},s=function(e){(e=e.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):e==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(t,n,i,o){if(!(4>arguments.length)){var r=e.call(this,n);r.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var a={role:n.role||"presentation"};n.includeLabel&&(a["aria-labelledby"]=r.labelId),CKEDITOR.ui.dialog.uiElement.call(this,t,n,i,"div",null,a,(function(){var e=[],i=n.required?" cke_required":"";return"horizontal"!=n.labelLayout?e.push('<label class="cke_dialog_ui_labeled_label'+i+'" ',' id="'+r.labelId+'"',r.inputId?' for="'+r.inputId+'"':"",(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",n.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',n.controlStyle?' style="'+n.controlStyle+'"':"",' role="presentation">',o.call(this,t,n),"</div>"):(i={type:"hbox",widths:n.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+i+'" id="'+r.labelId+'" for="'+r.inputId+'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(n.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(n.controlStyle?' style="'+n.controlStyle+'"':"")+">"+o.call(this,t,n)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(t,i,e)),e.join("")}))}},textInput:function(t,n,i){if(!(3>arguments.length)){e.call(this,n);var o=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",r={class:"cke_dialog_ui_input_"+n.type,id:o,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(r.maxlength=n.maxLength),n.size&&(r.size=n.size),n.inputStyle&&(r.style=n.inputStyle);var a=this,l=!1;t.on("load",(function(){a.getInputElement().on("keydown",(function(e){13==e.data.getKeystroke()&&(l=!0)})),a.getInputElement().on("keyup",(function(e){13==e.data.getKeystroke()&&l&&(t.getButton("ok")&&setTimeout((function(){t.getButton("ok").click()}),0),l=!1),a.bidi&&s.call(a,e)}),null,null,1e3)})),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){var e=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var t in n.width&&e.push('style="width:'+n.width+'" '),e.push("><input "),r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required),r)e.push(t+'="'+r[t]+'" ');return e.push(" /></div>"),e.join("")}))}},textarea:function(t,n,i){if(!(3>arguments.length)){e.call(this,n);var o=this,r=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",a={};n.validate&&(this.validate=n.validate),a.rows=n.rows||5,a.cols=n.cols||20,a.class="cke_dialog_ui_input_textarea "+(n.class||""),void 0!==n.inputStyle&&(a.style=n.inputStyle),n.dir&&(a.dir=n.dir),o.bidi&&t.on("load",(function(){o.getInputElement().on("keyup",s)}),o),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){a["aria-labelledby"]=this._.labelId,this._.required&&(a["aria-required"]=this._.required);var e,t=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',r,'" '];for(e in a)t.push(e+'="'+CKEDITOR.tools.htmlEncode(a[e])+'" ');return t.push(">",CKEDITOR.tools.htmlEncode(o._.default),"</textarea></div>"),t.join("")}))}},checkbox:function(t,n,i){if(!(3>arguments.length)){var o=e.call(this,n,{default:!!n.default});n.validate&&(this.validate=n.validate),CKEDITOR.ui.dialog.uiElement.call(this,t,n,i,"span",null,null,(function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),i=[],r=CKEDITOR.tools.getNextId()+"_label",s={class:"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":r};return a(e),n.default&&(s.checked="checked"),void 0!==e.inputStyle&&(e.style=e.inputStyle),o.checkbox=new CKEDITOR.ui.dialog.uiElement(t,e,i,"input",null,s),i.push(' <label id="',r,'" for="',s.id,'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(n.label),"</label>"),i.join("")}))}},radio:function(t,n,i){if(!(3>arguments.length)){e.call(this,n),this._.default||(this._.default=this._.initValue=n.items[0][1]),n.validate&&(this.validate=n.validate);var o=[],r=this;n.role="radiogroup",n.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){for(var e=[],i=[],s=(n.id?n.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<n.items.length;l++){var c=n.items[l],u=void 0!==c[2]?c[2]:c[0],d=void 0!==c[1]?c[1]:c[0],f=(h=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",h=CKEDITOR.tools.extend({},n,{id:h,title:null,type:null},!0),p=(u=CKEDITOR.tools.extend({},h,{title:u},!0),{type:"radio",class:"cke_dialog_ui_radio_input",name:s,value:d,"aria-labelledby":f}),m=[];r._.default==d&&(p.checked="checked"),a(h),a(u),void 0!==h.inputStyle&&(h.style=h.inputStyle),h.keyboardFocusable=!0,o.push(new CKEDITOR.ui.dialog.uiElement(t,h,m,"input",null,p)),m.push(" "),new CKEDITOR.ui.dialog.uiElement(t,u,m,"label",null,{id:f,for:p.id},c[0]),e.push(m.join(""))}return new CKEDITOR.ui.dialog.hbox(t,o,e,i),i.join("")})),this._.children=o}},button:function(t,n,i){if(arguments.length){"function"==typeof n&&(n=n(t.getParentEditor())),e.call(this,n,{disabled:n.disabled||!1}),CKEDITOR.event.implementOn(this);var o=this;t.on("load",(function(){var e=this.getElement();e.on("click",(function(e){o.click(),e.data.preventDefault()})),e.on("keydown",(function(e){e.data.getKeystroke()in{32:1}&&(o.click(),e.data.preventDefault())})),e.unselectable()}),this);var r=CKEDITOR.tools.extend({},n);delete r.style;var a=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,r,i,"a",null,{style:n.style,href:"javascript:void(0)",title:n.label,hidefocus:"true",class:n.class,role:"button","aria-labelledby":a},'<span id="'+a+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(n.label)+"</span>")}},select:function(t,n,i){if(!(3>arguments.length)){var o=e.call(this,n);n.validate&&(this.validate=n.validate),o.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),i=[],r=[],s={id:o.inputId,class:"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};i.push('<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'),n.width&&i.push('style="width:'+n.width+'" '),i.push(">"),void 0!==n.size&&(s.size=n.size),void 0!==n.multiple&&(s.multiple=n.multiple),a(e);for(var l,c=0;c<n.items.length&&(l=n.items[c]);c++)r.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(l[0]));return void 0!==e.inputStyle&&(e.style=e.inputStyle),o.select=new CKEDITOR.ui.dialog.uiElement(t,e,i,"select",null,s,r.join("")),i.push("</div>"),i.join("")}))}},file:function(t,n,i){if(!(3>arguments.length)){void 0===n.default&&(n.default="");var o=CKEDITOR.tools.extend(e.call(this,n),{definition:n,buttons:[]});n.validate&&(this.validate=n.validate),t.on("load",(function(){CKEDITOR.document.getById(o.frameId).getParent().addClass("cke_dialog_ui_input_file")})),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,i,(function(){o.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var e=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',o.frameId,'" title="',n.label,'" src="javascript:void('];return e.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),e.push(')"></iframe>'),e.join("")}))}},fileButton:function(t,n,i){var o=this;if(!(3>arguments.length)){e.call(this,n),n.validate&&(this.validate=n.validate);var r=CKEDITOR.tools.extend({},n),a=r.onClick;r.className=(r.className?r.className+" ":"")+"cke_dialog_ui_button",r.onClick=function(e){var i=n.for;!1!==(e=!!a&&a.call(this,e))&&("xhr"!==e&&t.getContentElement(i[0],i[1]).submit(),this.disable())},t.on("load",(function(){t.getContentElement(n.for[0],n.for[1])._.buttons.push(o)})),CKEDITOR.ui.dialog.button.call(this,t,r,i)}},html:function(){var e=/^\s*<[\w:]+\s+([^>]*)?>/,t=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,n=/\/$/;return function(i,o,r){if(!(3>arguments.length)){var a=[],s=o.html;"<"!=s.charAt(0)&&(s="<span>"+s+"</span>");var l=o.focus;if(l){var c=this.focus;this.focus=function(){("function"==typeof l?l:c).call(this),this.fire("focus")},o.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,i,o,a,"span",null,null,""),a=a.join("").match(e),s=s.match(t)||["","",""],n.test(s[1])&&(s[1]=s[1].slice(0,-1),s[2]="/"+s[2]),r.push([s[1]," ",a[1]||"",s[2]].join(""))}}}(),fieldset:function(e,t,n,i,o){var r=o.label;this._={children:t},CKEDITOR.ui.dialog.uiElement.call(this,e,o,i,"fieldset",null,null,(function(){var e=[];r&&e.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+r+"</legend>");for(var t=0;t<n.length;t++)e.push(n[t]);return e.join("")}))}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(e){var t=CKEDITOR.document.getById(this._.labelId);return 1>t.getChildCount()?new CKEDITOR.dom.text(e,CKEDITOR.document).appendTo(t):t.getChild(0).$.nodeValue=e,this},getLabel:function(){var e=CKEDITOR.document.getById(this._.labelId);return!e||1>e.getChildCount()?"":e.getChild(0).getText()},eventProcessors:o},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var e=this.getElement();e&&e.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(e,t){this.on("click",(function(){t.apply(this,arguments)}))}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout((function(){var t=e.getInputElement();t&&t.$.focus()}),0)},select:function(){var e=this.selectParentTab();setTimeout((function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())}),0)},accessKeyUp:function(){this.select()},setValue:function(e){if(this.bidi){var t=e&&e.charAt(0);(t="âª"==t?"ltr":"â«"==t?"rtl":null)&&(e=e.slice(1)),this.setDirectionMarker(t)}return e||(e=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var e=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&e){var t=this.getDirectionMarker();t&&(e=("ltr"==t?"âª":"â«")+e)}return e},setDirectionMarker:function(e){var t=this.getInputElement();e?t.setAttributes({dir:e,"data-cke-dir-marker":e}):this.getDirectionMarker()&&t.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(e,t,n){var i=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return i.$.text=e,i.$.value=null==t?e:t,null==n?CKEDITOR.env.ie?o.add(i.$):o.add(i.$,null):o.add(i.$,n),this},remove:function(e){return this.getInputElement().$.remove(e),this},clear:function(){for(var e=this.getInputElement().$;0<e.length;)e.remove(0);return this},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(e,t){this.getInputElement().$.checked=e,!t&&this.fire("change",{value:e})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?o.onChange.apply(this,arguments):(e.on("load",(function(){var e=this._.checkbox.getElement();e.on("propertychange",(function(t){"checked"==(t=t.data.$).propertyName&&this.fire("change",{value:e.$.checked})}),this)}),this),this.on("change",t),null)}},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(e,t){for(var n,i=this._.children,o=0;o<i.length&&(n=i[o]);o++)n.getElement().$.checked=n.getValue()==e;!t&&this.fire("change",{value:e})},getValue:function(){for(var e=this._.children,t=0;t<e.length;t++)if(e[t].getElement().$.checked)return e[t].getValue();return null},accessKeyUp:function(){var e,t=this._.children;for(e=0;e<t.length;e++)if(t[e].getElement().$.checked)return void t[e].getElement().focus();t[0].getElement().focus()},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?o.onChange.apply(this,arguments):(e.on("load",(function(){for(var e=this._.children,t=this,n=0;n<e.length;n++)e[n].getElement().on("propertychange",(function(e){"checked"==(e=e.data.$).propertyName&&this.$.checked&&t.fire("change",{value:this.getAttribute("value")})}))}),this),this.on("change",t),null)}}},i,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,i,{getInputElement:function(){var e=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<e.$.forms.length?new CKEDITOR.dom.element(e.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(e){var t,n,i=/^on([A-Z]\w+)/,o=function(e,t,n,i){e.on("formLoaded",(function(){e.getInputElement().on(n,i,e)}))};for(n in e)(t=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):o(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},reset:function(){function e(){n.$.open();var e="";i.size&&(e=i.size-(CKEDITOR.env.ie?7:0));var c=t.frameId+"_input";for(n.$.write(['<html dir="'+s+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+s+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(i.action),'"><label id="',t.labelId,'" for="',c,'" style="display:none">',CKEDITOR.tools.htmlEncode(i.label),'</label><input style="width:100%" id="',c,'" aria-labelledby="',t.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(i.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<e?e:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+r+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+a+")}","<\/script>"].join("")),n.$.close(),e=0;e<o.length;e++)o[e].enable()}var t=this._,n=CKEDITOR.document.getById(t.frameId).getFrameDocument(),i=t.definition,o=t.buttons,r=this.formLoadedNumber,a=this.formUnloadNumber,s=t.dialog._.editor.lang.dir,l=t.dialog._.editor.langCode;r||(r=this.formLoadedNumber=CKEDITOR.tools.addFunction((function(){this.fire("formLoaded")}),this),a=this.formUnloadNumber=CKEDITOR.tools.addFunction((function(){this.getInputElement().clearCustomData()}),this),this.getDialog()._.editor.on("destroy",(function(){CKEDITOR.tools.removeFunction(r),CKEDITOR.tools.removeFunction(a)}))),CKEDITOR.env.gecko?setTimeout(e,500):e()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(e,t){this._.domOnChangeRegistered||(this.on("formLoaded",(function(){this.getInputElement().on("change",(function(){this.fire("change",{value:this.getValue()})}),this)}),this),this._.domOnChangeRegistered=!0),this.on("change",t)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("tel",t),CKEDITOR.dialog.addUIElement("textarea",n),CKEDITOR.dialog.addUIElement("checkbox",n),CKEDITOR.dialog.addUIElement("radio",n),CKEDITOR.dialog.addUIElement("button",n),CKEDITOR.dialog.addUIElement("select",n),CKEDITOR.dialog.addUIElement("file",n),CKEDITOR.dialog.addUIElement("fileButton",n),CKEDITOR.dialog.addUIElement("html",n),CKEDITOR.dialog.addUIElement("fieldset",{build:function(e,t,n){for(var i,o=t.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(e,i,l))}return new CKEDITOR.ui.dialog[t.type](e,a,r,n,t)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function e(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+e,n=t-1;n>t-e;n--)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function t(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=t+1;n<t+e;n++)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function n(e,t){for(var n=e.$.getElementsByTagName("input"),i=0,o=n.length;i<o;i++){var r=new CKEDITOR.dom.element(n[i]);"text"==r.getAttribute("type").toLowerCase()&&(t?(r.setAttribute("value",r.getCustomData("fake_value")||""),r.removeCustomData("fake_value")):(r.setCustomData("fake_value",r.getAttribute("value")),r.setAttribute("value","")))}}function i(e,t){var n=this.getInputElement();n&&(e?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),e||(this.select?this.select():this.focus()),t&&alert(t),this.fire("validated",{valid:e,msg:t})}function o(){var e=this.getInputElement();e&&e.removeAttribute("aria-invalid")}function r(e,t,n){this.element=t,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!t.getAttribute("disabled")&&t.isVisible()},this.focus=function(){e._.currentFocusIndex=this.focusIndex,this.element.focus()},t.on("keydown",(function(e){e.data.getKeystroke()in{32:1,13:1}&&this.fire("click")})),t.on("focus",(function(){this.fire("mouseover")})),t.on("blur",(function(){this.fire("mouseout")}))}function a(e,t){this._={dialog:e},CKEDITOR.tools.extend(this,t)}function s(e,t,n){var i=e.parts.dialog.getParent().getClientSize(),o=e.getSize(),r=e._.viewportRatio,a=Math.max(i.width-o.width,0);i=Math.max(i.height-o.height,0);r.width=a?t/a:r.width,r.height=i?n/i:r.height,e._.viewportRatio=r}function l(e){e.data.preventDefault(1)}function c(e){var t=e.config,n=CKEDITOR.skinName||e.config.skin,i=t.dialog_backgroundCoverColor||("moono-lisa"==n?"black":"white"),o=(n=t.dialog_backgroundCoverOpacity,t.baseFloatZIndex),r=(t=CKEDITOR.tools.genKey(i,n,o),b[t]);CKEDITOR.document.getBody().addClass("cke_dialog_open"),r?r.show():(o=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",o,"; top: 0px; left: 0px; ","; width: 100%; height: 100%;",CKEDITOR.env.ie6Compat?"":"background-color: "+i,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(i="<html><body style=\\'background-color:"+i+";\\'></body></html>",o.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),o.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+i+"' );document.close();")+"})())"),o.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),o.push("</div>"),(r=CKEDITOR.dom.element.createFromHtml(o.join(""))).setOpacity(void 0!==n?n:.5),r.on("keydown",l),r.on("keypress",l),r.on("keyup",l),r.appendTo(CKEDITOR.document.getBody()),b[t]=r),e.focusManager.add(r),T=r,CKEDITOR.env.mac&&CKEDITOR.env.webkit||r.focus()}function u(e){CKEDITOR.document.getBody().removeClass("cke_dialog_open"),T&&(e.focusManager.remove(T),T.hide())}var d=CKEDITOR.tools.cssLength,f=!CKEDITOR.env.ie||CKEDITOR.env.edge,h='<div class="cke_reset_all cke_dialog_container {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" style="'+(f?"display:flex":"")+'" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="'+(f?"margin:auto":"position:absolute")+'" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(n,r){function a(e){var t=y._.focusList;if(e=e||0,!(1>t.length)){var n=y._.currentFocusIndex;y._.tabBarMode&&0>e&&(n=0);try{t[n].getInputElement().$.blur()}catch(e){}var i=n,o=1<y._.pageCount;do{if(i+=e,o&&!y._.tabBarMode&&(i==t.length||-1==i))return y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),void(y._.currentFocusIndex=-1);if((i=(i+t.length)%t.length)==n)break}while(e&&!t[i].isFocusable());t[i].focus(),"text"==t[i].type&&t[i].select()}}function l(i){if(y==CKEDITOR.dialog._.currentTop){var o=i.data.getKeystroke(),r="rtl"==n.lang.dir;if(u=d=0,9==o||o==CKEDITOR.SHIFT+9)a(o==CKEDITOR.SHIFT+9?-1:1),u=1;else if(o==CKEDITOR.ALT+121&&!y._.tabBarMode&&1<y.getPageCount())y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1,u=1;else if(-1!=CKEDITOR.tools.indexOf([37,38,39,40],o)&&y._.tabBarMode)o=-1!=CKEDITOR.tools.indexOf([r?39:37,38],o)?e.call(y):t.call(y),y.selectPage(o),y._.tabs[o][0].focus(),u=1;else if(13!=o&&32!=o||!y._.tabBarMode)if(13==o)(o=i.data.getTarget()).is("a","button","select","textarea")||o.is("input")&&"button"==o.$.type||((o=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(o.click,0,o),u=1),d=1;else{if(27!=o)return;(o=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(o.click,0,o):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),d=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,a(1),u=1;c(i)}}function c(e){u?e.data.preventDefault(1):d&&e.data.stopPropagation()}var u,d,f=CKEDITOR.dialog._.dialogDefinitions[r],m=CKEDITOR.tools.clone(p),g=n.config.dialog_buttonsOrder||"OS",E=n.lang.dir,b={};if(("OS"==g&&CKEDITOR.env.mac||"rtl"==g&&"ltr"==E||"ltr"==g&&"rtl"==E)&&m.buttons.reverse(),f=CKEDITOR.tools.extend(f(n),m),f=CKEDITOR.tools.clone(f),f=new v(this,f),m=function(e){var t=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",h).output({id:CKEDITOR.tools.getNextNumber(),editorId:e.id,langDir:e.lang.dir,langCode:e.langCode,editorDialogClass:"cke_editor_"+e.name.replace(/\./g,"\\.")+"_dialog",closeTitle:e.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=t.getChild([0,0,0,0,0]),i=n.getChild(0),o=n.getChild(1);return e.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(e="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+e+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),i.unselectable(),o.unselectable(),{element:t,parts:{dialog:t.getChild(0),title:i,close:o,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}(n),this._={editor:n,element:m.element,name:r,model:null,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},viewportRatio:{width:.5,height:.5},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=m.parts,CKEDITOR.tools.setTimeout((function(){n.fire("ariaWidget",this.parts.contents)}),0,this),m={top:0,visibility:"hidden"},CKEDITOR.env.ie6Compat&&(m.position="absolute"),m["rtl"==E?"right":"left"]=0,this.parts.dialog.setStyles(m),CKEDITOR.event.call(this),this.definition=f=CKEDITOR.fire("dialogDefinition",{name:r,definition:f,dialog:this},n).definition,!("removeDialogTabs"in n._)&&n.config.removeDialogTabs){for(m=n.config.removeDialogTabs.split(";"),E=0;E<m.length;E++)if(2==(g=m[E].split(":")).length){var C=g[0];b[C]||(b[C]=[]),b[C].push(g[1])}n._.removeDialogTabs=b}if(n._.removeDialogTabs&&(b=n._.removeDialogTabs[r]))for(E=0;E<b.length;E++)f.removeContents(b[E]);f.onLoad&&this.on("load",f.onLoad),f.onShow&&this.on("show",f.onShow),f.onHide&&this.on("hide",f.onHide),f.onOk&&this.on("ok",(function(e){n.fire("saveSnapshot"),setTimeout((function(){n.fire("saveSnapshot")}),0),!1===f.onOk.call(this,e)&&(e.data.hide=!1)})),this.state=CKEDITOR.DIALOG_STATE_IDLE,f.onCancel&&this.on("cancel",(function(e){!1===f.onCancel.call(this,e)&&(e.data.hide=!1)}));var y=this,I=function(e){var t,n=y._.contents;for(t in n)for(var i in n[t])if(e.call(this,n[t][i]))return};this.on("ok",(function(e){I((function(t){if(t.validate){var n=t.validate(this),o="string"==typeof n||!1===n;return o&&(e.data.hide=!1,e.stop()),i.call(t,!o,"string"==typeof n?n:void 0),o}}))}),this,null,0),this.on("cancel",(function(e){I((function(t){if(t.isChanged())return n.config.dialog_noConfirmCancel||confirm(n.lang.common.confirmCancel)||(e.data.hide=!1),!0}))}),this,null,0),this.parts.close.on("click",(function(e){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),e.data.preventDefault()}),this),this.changeFocus=a;var O=this._.element;for(n.focusManager.add(O,1),this.on("show",(function(){O.on("keydown",l,this),CKEDITOR.env.gecko&&O.on("keypress",c,this)})),this.on("hide",(function(){O.removeListener("keydown",l),CKEDITOR.env.gecko&&O.removeListener("keypress",c),I((function(e){o.apply(e)}))})),this.on("iframeAdded",(function(e){new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown",l,this,null,0)})),this.on("show",(function(){!function(){var e=y._.focusList;e.sort((function(e,t){return e.tabIndex!=t.tabIndex?t.tabIndex-e.tabIndex:e.focusIndex-t.focusIndex}));for(var t=e.length,n=0;n<t;n++)e[n].focusIndex=n}();var e=1<y._.pageCount;n.config.dialog_startupFocusTab&&e?(y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=e?-1:this._.focusList.length-1,f.onFocus?(e=f.onFocus.call(this))&&e.focus():a(1))}),this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",(function(){var e=this.getElement(),t=e.getFirst();t.remove(),t.appendTo(e)}),this),function(e){function t(t){var n=e.getSize(),l=e.parts.dialog.getParent().getClientSize(),c=t.data.$.screenX,u=t.data.$.screenY,d=c-i.x,f=u-i.y;i={x:c,y:u},o.x+=d,o.y+=f,c=o.x+s[3]<a?-s[3]:o.x-s[1]>l.width-n.width-a?l.width-n.width+("rtl"==r.lang.dir?0:s[1]):o.x,n=o.y+s[0]<a?-s[0]:o.y-s[2]>l.height-n.height-a?l.height-n.height+s[2]:o.y,c=Math.floor(c),n=Math.floor(n),e.move(c,n,1),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mousemove",t),e.removeListener("mouseup",n)}}var i=null,o=null,r=e.getParentEditor(),a=r.config.dialog_magnetDistance,s=CKEDITOR.skin.margins||[0,0,0,0];void 0===a&&(a=20),e.parts.title.on("mousedown",(function(r){if(!e._.moved){var a=e._.element;a.getFirst().setStyle("position","absolute"),a.removeStyle("display"),e._.moved=!0,e.layout()}i={x:r.data.$.screenX,y:r.data.$.screenY},CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),o=e.getPosition(),CKEDITOR.env.ie6Compat&&((a=T.getChild(0).getFrameDocument()).on("mousemove",t),a.on("mouseup",n)),r.data.preventDefault()}),e)}(this),function(e){function t(t){var n="rtl"==f.lang.dir,d=u.width,h=u.height,p=d+(t.data.$.screenX-c.x)*(n?-1:1)*(e._.moved?1:2),m=h+(t.data.$.screenY-c.y)*(e._.moved?1:2),g=e._.element.getFirst(),E=(g=n&&parseInt(g.getComputedStyle("right")),e.getPosition());E.x=E.x||0,E.y=E.y||0,E.y+m>l.height&&(m=l.height-E.y),(n?g:E.x)+p>l.width&&(p=l.width-(n?g:E.x)),m=Math.floor(m),p=Math.floor(p),o!=CKEDITOR.DIALOG_RESIZE_WIDTH&&o!=CKEDITOR.DIALOG_RESIZE_BOTH||(d=Math.max(i.minWidth||0,p-r)),o!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&o!=CKEDITOR.DIALOG_RESIZE_BOTH||(h=Math.max(i.minHeight||0,m-a)),e.resize(d,h),e._.moved&&s(e,e._.position.x,e._.position.y),e._.moved||e.layout(),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.document.removeListener("mousemove",t),d&&(d.remove(),d=null),CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mouseup",n),e.removeListener("mousemove",t)}}var i=e.definition,o=i.resizable;if(o!=CKEDITOR.DIALOG_RESIZE_NONE){var r,a,l,c,u,d,f=e.getParentEditor(),h=CKEDITOR.tools.addFunction((function(i){function o(e){return e.isVisible()}u=e.getSize();var s=e.parts.contents,f=s.$.getElementsByTagName("iframe").length,h=!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks);f&&(d=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%; left:0; top:0;"></div>'),s.append(d)),a=u.height-e.parts.contents.getFirst(o).getSize("height",h),r=u.width-e.parts.contents.getFirst(o).getSize("width",1),c={x:i.screenX,y:i.screenY},l=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),CKEDITOR.env.ie6Compat&&((s=T.getChild(0).getFrameDocument()).on("mousemove",t),s.on("mouseup",n)),i.preventDefault&&i.preventDefault()}));e.on("load",(function(){var t="";o==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":o==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+f.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(f.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event )">'+("ltr"==f.lang.dir?"â¢":"â£")+"</div>"),e.parts.footer.append(t,1)})),f.on("destroy",(function(){CKEDITOR.tools.removeFunction(h)}))}}(this),new CKEDITOR.dom.text(f.title,CKEDITOR.document).appendTo(this.parts.title),E=0;E<f.contents.length;E++)(b=f.contents[E])&&this.addPage(b);for(this.parts.tabs.on("click",(function(e){var t=e.data.getTarget();t.hasClass("cke_dialog_tab")&&(t=t.$.id,this.selectPage(t.substring(4,t.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,a(1)),e.data.preventDefault())}),this),E=[],b=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:f.buttons},E).getChild(),this.parts.footer.setHtml(E.join("")),E=0;E<b.length;E++)this._.buttons[b[E].id]=b[E]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(e,t){if(!this._.contentSize||this._.contentSize.width!=e||this._.contentSize.height!=t){if(CKEDITOR.dialog.fire("resize",{dialog:this,width:e,height:t},this._.editor),this.fire("resize",{width:e,height:t},this._.editor),this.parts.contents.setStyles({width:e+"px",height:t+"px"}),"rtl"==this._.editor.lang.dir&&this._.position){var n=this.parts.dialog.getParent().getClientSize().width;this._.position.x=n-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)}this._.contentSize={width:e,height:t}}},getSize:function(){var e=this._.element.getFirst();return{width:e.$.offsetWidth||0,height:e.$.offsetHeight||0}},move:function(e,t,n){var i=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir;CKEDITOR.env.ie&&i.setStyle("zoom","100%");var r=this.parts.dialog.getParent().getClientSize(),a=this.getSize(),l=this._.viewportRatio,c=Math.max(r.width-a.width,0);r=Math.max(r.height-a.height,0);this._.position&&this._.position.x==e&&this._.position.y==t?(e=Math.floor(c*l.width),t=Math.floor(r*l.height)):s(this,e,t),this._.position={x:e,y:t},o&&(e=c-e),(t={top:(0<t?t:0)+"px"})[o?"right":"left"]=(0<e?e:0)+"px",i.setStyles(t),n&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var e=this._.element,t=this.definition;for(var n in e.getParent()&&e.getParent().equals(CKEDITOR.document.getBody())?e.setStyle("display",f?"flex":"block"):e.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||t.width||t.minWidth,this._.contentSize&&this._.contentSize.height||t.height||t.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,c(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),e.on("keydown",y),e.on("keyup",I),this._.hasFocus=!1,t.contents)if(t.contents[n]){e=t.contents[n];var i=this._.tabs[e.id],o=e.requiredContent,r=0;if(i){for(var a in this._.contents[e.id]){var s=this._.contents[e.id][a];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),r++))}!r||o&&!this._.editor.activeFilter.check(o)?i[0].addClass("cke_dialog_tab_disabled"):i[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout((function(){this.layout(),function(e){function t(){e.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",t),e.on("hide",(function(){n.removeListener("resize",t)}))}(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach((function(e){e.setInitValue&&e.setInitValue()}))}),100,this)},layout:function(){var e=this.parts.dialog;if(this._.moved||!f){var t,n=this.getSize(),i=CKEDITOR.document.getWindow().getViewPaneSize();this._.moved&&this._.position?(t=this._.position.x,n=this._.position.y):(t=(i.width-n.width)/2,n=(i.height-n.height)/2),CKEDITOR.env.ie6Compat||(e.setStyle("position","absolute"),e.removeStyle("margin")),t=Math.floor(t),n=Math.floor(n),this.move(t,n)}},foreach:function(e){for(var t in this._.contents)for(var n in this._.contents[t])e.call(this,this._.contents[t][n]);return this},reset:function(){var e=function(e){e.reset&&e.reset(1)};return function(){return this.foreach(e),this}}(),setupContent:function(){var e=arguments;this.foreach((function(t){t.setup&&t.setup.apply(t,e)}))},commitContent:function(){var e=arguments;this.foreach((function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)}))},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var e=this._.element;for(e.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),D(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var t=this._.parentDialog.getElement().getFirst();t.setStyle("z-index",parseInt(t.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else u(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,e.removeListener("keydown",y),e.removeListener("keyup",I);var n=this._.editor;n.focus(),setTimeout((function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()}),0)}delete this._.parentDialog,this.foreach((function(e){e.resetInitValue&&e.resetInitValue()})),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(e){if(!e.requiredContent||this._.editor.filter.check(e.requiredContent)){for(var t=[],n=e.label?' title="'+CKEDITOR.tools.htmlEncode(e.label)+'"':"",i=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:e.elements,expand:!!e.expand,padding:e.padding,style:e.style||"width: 100%;"},t),o=this._.contents[e.id]={},r=i.getChild(),a=0;i=r.shift();)i.notAllowed||"hbox"==i.type||"vbox"==i.type||a++,o[i.id]=i,"function"==typeof i.getChild&&r.push.apply(r,i.getChild());a||(e.hidden=!0),(t=CKEDITOR.dom.element.createFromHtml(t.join(""))).setAttribute("role","tabpanel"),t.setStyle("min-height","100%"),i=CKEDITOR.env,o="cke_"+e.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,e.hidden?' style="display:none"':"",' id="',o,'"',i.gecko&&!i.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',e.label,"</a>"].join("")),t.setAttribute("aria-labelledby",o),this._.tabs[e.id]=[n,t],this._.tabIdList.push(e.id),!e.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),t.setAttribute("name",e.id),t.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),e.accessKey&&(O(this,this,"CTRL+"+e.accessKey,_,R),this._.accessKeyMap["CTRL+"+e.accessKey]=e.id)}},selectPage:function(e){if(this._.currentTabId!=e&&!this._.tabs[e][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:e,currentPage:this._.currentTabId})){for(var t in this._.tabs){var i=this._.tabs[t][0],o=this._.tabs[t][1];t!=e&&(i.removeClass("cke_dialog_tab_selected"),o.hide()),o.setAttribute("aria-hidden",t!=e)}var r=this._.tabs[e];r[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(n(r[1]),r[1].show(),setTimeout((function(){n(r[1],1)}),0)):r[1].show(),this._.currentTabId=e,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,e)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var n=this._.tabs[t]&&this._.tabs[t][0];n&&1!=this._.pageCount&&n.isVisible()&&(t==this._.currentTabId&&this.selectPage(e.call(this)),n.hide(),this._.pageCount--,this.updateStyle())},showPage:function(e){(e=this._.tabs[e]&&this._.tabs[e][0])&&(e.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(e,t){var n=this._.contents[e];return n&&n[t]},getValueOf:function(e,t){return this.getContentElement(e,t).getValue()},setValueOf:function(e,t,n){return this.getContentElement(e,t).setValue(n)},getButton:function(e){return this._.buttons[e]},click:function(e){return this._.buttons[e].click()},disableButton:function(e){return this._.buttons[e].disable()},enableButton:function(e){return this._.buttons[e].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(e,t){if(void 0===t)t=this._.focusList.length,this._.focusList.push(new r(this,e,t));else{this._.focusList.splice(t,0,new r(this,e,t));for(var n=t+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(e){if(this.state!=e){if(this.state=e,e==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var t=this.getParentEditor().lang.dir,n={attributes:{class:"cke_dialog_spinner"},styles:{float:"rtl"==t?"right":"left"}};n.styles["margin-"+("rtl"==t?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else e==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",e)}},getModel:function(e){return this._.model?this._.model:this.definition.getModel?this.definition.getModel(e):null},setModel:function(e){this._.model=e},getMode:function(e){return this.definition.getMode?this.definition.getMode(e):!(e=this.getModel(e))||e instanceof CKEDITOR.dom.element&&!e.getParent()?CKEDITOR.dialog.CREATION_MODE:CKEDITOR.dialog.EDITING_MODE}},CKEDITOR.tools.extend(CKEDITOR.dialog,{CREATION_MODE:0,EDITING_MODE:1,add:function(e,t){this._.dialogDefinitions[e]&&"function"!=typeof t||(this._.dialogDefinitions[e]=t)},exists:function(e){return!!this._.dialogDefinitions[e]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(e,t,n){return!((e=e.config.removeDialogTabs)&&e.match(new RegExp("(?:^|;)"+t+":"+n+"(?:$|;)","i")))},okButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:e.lang.common.ok,class:"cke_dialog_ui_button_ok",onClick:function(e){!1!==(e=e.data.dialog).fire("ok",{hide:!0}).hide&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend((function(n){return e(n,t)}),{type:"button"},!0)},e}(),cancelButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:e.lang.common.cancel,class:"cke_dialog_ui_button_cancel",onClick:function(e){!1!==(e=e.data.dialog).fire("cancel",{hide:!0}).hide&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend((function(n){return e(n,t)}),{type:"button"},!0)},e}(),addUIElement:function(e,t){this._.uiElementBuilders[e]=t}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var p={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},m=function(e,t,n){for(var i,o=0;i=e[o];o++)if(i.id==t||n&&i[n]&&(i=m(i[n],t,n)))return i;return null},g=function(e,t,n,i,o){if(n){for(var r,a=0;r=e[a];a++){if(r.id==n)return e.splice(a,0,t),t;if(i&&r[i]&&(r=g(r[i],t,n,i,!0)))return r}if(o)return null}return e.push(t),t},E=function(e,t,n){for(var i,o=0;i=e[o];o++){if(i.id==t)return e.splice(o,1);if(n&&i[n]&&(i=E(i[n],t,n)))return i}return null},v=function(e,t){this.dialog=e;for(var n,i=t.contents,o=0;n=i[o];o++)i[o]=n&&new a(e,n);CKEDITOR.tools.extend(this,t)};v.prototype={getContents:function(e){return m(this.contents,e)},getButton:function(e){return m(this.buttons,e)},addContents:function(e,t){return g(this.contents,e,t)},addButton:function(e,t){return g(this.buttons,e,t)},removeContents:function(e){E(this.contents,e)},removeButton:function(e){E(this.buttons,e)}},a.prototype={get:function(e){return m(this.elements,e,"children")},add:function(e,t){return g(this.elements,e,t,"children")},remove:function(e){E(this.elements,e,"children")}};var T,b={},C={},y=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,i=e.data.$.shiftKey,o=String.fromCharCode(e.data.$.keyCode);(t=C[(t?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&t.length&&((t=t[t.length-1]).keydown&&t.keydown.call(t.uiElement,t.dialog,t.key),e.data.preventDefault())},I=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,i=e.data.$.shiftKey,o=String.fromCharCode(e.data.$.keyCode);(t=C[(t?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&t.length&&((t=t[t.length-1]).keyup&&(t.keyup.call(t.uiElement,t.dialog,t.key),e.data.preventDefault()))},O=function(e,t,n,i,o){(C[n]||(C[n]=[])).push({uiElement:e,dialog:t,key:n,keyup:o||e.accessKeyUp,keydown:i||e.accessKeyDown})},D=function(e){for(var t in C){for(var n=C[t],i=n.length-1;0<=i;i--)n[i].dialog!=e&&n[i].uiElement!=e||n.splice(i,1);0===n.length&&delete C[t]}},R=function(e,t){e._.accessKeyMap[t]&&e.selectPage(e._.accessKeyMap[t])},_=function(){};CKEDITOR.ui.dialog={uiElement:function(e,t,n,i,o,r,a){if(!(4>arguments.length)){var s=(i.call?i(t):i)||"div",l=["<",s," "],c=(o&&o.call?o(t):o)||{},u=(r&&r.call?r(t):r)||{},d=(a&&a.call?a.call(this,e,t):a)||"",f=this.domId=u.id||CKEDITOR.tools.getNextId()+"_uiElement";t.requiredContent&&!e.getParentEditor().filter.check(t.requiredContent)&&(c.display="none",this.notAllowed=!0),u.id=f;var h={};t.type&&(h["cke_dialog_ui_"+t.type]=1),t.className&&(h[t.className]=1),t.disabled&&(h.cke_disabled=1);var p=u.class&&u.class.split?u.class.split(" "):[];for(f=0;f<p.length;f++)p[f]&&(h[p[f]]=1);for(f in p=[],h)p.push(f);for(f in u.class=p.join(" "),t.title&&(u.title=t.title),h=(t.style||"").split(";"),t.align&&(p=t.align,c["margin-left"]="left"==p?0:"auto",c["margin-right"]="right"==p?0:"auto"),c)h.push(f+":"+c[f]);for(t.hidden&&h.push("display:none"),f=h.length-1;0<=f;f--)""===h[f]&&h.splice(f,1);for(f in 0<h.length&&(u.style=(u.style?u.style+"; ":"")+h.join("; ")),u)l.push(f+'="'+CKEDITOR.tools.htmlEncode(u[f])+'" ');l.push(">",d,"</",s,">"),n.push(l.join("")),(this._||(this._={})).dialog=e,"boolean"==typeof t.isChanged&&(this.isChanged=function(){return t.isChanged}),"function"==typeof t.isChanged&&(this.isChanged=t.isChanged),"function"==typeof t.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,(function(e){return function(n){e.call(this,t.setValue.call(this,n))}}))),"function"==typeof t.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,(function(e){return function(){return t.getValue.call(this,e.call(this))}}))),CKEDITOR.event.implementOn(this),this.registerEvents(t),this.accessKeyUp&&this.accessKeyDown&&t.accessKey&&O(this,e,"CTRL+"+t.accessKey);var m=this;e.on("load",(function(){var t=m.getInputElement();if(t){var n=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";t.on("focus",(function(){e._.tabBarMode=!1,e._.hasFocus=!0,m.fire("focus"),n&&this.addClass(n)})),t.on("blur",(function(){m.fire("blur"),n&&this.removeClass(n)}))}})),CKEDITOR.tools.extend(this,t),this.keyboardFocusable&&(this.tabIndex=t.tabIndex||0,this.focusIndex=e._.focusList.push(this)-1,this.on("focus",(function(){e._.currentFocusIndex=m.focusIndex})))}},hbox:function(e,t,n,i,o){if(!(4>arguments.length)){this._||(this._={});var r,a=this._.children=t,s=o&&o.widths||null,l=o&&o.height||null,c={role:"presentation"};o&&o.align&&(c.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,e,o||{type:"hbox"},i,"table",{},c,(function(){var e=['<tbody><tr class="cke_dialog_ui_hbox">'];for(r=0;r<n.length;r++){var t="cke_dialog_ui_hbox_child",i=[];0===r&&(t="cke_dialog_ui_hbox_first"),r==n.length-1&&(t="cke_dialog_ui_hbox_last"),e.push('<td class="',t,'" role="presentation" '),s?s[r]&&i.push("width:"+d(s[r])):i.push("width:"+Math.floor(100/n.length)+"%"),l&&i.push("height:"+d(l)),o&&void 0!==o.padding&&i.push("padding:"+d(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[r].align&&i.push("text-align:"+a[r].align),0<i.length&&e.push('style="'+i.join("; ")+'" '),e.push(">",n[r],"</td>")}return e.push("</tr></tbody>"),e.join("")}))}},vbox:function(e,t,n,i,o){if(!(3>arguments.length)){this._||(this._={});var r=this._.children=t,a=o&&o.width||null,s=o&&o.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,e,o||{type:"vbox"},i,"div",null,{role:"presentation"},(function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),o&&o.expand&&t.push("height:100%;"),t.push("width:"+d(a||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(o&&o.align||("ltr"==e.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var i=0;i<n.length;i++){var l=[];t.push('<tr><td role="presentation" '),a&&l.push("width:"+d(a||"100%")),s?l.push("height:"+d(s[i])):o&&o.expand&&l.push("height:"+Math.floor(100/n.length)+"%"),o&&void 0!==o.padding&&l.push("padding:"+d(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r[i].align&&l.push("text-align:"+r[i].align),0<l.length&&t.push('style="',l.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',n[i],"</td></tr>")}return t.push("</tbody></table>"),t.join("")}))}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(e,t){return this.getInputElement().setValue(e),!t&&this.fire("change",{value:e}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var e=this.getInputElement();(e=e.getParent())&&-1==e.$.className.search("cke_dialog_page_contents"););return e?(e=e.getAttribute("name"),this._.dialog._.currentTabId!=e&&this._.dialog.selectPage(e),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(e){var t,n,i=/^on([A-Z]\w+)/,o=function(e,t,n,i){t.on("load",(function(){e.getInputElement().on(n,i,e)}))};for(n in e)(t=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):o(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},eventProcessors:{onLoad:function(e,t){e.on("load",t,this)},onShow:function(e,t){e.on("show",t,this)},onHide:function(e,t){e.on("hide",t,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var e=this.getElement();this.getInputElement().setAttribute("disabled","true"),e.addClass("cke_disabled")},enable:function(){var e=this.getElement();this.getInputElement().removeAttribute("disabled"),e.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(e){return 1>arguments.length?this._.children.concat():(e.splice||(e=[e]),2>e.length?this._.children[e[0]]:this._.children[e[0]]&&this._.children[e[0]].getChild?this._.children[e[0]].getChild(e.slice(1,e.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var e={build:function(e,t,n){for(var i,o=t.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(e,i,l))}return new CKEDITOR.ui.dialog[t.type](e,a,r,n,t)}};CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e)}(),CKEDITOR.dialogCommand=function(e,t){this.dialogName=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.dialogCommand.prototype={exec:function(e){var t=this.tabId;e.openDialog(this.dialogName,(function(e){t&&e.selectPage(t)}))},canUndo:!1,editorFocus:1},function(){var e=/^([a]|[^a])+$/,t=/^\d*$/,n=/^\d*(?:\.\d+)?$/,i=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,o=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,r=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var e=arguments;return function(){var t,n,i=this&&this.getValue?this.getValue():e[0],o=CKEDITOR.VALIDATE_AND,r=[];for(n=0;n<e.length&&"function"==typeof e[n];n++)r.push(e[n]);n<e.length&&"string"==typeof e[n]&&(t=e[n],n++),n<e.length&&"number"==typeof e[n]&&(o=e[n]);var a=o==CKEDITOR.VALIDATE_AND;for(n=0;n<r.length;n++)a=o==CKEDITOR.VALIDATE_AND?a&&r[n](i):a||r[n](i);return!!a||t}},regex:function(e,t){return function(n){return n=this&&this.getValue?this.getValue():n,!!e.test(n)||t}},notEmpty:function(t){return this.regex(e,t)},integer:function(e){return this.regex(t,e)},number:function(e){return this.regex(n,e)},cssLength:function(e){return this.functions((function(e){return o.test(CKEDITOR.tools.trim(e))}),e)},htmlLength:function(e){return this.functions((function(e){return i.test(CKEDITOR.tools.trim(e))}),e)},inlineStyle:function(e){return this.functions((function(e){return r.test(CKEDITOR.tools.trim(e))}),e)},equals:function(e,t){return this.functions((function(t){return t==e}),t)},notEqual:function(e,t){return this.functions((function(t){return t!=e}),t)}},CKEDITOR.on("instanceDestroyed",(function(e){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var t;t=CKEDITOR.dialog._.currentTop;)t.hide();for(var n in b)b[n].remove();b={}}for(var i in e=e.editor._.storedDialogs)e[i].destroy()}))}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(e,t,n){var i=null,o=CKEDITOR.dialog._.dialogDefinitions[e];if(null===CKEDITOR.dialog._.currentTop&&c(this),"function"==typeof o)o=this._.storedDialogs||(this._.storedDialogs={}),(i=o[e]||(o[e]=new CKEDITOR.dialog(this,e))).setModel(n),t&&t.call(i,i),i.show();else{if("failed"==o)throw u(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+e+'" failed when loading definition.');"string"==typeof o&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(o),(function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[e]&&(CKEDITOR.dialog._.dialogDefinitions[e]="failed"),this.openDialog(e,t,n)}),this,0,1)}return CKEDITOR.skin.loadPart("dialog"),i&&i.once("hide",(function(){i.setModel(null)}),null,null,999),i}})}();var c,u=!1;CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){u||(CKEDITOR.document.appendStyleSheet(this.path+"styles/dialog.css"),u=!0),e.on("doubleclick",(function(t){t.data.dialog&&e.openDialog(t.data.dialog)}),null,null,999)}}),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var t=this;e.addCommand("a11yHelp",{exec:function(){var n=e.langCode;n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),(function(){e.lang.a11yhelp=t.langEntries[n],e.openDialog("a11yHelp")}))},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",(function(t){t.data.label=e.lang.common.editorHelp}))}}),CKEDITOR.plugins.add("autogrow",{init:function(e){e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&e.on("instanceReady",(function(){e.editable().isInline()?e.ui.space("contents").setStyle("height","auto"):function(e){function t(){o=e.document,r=o[CKEDITOR.env.ie?"getBody":"getDocumentElement"](),a=CKEDITOR.env.quirks?o.getBody():o.getDocumentElement();var t=CKEDITOR.env.quirks?a:a.findOne("body");t&&(t.setStyle("height","auto"),t.setStyle("min-height",CKEDITOR.env.safari?"0%":"auto")),s=CKEDITOR.dom.element.createFromHtml('<span style="margin:0;padding:0;border:0;clear:both;width:1px;height:1px;display:block;">'+(CKEDITOR.env.webkit?"&nbsp;":"")+"</span>",o)}function n(){f&&a.setStyle("overflow-y","hidden");var t,n=e.window.getViewPaneSize().height;r.append(s),t=s.getDocumentPosition(o).y+s.$.offsetHeight,s.remove(),t+=c,t=Math.max(t,u),(t=Math.min(t,d))!=n&&i!=t&&(t=e.fire("autoGrow",{currentHeight:n,newHeight:t}).newHeight,e.resize(e.container.getStyle("width"),t,!0),i=t),f||(t<d&&a.$.scrollHeight>a.$.clientHeight?a.setStyle("overflow-y","hidden"):a.removeStyle("overflow-y"))}var i,o,r,a,s,l,c=e.config.autoGrow_bottomSpace||0,u=void 0!==e.config.autoGrow_minHeight?e.config.autoGrow_minHeight:200,d=e.config.autoGrow_maxHeight||1/0,f=!e.config.autoGrow_maxHeight;for(l in e.addCommand("autogrow",{exec:n,modes:{wysiwyg:1},readOnly:1,canUndo:!1,editorFocus:!1}),{contentDom:1,key:1,selectionChange:1,insertElement:1,mode:1})e.on(l,(function(t){"wysiwyg"==t.editor.mode&&setTimeout((function(){var t=e.getCommand("maximize");!e.window||t&&t.state==CKEDITOR.TRISTATE_ON?i=null:(n(),f||n())}),100)}));e.on("afterCommandExec",(function(e){"maximize"==e.data.name&&"wysiwyg"==e.editor.mode&&(e.data.command.state==CKEDITOR.TRISTATE_ON?a.removeStyle("overflow-y"):n())})),e.on("contentDom",t),t(),e.config.autoGrow_onStartup&&e.editable().isVisible()&&e.execCommand("autogrow")}(e)}))}}),CKEDITOR.plugins.add("basicstyles",{init:function(e){var t=0,n=function(n,o,r,a){if(a){a=new CKEDITOR.style(a);var s=i[r];s.unshift(a),e.attachStyleStateChange(a,(function(t){!e.readOnly&&e.getCommand(r).setState(t)})),e.addCommand(r,new CKEDITOR.styleCommand(a,{contentForms:s})),e.ui.addButton&&e.ui.addButton(n,{label:o,command:r,toolbar:"basicstyles,"+(t+=10)})}},i={bold:["strong","b",["span",function(e){return"bold"==(e=e.styles["font-weight"])||700<=+e}]],italic:["em","i",["span",function(e){return"italic"==e.styles["font-style"]}]],underline:["u",["span",function(e){return"underline"==e.styles["text-decoration"]}]],strike:["s","strike",["span",function(e){return"line-through"==e.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},o=e.config,r=e.lang.basicstyles;n("Bold",r.bold,"bold",o.coreStyles_bold),n("Italic",r.italic,"italic",o.coreStyles_italic),n("Underline",r.underline,"underline",o.coreStyles_underline),n("Strike",r.strike,"strike",o.coreStyles_strike),n("Subscript",r.subscript,"subscript",o.coreStyles_subscript),n("Superscript",r.superscript,"superscript",o.coreStyles_superscript),e.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){function e(e,t,n,i){if(!e.isReadOnly()&&!e.equals(n.editable())){CKEDITOR.dom.element.setMarker(i,e,"bidi_processed",1),i=e;for(var o=n.editable();(i=i.getParent())&&!i.equals(o);)if(i.getCustomData("bidi_processed"))return e.removeStyle("direction"),void e.removeAttribute("dir");((i="useComputedState"in n.config?n.config.useComputedState:1)?e.getComputedStyle("direction"):e.getStyle("direction")||e.hasAttribute("dir"))!=t&&(e.removeStyle("direction"),i?(e.removeAttribute("dir"),t!=e.getComputedStyle("direction")&&e.setAttribute("dir",t)):e.setAttribute("dir",t),n.forceNextSelectionCheck())}}function t(e,t,n){var i=e.getCommonAncestor(!1,!0);if((e=e.clone()).enlarge(n==CKEDITOR.ENTER_BR?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),e.checkBoundaryOfElement(i,CKEDITOR.START)&&e.checkBoundaryOfElement(i,CKEDITOR.END)){for(var o;i&&i.type==CKEDITOR.NODE_ELEMENT&&(o=i.getParent())&&1==o.getChildCount()&&!(i.getName()in t);)i=o;return i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in t&&i}}function n(n){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(e,t){var n,i;if(!(i=void 0===(i=e.config.useComputedState)||i)){n=t.lastElement;for(var o=e.editable();n&&!(n.getName()in a||n.equals(o));){var r=n.getParent();if(!r)break;n=r}}(n=n||t.block||t.blockLimit).equals(e.editable())&&(o=e.getSelection().getRanges()[0].getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT&&(n=o),n&&(i=i?n.getComputedStyle("direction"):n.getStyle("direction")||n.getAttribute("dir"),e.getCommand("bidirtl").setState("rtl"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),e.getCommand("bidiltr").setState("ltr"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)),(i=(t.block||t.blockLimit||e.editable()).getDirection(1))!=(e._.selDir||e.lang.dir)&&(e._.selDir=i,e.fire("contentDirChanged",i))},exec:function(i){var a=i.getSelection(),s=i.config.enterMode;if((d=a.getRanges())&&d.length){for(var l,c={},u=a.createBookmarks(),d=d.createIterator(),f=0;l=d.getNextRange(1);){var h=l.getEnclosedNode();h&&(!h||h.type==CKEDITOR.NODE_ELEMENT&&h.getName()in r)||(h=t(l,o,s)),h&&e(h,n,i,c);var p=new CKEDITOR.dom.walker(l),m=u[f].startNode,g=u[f++].endNode;for(p.evaluator=function(e){var t,n=s==CKEDITOR.ENTER_P?"p":"div";return(t=!!e&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in o)&&((n=e.is(n))&&(n=!!(n=e.getParent())&&n.type==CKEDITOR.NODE_ELEMENT),t=!(n&&e.getParent().is("blockquote"))),!!(t&&e.getPosition(m)&CKEDITOR.POSITION_FOLLOWING&&(e.getPosition(g)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_CONTAINS)==CKEDITOR.POSITION_PRECEDING)};h=p.next();)e(h,n,i,c);for((l=l.createIterator()).enlargeBr=s!=CKEDITOR.ENTER_BR;h=l.getNextParagraph(s==CKEDITOR.ENTER_P?"p":"div");)e(h,n,i,c)}CKEDITOR.dom.element.clearAllMarkers(c),i.forceNextSelectionCheck(),a.selectBookmarks(u),i.focus()}}}}function i(e){var t=e==s.setAttribute,n=e==s.removeAttribute,i=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(o,r){if(!this.isReadOnly()){var a;if(a=o==(t||n?"dir":"direction")||"style"==o&&(n||i.test(r))){e:{for(var s=(a=this).getDocument().getBody().getParent();a;){if(a.equals(s)){a=!1;break e}a=a.getParent()}a=!0}a=!a}if(a&&(a=this.getDirection(1),s=e.apply(this,arguments),a!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),s}return e.apply(this,arguments)}}var o={table:1,ul:1,ol:1,blockquote:1,div:1},r={},a={};CKEDITOR.tools.extend(r,o,{tr:1,p:1,div:1,li:1}),CKEDITOR.tools.extend(a,r,{td:1}),CKEDITOR.plugins.add("bidi",{init:function(e){function t(t,n,i,o,r){e.addCommand(i,new CKEDITOR.command(e,o)),e.ui.addButton&&e.ui.addButton(t,{label:n,command:i,toolbar:"bidi,"+r})}if(!e.blockless){var i=e.lang.bidi;t("BidiLtr",i.ltr,"bidiltr",n("ltr"),10),t("BidiRtl",i.rtl,"bidirtl",n("rtl"),20),e.on("contentDom",(function(){e.document.on("dirChanged",(function(t){e.fire("dirChanged",{node:t.data,dir:t.data.getDirection(1)})}))})),e.on("contentDirChanged",(function(t){t=(e.lang.dir!=t.data?"add":"remove")+"Class";var n=e.ui.space(e.config.toolbarLocation);n&&n[t]("cke_mixed_dir_content")}))}}});for(var s=CKEDITOR.dom.element.prototype,l=["setStyle","removeStyle","setAttribute","removeAttribute"],c=0;c<l.length;c++)s[l[c]]=CKEDITOR.tools.override(s[l[c]],i)}(),function(){function e(e,t){CKEDITOR.tools.extend(this,t,{editor:e,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:e._.notificationArea}),t.type||(this.type="info"),this.element=this._createElement(),e.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function t(e){var t=this;this.editor=e,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),e.on("destroy",(function(){t._removeListeners(),t.element.remove()}))}CKEDITOR.plugins.add("notification",{init:function(e){e._.notificationArea=new t(e),e.showNotification=function(t,n,i){var o,r;return"progress"==n?o=i:r=i,(t=new CKEDITOR.plugins.notification(e,{message:t,type:n,progress:o,duration:r})).show(),t},e.on("key",(function(t){if(27==t.data.keyCode){var n=e._.notificationArea.notifications;n.length&&(function(e){var t=new CKEDITOR.dom.element("div");t.setStyles({position:"fixed","margin-left":"-9999px"}),t.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),t.setText(e),CKEDITOR.document.getBody().append(t),setTimeout((function(){t.remove()}),100)}(e.lang.notification.closed),n[n.length-1].hide(),t.cancel())}}))}}),e.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(e){var t=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:e})&&(t=!1);var n=this.element,i=n.findOne(".cke_notification_message"),o=n.findOne(".cke_notification_progress"),r=e.type;n.removeAttribute("role"),e.progress&&"progress"!=this.type&&(r="progress"),r&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=r,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||o?"progress"!=this.type&&o&&o.remove():(o=this._createProgressElement()).insertBefore(i)),void 0!==e.message&&(this.message=e.message,i.setHtml(this.message)),void 0!==e.progress&&(this.progress=e.progress,o&&o.setStyle("width",this._getPercentageProgress())),t&&e.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=e.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var e,t,n=this,i=this.editor.lang.common.close;return(e=new CKEDITOR.dom.element("div")).addClass("cke_notification"),e.addClass(this._getClass()),e.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&e.append(this._createProgressElement()),(t=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),t.setHtml(this.message),e.append(t),t=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+i+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),e.append(t),t.on("click",(function(){n.editor.focus(),n.hide()})),e},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var e=new CKEDITOR.dom.element("span");return e.addClass("cke_notification_progress"),e.setStyle("width",this._getPercentageProgress()),e},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var e,t=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?e=this.duration:"info"!=this.type&&"success"!=this.type||(e="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),e&&(t._hideTimeoutId=setTimeout((function(){t.hide()}),e))}},t.prototype={add:function(e){this.notifications.push(e),this.element.append(e.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(e){var t=CKEDITOR.tools.indexOf(this.notifications,e);0>t||(this.notifications.splice(t,1),e.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var e=this.editor,t=e.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+e.name),n.setStyle("z-index",t.baseFloatZIndex-2),n},_attachListeners:function(){var e=CKEDITOR.document.getWindow(),t=this.editor;e.on("scroll",this._uiBuffer.input),e.on("resize",this._uiBuffer.input),t.on("change",this._changeBuffer.input),t.on("floatingSpaceLayout",this._layout,this,null,20),t.on("blur",this._layout,this,null,20)},_removeListeners:function(){var e=CKEDITOR.document.getWindow(),t=this.editor;e.removeListener("scroll",this._uiBuffer.input),e.removeListener("resize",this._uiBuffer.input),t.removeListener("change",this._changeBuffer.input),t.removeListener("floatingSpaceLayout",this._layout),t.removeListener("blur",this._layout)},_layout:function(){function e(){o.setStyle("left",m(g+a.width-c-u))}var t,n,i,o=this.element,r=this.editor,a=r.ui.contentsElement.getClientRect(),s=r.ui.contentsElement.getDocumentPosition(),l=o.getClientRect(),c=this._notificationWidth,u=this._notificationMargin,d=(i=CKEDITOR.document.getWindow()).getScrollPosition(),f=i.getViewPaneSize(),h=CKEDITOR.document.getBody(),p=h.getDocumentPosition(),m=CKEDITOR.tools.cssLength;c&&u||(i=this.element.getChild(0),c=this._notificationWidth=i.getClientRect().width,u=this._notificationMargin=parseInt(i.getComputedStyle("margin-left"),10)+parseInt(i.getComputedStyle("margin-right"),10)),r.toolbar&&(n=(t=r.ui.space("top")).getClientRect()),t&&t.isVisible()&&n.bottom>a.top&&n.bottom<a.bottom-l.height?o.setStyles({position:"fixed",top:m(n.bottom)}):0<a.top?o.setStyles({position:"absolute",top:m(s.y)}):s.y+a.height-l.height>d.y?o.setStyles({position:"fixed",top:0}):o.setStyles({position:"absolute",top:m(s.y+a.height-l.height)});var g="fixed"==o.getStyle("position")?a.left:"static"!=h.getComputedStyle("position")?s.x-p.x:s.x;a.width<c+u?s.x+c+u>d.x+f.width?e():o.setStyle("left",m(g)):s.x+c+u>d.x+f.width?o.setStyle("left",m(g)):s.x+a.width/2+c/2+u>d.x+f.width?o.setStyle("left",m(g-s.x+d.x+f.width-c-u)):0>a.left+a.width-c-u?e():0>a.left+a.width/2-c/2?o.setStyle("left",m(g-s.x+d.x)):o.setStyle("left",m(g+a.width/2-c/2-u/2))}},CKEDITOR.plugins.notification=e}(),function(){var e='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var t="";CKEDITOR.env.ie&&(t='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)==CKEDITOR.MOUSE_BUTTON_LEFT&&');e=e+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" onclick="'+t+'CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}">&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>';var n=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),i=CKEDITOR.addTemplate("button",e);CKEDITOR.plugins.add("button",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(e){return new CKEDITOR.ui.button(e)}},CKEDITOR.ui.button.prototype={render:function(e,t){function o(){var t=e.mode;t&&(t=this.modes[t]?void 0!==l[t]?l[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=e.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var r,a,s,l=null,c=CKEDITOR.env,u=this._.id=CKEDITOR.tools.getNextId(),d="",f=this.command;this._.editor=e;var h,p={id:u,button:this,editor:e,focus:function(){CKEDITOR.document.getById(u).focus()},execute:function(){this.button.click(e)},attach:function(e){this.button.attach(e)}},m=CKEDITOR.tools.addFunction((function(e){if(p.onkey)return e=new CKEDITOR.dom.event(e),!1!==p.onkey(p,e.getKeystroke())})),g=CKEDITOR.tools.addFunction((function(e){var t;return p.onfocus&&(t=!1!==p.onfocus(p,new CKEDITOR.dom.event(e))),t})),E=0;p.clickFn=r=CKEDITOR.tools.addFunction((function(){E&&(e.unlockSelection(1),E=0),p.execute(),c.iOS&&e.focus()})),this.modes?(l={},e.on("beforeModeUnload",(function(){e.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(l[e.mode]=this._.state)}),this),e.on("activeFilterChange",o,this),e.on("mode",o,this),!this.readOnly&&e.on("readOnly",o,this)):f&&(f=e.getCommand(f))&&(f.on("state",(function(){this.setState(f.state)}),this),d+=f.state==CKEDITOR.TRISTATE_ON?"on":f.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off"),this.directional&&e.on("contentDirChanged",(function(t){var n=CKEDITOR.document.getById(this._.id),i=n.getFirst();(t=t.data)!=e.lang.dir?n.addClass("cke_"+t):n.removeClass("cke_ltr").removeClass("cke_rtl"),i.setAttribute("style",CKEDITOR.skin.getIconStyle(h,"rtl"==t,this.icon,this.iconOffset))}),this),f?(a=e.getCommandKeystroke(f))&&(s=CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard,a)):d+="off",a=this.name||this.command;var v=null,T=this.icon;return h=a,this.icon&&!/\./.test(this.icon)?(h=this.icon,T=null):(this.icon&&(v=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(v=this.iconHiDpi)),v?(CKEDITOR.skin.addIcon(v,v),T=null):v=h,d={id:u,name:a,iconName:h,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:d,ariaDisabled:"disabled"==d?"true":"false",title:this.title+(s?" ("+s.display+")":""),ariaShortcut:s?e.lang.common.keyboardShortcut+" "+s.aria:"",titleJs:c.gecko&&!c.hc?"":(this.title||"").replace("'",""),hasArrow:"string"==typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:m,focusFn:g,clickFn:r,style:CKEDITOR.skin.getIconStyle(v,"rtl"==e.lang.dir,T,this.iconOffset),arrowHtml:this.hasArrow?n.output():""},i.output(d,t),this.onRender&&this.onRender(),p},setState:function(e){if(this._.state==e)return!1;this._.state=e;var t=CKEDITOR.document.getById(this._.id);return!!t&&(t.setState(e,"cke_button"),t.setAttribute("aria-disabled",e==CKEDITOR.TRISTATE_DISABLED),this.hasArrow?t.setAttribute("aria-expanded",e==CKEDITOR.TRISTATE_ON):e===CKEDITOR.TRISTATE_ON?t.setAttribute("aria-pressed",!0):t.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(e){if(this._.feature)return this._.feature;var t=this;return this.allowedContent||this.requiredContent||!this.command||(t=e.getCommand(this.command)||t),this._.feature=t}},CKEDITOR.ui.prototype.addButton=function(e,t){this.add(e,CKEDITOR.UI_BUTTON,t)}}(),function(){function e(e){function n(t,n){if(n.length){t.items?t.items.push(e.ui.create("-")):t.items=[];for(var o;o=n.shift();)o="string"==typeof o?o:o.name,i&&-1!=CKEDITOR.tools.indexOf(i,o)||(o=e.ui.create(o))&&e.addFeature(o)&&t.items.push(o)}}var i=(i=e.config.removeButtons)&&i.split(","),o=e.config.toolbar;return"string"==typeof o&&(o=e.config["toolbar_"+o]),e.toolbar=o?function(e){var t,i,o,r=[];for(t=0;t<e.length;++t)o={},"/"==(i=e[t])?r.push(i):CKEDITOR.tools.isArray(i)?(n(o,CKEDITOR.tools.clone(i)),r.push(o)):i.items&&(n(o,CKEDITOR.tools.clone(i.items)),o.name=i.name,r.push(o));return r}(o):function(){for(var i=function(){var t,n,i,o={};for(t in e.ui.items)n=e.ui.items[t],i=(i=n.toolbar||"others").split(","),n=i[0],i=parseInt(i[1]||-1,10),o[n]||(o[n]=[]),o[n].push({name:t,order:i});for(n in o)o[n]=o[n].sort((function(e,t){return e.order==t.order?0:0>t.order?-1:0>e.order?1:e.order<t.order?-1:1}));return o}(),o=CKEDITOR.tools.clone(e.config.toolbarGroups)||t(e),r=0;r<o.length;r++){var a=o[r];if("/"!=a){"string"==typeof a&&(a=o[r]={name:a});var s,l=a.groups;if(l)for(var c=0;c<l.length;c++)(s=i[s=l[c]])&&n(a,s);(s=i[a.name])&&n(a,s)}}return o}()}function t(e){return e._.toolbarGroups||(e._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var n=function(){this.toolbars=[],this.focusCommandExecuted=!1};n.prototype.focus=function(){for(var e,t=0;e=this.toolbars[t++];)for(var n,i=0;n=e.items[i++];)if(n.focus)return void n.focus()};var i={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(e){e.toolbox&&(e.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout((function(){e.toolbox.focus()}),100):e.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(t){var o,r=function(e,n){var i,a=(s="rtl"==t.lang.dir)?37:39,s=s?39:37,l=void 0===(l=t.config.toolbarGroupCycling)||l;switch(n){case 9:case CKEDITOR.SHIFT+9:for(;!i||!i.items.length;)if((i=9==n?(i?i.next:e.toolbar.next)||t.toolbox.toolbars[0]:(i?i.previous:e.toolbar.previous)||t.toolbox.toolbars[t.toolbox.toolbars.length-1]).items.length)for(e=i.items[o?i.items.length-1:0];e&&!e.focus;)(e=o?e.previous:e.next)||(i=0);return e&&e.focus(),!1;case a:i=e;do{!(i=i.next)&&l&&(i=e.toolbar.items[0])}while(i&&!i.focus);return i?i.focus():r(e,9),!1;case 40:return e.button&&e.button.hasArrow?e.execute():r(e,40==n?a:s),!1;case s:case 38:i=e;do{!(i=i.previous)&&l&&(i=e.toolbar.items[e.toolbar.items.length-1])}while(i&&!i.focus);return i?i.focus():(o=1,r(e,CKEDITOR.SHIFT+9),o=0),!1;case 27:return t.focus(),!1;case 13:case 32:return e.execute(),!1}return!0};t.on("uiSpace",(function(i){if(i.data.space==t.config.toolbarLocation){i.removeListener(),t.toolbox=new n;var o,a,s=['<span id="',l=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',t.lang.toolbar.toolbars,"</span>",'<span id="'+t.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',l,'" onmousedown="return false;">'],l=!1!==t.config.toolbarStartupExpanded;t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&s.push('<span class="cke_toolbox_main"'+(l?">":' style="display:none">'));for(var c=t.toolbox.toolbars,u=e(t),d=u.length,f=0;f<d;f++){var h,p,m,g=0,E=u[f],v="/"!==E&&("/"===u[f+1]||f==d-1);if(E)if(o&&(s.push("</span>"),a=o=0),"/"===E)s.push('<span class="cke_toolbar_break"></span>');else{m=E.items||E;for(var T=0;T<m.length;T++){var b,C=m[T];if(C){var y=function(e){e=e.render(t,s),0<(I=g.items.push(e)-1)&&(e.previous=g.items[I-1],e.previous.next=e),e.toolbar=g,e.onkey=r,e.onfocus=function(){t.toolbox.focusCommandExecuted||t.focus()}};if(C.type==CKEDITOR.UI_SEPARATOR)a=o&&C;else{if(b=!1!==C.canGroup,!g){h=CKEDITOR.tools.getNextId(),g={id:h,items:[]},p=E.name&&(t.lang.toolbar.toolbarGroups[E.name]||E.name),s.push('<span id="',h,'" class="cke_toolbar'+(v?' cke_toolbar_last"':'"'),p?' aria-labelledby="'+h+'_label"':"",' role="toolbar">'),p&&s.push('<span id="',h,'_label" class="cke_voice_label">',p,"</span>"),s.push('<span class="cke_toolbar_start"></span>');var I=c.push(g)-1;0<I&&(g.previous=c[I-1],g.previous.next=g)}b?o||(s.push('<span class="cke_toolgroup" role="presentation">'),o=1):o&&(s.push("</span>"),o=0),a&&(y(a),a=0),y(C)}}}o&&(s.push("</span>"),a=o=0),g&&s.push('<span class="cke_toolbar_end"></span></span>')}}if(t.config.toolbarCanCollapse&&s.push("</span>"),t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var O=CKEDITOR.tools.addFunction((function(){t.execCommand("toolbarCollapse")}));t.on("destroy",(function(){CKEDITOR.tools.removeFunction(O)})),t.addCommand("toolbarCollapse",{readOnly:1,exec:function(e){var t=e.ui.space("toolbar_collapser"),n=t.getPrevious(),i=e.ui.space("contents"),o=n.getParent(),r=parseInt(i.$.style.height,10),a=o.$.offsetHeight,s=t.hasClass("cke_toolbox_collapser_min");s?(n.show(),t.removeClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarCollapse)):(n.hide(),t.addClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarExpand)),t.getFirst().setText(s?"â²":"â"),i.setStyle("height",r-(o.$.offsetHeight-a)+"px"),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:i.$.offsetHeight,outerWidth:e.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),t.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),s.push('<a title="'+(l?t.lang.toolbar.toolbarCollapse:t.lang.toolbar.toolbarExpand)+'" id="'+t.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),l||s.push(" cke_toolbox_collapser_min"),s.push('" onclick="CKEDITOR.tools.callFunction('+O+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}s.push("</span>"),i.data.html+=s.join("")}})),t.on("destroy",(function(){if(this.toolbox){var e,t,n,i,o=0;for(e=this.toolbox.toolbars;o<e.length;o++)for(n=e[o].items,t=0;t<n.length;t++)(i=n[t]).clickFn&&CKEDITOR.tools.removeFunction(i.clickFn),i.keyDownFn&&CKEDITOR.tools.removeFunction(i.keyDownFn)}})),t.on("uiReady",(function(){var e=t.ui.space("toolbox");e&&t.focusManager.add(e,1)})),t.addCommand("toolbarFocus",i),t.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),t.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),t.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(e,t){return t.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(e,n,i){var o=t(this.editor),r=0===n,a={name:e};if(i){if(i=CKEDITOR.tools.search(o,(function(e){return e.name==i})))return!i.groups&&(i.groups=[]),n&&0<=(n=CKEDITOR.tools.indexOf(i.groups,n))?void i.groups.splice(n+1,0,e):void(r?i.groups.splice(0,0,e):i.groups.push(e));n=null}n&&(n=CKEDITOR.tools.indexOf(o,(function(e){return e.name==n}))),r?o.splice(0,0,e):"number"==typeof n?o.splice(n+1,0,a):o.push(e)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function e(e,t,n){return t.type||(t.type="auto"),!(n&&!1===e.fire("beforePaste",t)||!t.dataValue&&t.dataTransfer.isEmpty())&&(t.dataValue||(t.dataValue=""),CKEDITOR.env.gecko&&"drop"==t.method&&e.toolbox&&e.once("afterPaste",(function(){e.toolbox.focus()})),e.fire("paste",t))}function t(t){function n(){var e,n=t.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var i=function(e){t.getSelection().isCollapsed()||(t.readOnly&&"cut"==e.name||h.initPasteDataTransfer(e,t),e.data.preventDefault())};n.on("copy",i),n.on("cut",i),n.on("cut",(function(){t.readOnly||t.extractSelectedHtml()}),null,null,999)}n.on(h.mainPasteEvent,(function(e){"beforepaste"==h.mainPasteEvent&&p||u(e)})),"beforepaste"==h.mainPasteEvent&&(n.on("paste",(function(e){m||(o(),e.data.preventDefault(),u(e),a("paste"))})),n.on("contextmenu",r,null,null,0),n.on("beforepaste",(function(e){!e.data||e.data.$.ctrlKey||e.data.$.shiftKey||r()}),null,null,0)),n.on("beforecut",(function(){!p&&s()})),n.attachListener(CKEDITOR.env.ie?n:t.document.getDocumentElement(),"mouseup",(function(){e=setTimeout(d,0)})),t.on("destroy",(function(){clearTimeout(e)})),n.on("keyup",d)}function i(e){return{type:e,canUndo:"cut"==e,startDisabled:!0,fakeKeystroke:"cut"==e?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var e;"cut"==this.type&&s();var n=this.type;if(CKEDITOR.env.ie)e=a(n);else try{e=t.document.$.execCommand(n,!1,null)}catch(t){e=!1}return e||t.showNotification(t.lang.clipboard[this.type+"Error"]),e}}}function o(){m=1,setTimeout((function(){m=0}),100)}function r(){p=1,setTimeout((function(){p=0}),10)}function a(e){var n=t.document,i=n.getBody(),o=!1,r=function(){o=!0};return i.on(e,r),7<CKEDITOR.env.version?n.$.execCommand(e):n.$.selection.createRange().execCommand(e),i.removeListener(e,r),o}function s(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var e,n,i,o=t.getSelection();o.getType()==CKEDITOR.SELECTION_ELEMENT&&(e=o.getSelectedElement())&&(n=o.getRanges()[0],(i=t.document.createText("")).insertBefore(e),n.setStartBefore(i),n.setEndAfter(e),o.selectRanges([n]),setTimeout((function(){e.getParent()&&(i.remove(),o.selectElement(e))}),0))}}function l(){if("paste"==h.mainPasteEvent)return t.fire("beforePaste",{type:"auto",method:"paste"}),!1;t.focus(),o();var e=t.focusManager;return e.lock(),t.editable().fire(h.mainPasteEvent)&&!a("paste")?(e.unlock(),!1):(e.unlock(),!0)}function c(e){if("wysiwyg"==t.mode)switch(e.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:e=t.editable(),o(),"paste"==h.mainPasteEvent&&e.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:t.fire("saveSnapshot"),setTimeout((function(){t.fire("saveSnapshot")}),50)}}function u(n){var i={type:"auto",method:"paste",dataTransfer:h.initPasteDataTransfer(n)};i.dataTransfer.cacheData();var o=!1!==t.fire("beforePaste",i);o&&h.canClipboardApiBeTrusted(i.dataTransfer,t)?(n.data.preventDefault(),setTimeout((function(){e(t,i)}),0)):function(e,n){var i,o=t.document,r=t.editable(),a=function(e){e.cancel()};if(!o.getById("cke_pastebin")){var s=t.getSelection(),l=s.createBookmarks();CKEDITOR.env.ie&&s.root.fire("selectionchange");var c=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!r.is("body")||CKEDITOR.env.ie?"div":"body",o);c.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var u=0;o=o.getWindow();CKEDITOR.env.webkit?(r.append(c),c.addClass("cke_editable"),r.is("body")||(u=(u="static"!=r.getComputedStyle("position")?r:CKEDITOR.dom.element.get(r.$.offsetParent)).getDocumentPosition().y)):r.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(c),c.setStyles({position:"absolute",top:o.getScrollPosition().y-u+10+"px",width:"1px",height:Math.max(1,o.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&c.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(u=c.getParent().isReadOnly())?(c.setOpacity(0),c.setAttribute("contenteditable",!0)):c.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-10000px"),t.on("selectionChange",a,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(i=r.once("blur",a,null,null,-100)),u&&c.focus(),(u=new CKEDITOR.dom.range(c)).selectNodeContents(c);var d=u.select();CKEDITOR.env.ie&&(i=r.once("blur",(function(){t.lockSelection(d)})));var f=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout((function(){var e;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=f),i&&i.removeListener(),CKEDITOR.env.ie&&r.focus(),s.selectBookmarks(l),c.remove(),CKEDITOR.env.webkit&&(e=c.getFirst())&&e.is&&e.hasClass("Apple-style-span")&&(c=e),t.removeListener("selectionChange",a),n(c.getHtml())}),0)}}(0,(function(n){i.dataValue=n.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),o&&e(t,i)}))}function d(){if("wysiwyg"==t.mode){var e=f("paste");t.getCommand("cut").setState(f("cut")),t.getCommand("copy").setState(f("copy")),t.getCommand("paste").setState(e),t.fire("pasteState",e)}}function f(e){var n=(n=t.getSelection())&&n.getRanges()[0];return(t.readOnly||n&&n.checkReadOnly())&&e in{paste:1,cut:1}?CKEDITOR.TRISTATE_DISABLED:"paste"==e?CKEDITOR.TRISTATE_OFF:(n=(e=t.getSelection()).getRanges(),e.getType()==CKEDITOR.SELECTION_NONE||1==n.length&&n[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF)}var h=CKEDITOR.plugins.clipboard,p=0,m=0;!function(){if(t.on("key",c),t.on("contentDom",n),t.on("selectionChange",d),t.contextMenu){t.contextMenu.addListener((function(){return{cut:f("cut"),copy:f("copy"),paste:f("paste")}}));var e=null;t.on("menuShow",(function(){e&&(e.removeListener(),e=null);var n=t.contextMenu.findItemByCommandName("paste");n&&n.element&&(e=n.element.on("touchend",(function(){t._.forcePasteDialog=!0})))}))}t.ui.addButton&&t.once("instanceReady",(function(){t._.pasteButtons&&CKEDITOR.tools.array.forEach(t._.pasteButtons,(function(e){(e=t.ui.get(e))&&(e=CKEDITOR.document.getById(e._.id))&&e.on("touchend",(function(){t._.forcePasteDialog=!0}))}))}))}(),function(){function n(e,n,i,o,r){var a=t.lang.clipboard[n];t.addCommand(n,i),t.ui.addButton&&t.ui.addButton(e,{label:a,command:n,toolbar:"clipboard,"+o}),t.addMenuItems&&t.addMenuItem(n,{label:a,command:n,group:"clipboard",order:r})}n("Cut","cut",i("cut"),10,1),n("Copy","copy",i("copy"),20,4),n("Paste","paste",{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(t,n){function i(n,i){i=void 0===i||i,n?(n.method="paste",n.dataTransfer||(n.dataTransfer=h.initPasteDataTransfer()),e(t,n,i)):r&&!t._.forcePasteDialog&&t.showNotification(l,"info",t.config.clipboard_notificationDuration),t._.forcePasteDialog=!1,t.fire("afterCommandExec",{name:"paste",command:o,returnValue:!!n})}var o=this,r=void 0===(n=null!=n?n:{}).notification||n.notification,a=n.type,s=CKEDITOR.tools.keystrokeToString(t.lang.common.keyboard,t.getCommandKeystroke(this)),l="string"==typeof r?r:t.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+s.aria+'">'+s.display+"</kbd>");s="string"==typeof n?n:n.dataValue,a&&!0!==t.config.forcePasteAsPlainText&&"allow-word"!==t.config.forcePasteAsPlainText?t._.nextPasteType=a:delete t._.nextPasteType,"string"==typeof s?i({dataValue:s}):t.getClipboardData(i)}},30,8),t._.pasteButtons||(t._.pasteButtons=[]),t._.pasteButtons.push("Paste")}(),t.getClipboardData=function(e,n){function i(e){e.removeListener(),e.cancel(),n(e.data)}function o(e){e.removeListener(),e.cancel(),n({type:a,dataValue:e.data.dataValue,dataTransfer:e.data.dataTransfer,method:"paste"})}var r=!1,a="auto";n||(n=e,e=null),t.on("beforePaste",(function(e){e.removeListener(),r=!0,a=e.data.type}),null,null,1e3),t.on("paste",i,null,null,0),!1===l()&&(t.removeListener("paste",i),t._.forcePasteDialog&&r&&t.fire("pasteDialog")?(t.on("pasteDialogCommit",o),t.on("dialogHide",(function(e){e.removeListener(),e.data.removeListener("pasteDialogCommit",o),e.data._.committed||n(null)}))):n(null))}}function n(e,t){function n(e){return CKEDITOR.tools.repeat("</p><p>",~~(e/2))+(1==e%2?"<br>":"")}return(t=(t=t.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,(function(e){return e.toLowerCase()}))).match(/^[^<]$/)?t:(CKEDITOR.env.webkit&&-1<t.indexOf("<div>")&&((t=t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(t="<p>"+t.replace(/(<div>(<br>|)<\/div>)+/g,(function(e){return n(e.split("</div><div>").length+1)}))+"</p>"),t=(t=t.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(t=t.replace(/^<br><br>$/,"<br>")),-1<t.indexOf("<br><br>")&&(t="<p>"+t.replace(/(<br>){2,}/g,(function(e){return n(e.length/4)}))+"</p>")),function(e,t){return e.enterMode==CKEDITOR.ENTER_BR?t=t.replace(/(<\/p><p>)+/g,(function(e){return CKEDITOR.tools.repeat("<br>",e.length/7*2)})).replace(/<\/?p>/g,""):e.enterMode==CKEDITOR.ENTER_DIV&&(t=t.replace(/<(\/)?p>/g,"<$1div>")),t}(e,t))}function i(e,t,n){t=CKEDITOR.htmlParser.fragment.fromHtml(t);var i=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(t,!0,!1,e.activeEnterMode),t.writeHtml(i),i.getHtml()}function o(e){e.data.preventDefault(),e.data.$.dataTransfer.dropEffect="none"}function r(t){var n=CKEDITOR.plugins.clipboard;t.on("contentDom",(function(){function i(e,n,i){var o={$:e.data.$,target:e.data.getTarget()};n&&(o.dragRange=n),i&&(o.dropRange=i),!1===t.fire(e.name,o)&&e.data.preventDefault()}function o(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e.getChildCount()}var r=t.editable(),a=CKEDITOR.plugins.clipboard.getDropTarget(t),s=t.ui.space("top"),l=t.ui.space("bottom");n.preventDefaultDropOnElement(s),n.preventDefaultDropOnElement(l),r.attachListener(a,"dragstart",i),r.attachListener(t,"dragstart",n.resetDragDataTransfer,n,null,1),r.attachListener(t,"dragstart",(function(e){n.initDragDataTransfer(e,t)}),null,null,2),r.attachListener(t,"dragstart",(function(){var e=n.dragRange=t.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(n.dragStartContainerChildCount=e?o(e.startContainer):null,n.dragEndContainerChildCount=e?o(e.endContainer):null)}),null,null,100),r.attachListener(a,"dragend",i),r.attachListener(t,"dragend",n.initDragDataTransfer,n,null,1),r.attachListener(t,"dragend",n.resetDragDataTransfer,n,null,100),r.attachListener(a,"dragover",(function(e){if(CKEDITOR.env.edge)e.data.preventDefault();else{var t=e.data.getTarget();t&&t.is&&t.is("html")?e.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&e.data.$.dataTransfer.types.contains("Files")&&e.data.preventDefault()}})),r.attachListener(a,"drop",(function(e){if(!e.data.$.defaultPrevented&&(e.data.preventDefault(),!t.readOnly)&&(!(o=e.data.getTarget()).isReadOnly()||o.type==CKEDITOR.NODE_ELEMENT&&o.is("html"))){var o=n.getRangeAtDropPosition(e,t),r=n.dragRange;o&&i(e,r,o)}}),null,null,9999),r.attachListener(t,"drop",n.initDragDataTransfer,n,null,1),r.attachListener(t,"drop",(function(i){if(i=i.data){var o=i.dropRange,r=i.dragRange,a=i.dataTransfer;a.getTransferType(t)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout((function(){n.internalDrop(r,o,a,t)}),0):a.getTransferType(t)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?function(n,i,o){i.select(),e(t,{dataTransfer:o,method:"drop"},1),o.sourceEditor.fire("saveSnapshot"),o.sourceEditor.editable().extractHtmlFromRange(n),o.sourceEditor.getSelection().selectRanges([n]),o.sourceEditor.fire("saveSnapshot")}(r,o,a):function(i,o){i.select(),e(t,{dataTransfer:o,method:"drop"},1),n.resetDragDataTransfer()}(o,a)}}),null,null,9999)}))}var a;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",init:function(e){var o,a=function(e){function t(){var e,t={};for(e in CKEDITOR.dtd)"$"!=e.charAt(0)&&"div"!=e&&"span"!=e&&(t[e]=1);return t}var n={};return{get:function(i){return"plain-text"==i?n.plainText||(n.plainText=new CKEDITOR.filter(e,"br")):"semantic-content"==i?((i=n.semanticContent)||((i=new CKEDITOR.filter(e,{})).allow({$1:{elements:t(),attributes:!0,styles:!1,classes:!1}}),i=n.semanticContent=i),i):i?new CKEDITOR.filter(e,i):null}}}(e);if(e.config.forcePasteAsPlainText?o="plain-text":e.config.pasteFilter?o=e.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in e.config||(o="semantic-content"),e.pasteFilter=a.get(o),t(e),r(e),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js")),CKEDITOR.env.gecko){var s,l=["image/png","image/jpeg","image/gif"];e.on("paste",(function(t){var n=t.data,i=n.dataTransfer;if(!n.dataValue&&"paste"==n.method&&i&&1==i.getFilesCount()&&s!=i.id&&(i=i.getFile(0),-1!=CKEDITOR.tools.indexOf(l,i.type))){var o=new FileReader;o.addEventListener("load",(function(){t.data.dataValue='<img src="'+o.result+'" />',e.fire("paste",t.data)}),!1),o.addEventListener("abort",(function(){e.fire("paste",t.data)}),!1),o.addEventListener("error",(function(){e.fire("paste",t.data)}),!1),o.readAsDataURL(i),s=n.dataTransfer.id,t.stop()}}),null,null,1)}e.on("paste",(function(t){if(t.data.dataTransfer||(t.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!t.data.dataValue){var n=t.data.dataTransfer,i=n.getData("text/html");i?(t.data.dataValue=i,t.data.type="html"):(i=n.getData("text/plain"))&&(t.data.dataValue=e.editable().transformPlainTextToHtml(i),t.data.type="text")}}),null,null,1),e.on("paste",(function(e){var t=e.data.dataValue,n=CKEDITOR.dtd.$block;if(-1<t.indexOf("Apple-")&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=e.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,(function(e,t){return t.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")}))),-1<t.indexOf('<br class="Apple-interchange-newline">')&&(e.data.startsWithEOL=1,e.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var i,o,r=new CKEDITOR.dom.element("div");for(r.setHtml(t);1==r.getChildCount()&&(i=r.getFirst())&&i.type==CKEDITOR.NODE_ELEMENT&&(i.hasClass("cke_editable")||i.hasClass("cke_contents"));)r=o=i;o&&(t=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,(function(t,i){return i.toLowerCase()in n?(e.data.preSniffing="html","<"+i):t})):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,(function(t,i){return i in n?(e.data.endsWithEOL=1,"</"+i+">"):t})):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),e.data.dataValue=t}),null,null,3),e.on("paste",(function(t){t=t.data;var o,r=e._.nextPasteType||t.type,s=t.dataValue,l=e.config.clipboard_defaultContentType||"html",c=t.dataTransfer.getTransferType(e)==CKEDITOR.DATA_TRANSFER_EXTERNAL,u=!0===e.config.forcePasteAsPlainText;o="html"==r||"html"==t.preSniffing?"html":function(e){if(CKEDITOR.env.webkit){if(!e.match(/^[^<]*$/g)&&!e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}(s),delete e._.nextPasteType,"htmlifiedtext"==o&&(s=n(e.config,s)),"text"==r&&"html"==o?s=i(e,s,a.get("plain-text")):(c&&e.pasteFilter&&!t.dontFilter||u)&&(s=i(e,s,e.pasteFilter)),t.startsWithEOL&&(s='<br data-cke-eol="1">'+s),t.endsWithEOL&&(s+='<br data-cke-eol="1">'),"auto"==r&&(r="html"==o||"html"==l?"html":"text"),t.type=r,t.dataValue=s,delete t.preSniffing,delete t.startsWithEOL,delete t.endsWithEOL}),null,null,6),e.on("paste",(function(t){(t=t.data).dataValue&&(e.insertHtml(t.dataValue,t.type,t.range),setTimeout((function(){e.fire("afterPaste")}),0))}),null,null,1e3),e.on("pasteDialog",(function(t){setTimeout((function(){e.openDialog("paste",t.data)}),0)}))}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!(CKEDITOR.env.ie&&16>CKEDITOR.env.version||CKEDITOR.env.iOS&&605>CKEDITOR.env.version),isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(e,t,n){e.ui.addButton&&(e.ui.addButton(t,n),e._.pasteButtons||(e._.pasteButtons=[]),e._.pasteButtons.push(t))},canClipboardApiBeTrusted:function(e,t){return!!(e.getTransferType(t)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!e.isEmpty()||CKEDITOR.env.gecko&&(e.getData("text/html")||e.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.iOS&&605<=CKEDITOR.env.version||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(e){var t=e.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||t.isInline()?t:e.document},fixSplitNodesAfterDrop:function(e,t,n,i){function o(e,n,i){var o=e;if(o.type==CKEDITOR.NODE_TEXT&&(o=e.getParent()),o.equals(n)&&i!=n.getChildCount())return e=t.startContainer.getChild(t.startOffset-1),n=t.startContainer.getChild(t.startOffset),e&&e.type==CKEDITOR.NODE_TEXT&&n&&n.type==CKEDITOR.NODE_TEXT&&(i=e.getLength(),e.setText(e.getText()+n.getText()),n.remove(),t.setStart(e,i),t.collapse(!0)),!0}var r=t.startContainer;"number"==typeof i&&"number"==typeof n&&r.type==CKEDITOR.NODE_ELEMENT&&(o(e.startContainer,r,n)||o(e.endContainer,r,i))},isDropRangeAffectedByDragRange:function(e,t){var n=t.startContainer,i=t.endOffset;return!!(e.endContainer.equals(n)&&e.endOffset<=i||e.startContainer.getParent().equals(n)&&e.startContainer.getIndex()<i||e.endContainer.getParent().equals(n)&&e.endContainer.getIndex()<i)},internalDrop:function(t,n,i,o){var r,a,s=CKEDITOR.plugins.clipboard,l=o.editable();o.fire("saveSnapshot"),o.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(t,n,s.dragStartContainerChildCount,s.dragEndContainerChildCount),(a=this.isDropRangeAffectedByDragRange(t,n))||(r=t.createBookmark(!1)),s=n.clone().createBookmark(!1),a&&(r=t.createBookmark(!1)),t=r.startNode,n=r.endNode,a=s.startNode,n&&t.getPosition(a)&CKEDITOR.POSITION_PRECEDING&&n.getPosition(a)&CKEDITOR.POSITION_FOLLOWING&&a.insertBefore(t),(t=o.createRange()).moveToBookmark(r),l.extractHtmlFromRange(t,1),n=o.createRange(),s.startNode.getCommonAncestor(l)||(s=o.getSelection().createBookmarks()[0]),n.moveToBookmark(s),e(o,{dataTransfer:i,method:"drop",range:n},1),o.fire("unlockSnapshot")},getRangeAtDropPosition:function(e,t){var n=e.data.$,i=n.clientX,o=n.clientY,r=t.getSelection(!0).getRanges()[0],a=t.createRange();if(e.data.testRange)return e.data.testRange;if(document.caretRangeFromPoint&&t.document.$.caretRangeFromPoint(i,o))n=t.document.$.caretRangeFromPoint(i,o),a.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),a.collapse(!0);else if(n.rangeParent)a.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),a.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&r&&t.editable().hasFocus)return r;if(!document.body.createTextRange)return null;t.focus(),n=t.document.getBody().$.createTextRange();try{for(var s=!1,l=0;20>l&&!s;l++){if(!s)try{n.moveToPoint(i,o-l),s=!0}catch(e){}if(!s)try{n.moveToPoint(i,o+l),s=!0}catch(e){}}if(s){var c="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+c+'">â</span>');var u=t.document.getById(c);a.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()}else{var d=t.document.$.elementFromPoint(i,o),f=new CKEDITOR.dom.element(d);if(f.equals(t.editable())||"html"==f.getName())return r&&r.startContainer&&!r.startContainer.equals(t.editable())?r:null;i<f.getClientRect().left?a.setStartAt(f,CKEDITOR.POSITION_AFTER_START):a.setStartAt(f,CKEDITOR.POSITION_BEFORE_END),a.collapse(!0)}}catch(e){return null}}return a},initDragDataTransfer:function(e,t){var n=e.data.$?e.data.$.dataTransfer:null,i=new this.dataTransfer(n,t);"dragstart"===e.name&&i.storeId(),n?this.dragData&&i.id==this.dragData.id?i=this.dragData:this.dragData=i:this.dragData?i=this.dragData:this.dragData=i,e.data.dataTransfer=i},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(e,t){if(this.isCustomCopyCutSupported){if(e&&e.data&&e.data.$){var n=e.data.$.clipboardData,i=new this.dataTransfer(n,t);return"copy"!==e.name&&"cut"!==e.name||i.storeId(),this.copyCutData&&i.id==this.copyCutData.id?(i=this.copyCutData).$=n:this.copyCutData=i,i}return new this.dataTransfer(null,t)}return new this.dataTransfer(CKEDITOR.env.edge&&e&&e.data.$&&e.data.$.clipboardData||null,t)},preventDefaultDropOnElement:function(e){e&&e.on("dragover",o)}},a=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(e,t){e&&(this.$=e),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],nativeHtmlCache:"",normalizeType:function(e){return"text"==(e=e.toLowerCase())||"text/plain"==e?"Text":"url"==e?"URL":e}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(a),this.id||(this.id="Text"==a?"":"cke-"+CKEDITOR.tools.getUniqueId()),t&&(this.sourceEditor=t,this.setData("text/html",t.getSelectedHtml(1)),"Text"==a||this.getData("text/plain")||this.setData("text/plain",t.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(e,t){if(null==(i="text/html"==(e=this._.normalizeType(e))&&t?this._.nativeHtmlCache:this._.data[e])||""===i){if(this._.fallbackDataTransfer.isRequired())i=this._.fallbackDataTransfer.getData(e,t);else try{i=this.$.getData(e)||""}catch(e){i=""}"text/html"!=e||t||(i=this._stripHtml(i))}if("Text"==e&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==i.substring(0,7)&&(i=""),"string"==typeof i)var n=i.indexOf("</html>"),i=-1!==n?i.substring(0,n+7):i;return i},setData:function(e,t){if("text/html"==(e=this._.normalizeType(e))?(this._.data[e]=this._stripHtml(t),this._.nativeHtmlCache=t):this._.data[e]=t,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==e||"Text"==e)if("Text"==a&&"Text"==e&&(this.id=t),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(e,t);else try{this.$.setData(e,t)}catch(e){}},storeId:function(){"Text"!==a&&this.setData(a,this.id)},getTransferType:function(e){return this.sourceEditor?this.sourceEditor==e?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function e(e){e=i._.normalizeType(e);var t=i.getData(e);"text/html"==e&&(i._.nativeHtmlCache=i.getData(e,!0),t=i._stripHtml(t)),t&&(i._.data[e]=t)}if(this.$){var t,n,i=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(t=0;t<this.$.types.length;t++)e(this.$.types[t])}else e("Text"),e("URL");if(n=this._getImageFromClipboard(),this.$&&this.$.files||n){if(this._.files=[],this.$.files&&this.$.files.length)for(t=0;t<this.$.files.length;t++)this._.files.push(this.$.files[t]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(e){return this._.files.length?this._.files[e]:this.$&&this.$.files&&this.$.files.length?this.$.files[e]:0===e?this._getImageFromClipboard():void 0},isEmpty:function(){var e,t={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(this._.data),(function(e){t[e]=1})),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)t[this.$.types[n]]=1}else t.Text=1,t.URL=1;for(e in"Text"!=a&&(t[a]=0),t)if(t[e]&&""!==this.getData(e))return!1;return!0},_getImageFromClipboard:function(){var e;try{if(this.$&&this.$.items&&this.$.items[0]&&(e=this.$.items[0].getAsFile())&&e.type)return e}catch(e){}},_stripHtml:function(e){if(e&&e.length){e=e.replace(this._.metaRegExp,"");var t=this._.bodyRegExp.exec(e);t&&t.length&&(e=(e=t[1]).replace(this._.fragmentRegExp,""))}return e}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(e){this._dataTransfer=e,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var e=CKEDITOR.plugins.clipboard.fallbackDataTransfer,t=this._dataTransfer.$;if(null===e._isCustomMimeTypeSupported){if(!t)return!1;if(e._isCustomMimeTypeSupported=!1,CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{t.setData("cke/mimetypetest","cke test value"),e._isCustomMimeTypeSupported="cke test value"===t.getData("cke/mimetypetest"),t.clearData("cke/mimetypetest")}catch(e){}}return!e._isCustomMimeTypeSupported},getData:function(e,t){var n=this._getData(this._customDataFallbackType,!0);if(t)return n;n=this._extractDataComment(n);var i=null;return null!==(i=e===this._customDataFallbackType?n.content:n.data&&n.data[e]?n.data[e]:this._getData(e,!0))?i:""},setData:function(e,t){(o=e===this._customDataFallbackType)&&(t=this._applyDataComment(t,this._getFallbackTypeData()));var n=t,i=this._dataTransfer.$;try{i.setData(e,n),o&&(this._dataTransfer._.nativeHtmlCache=n)}catch(t){if(this._isUnsupportedMimeTypeError(t)){o=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf(o._customTypes,e)&&o._customTypes.push(e);var o=this._getFallbackTypeContent(),r=this._getFallbackTypeData();r[e]=n;try{n=this._applyDataComment(o,r),i.setData(this._customDataFallbackType,n),this._dataTransfer._.nativeHtmlCache=n}catch(e){n=""}}}return n},_getData:function(e,t){var n=this._dataTransfer._.data;if(!t&&n[e])return n[e];try{return this._dataTransfer.$.getData(e)}catch(e){return null}},_getFallbackTypeContent:function(){var e=this._dataTransfer._.data[this._customDataFallbackType];return e||(e=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content),e},_getFallbackTypeData:function(){var e=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,t=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},n=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(e,(function(e){void 0!==n[e]?t[e]=n[e]:void 0!==t[e]&&(t[e]=t[e])}),this),t},_isUnsupportedMimeTypeError:function(e){return e.message&&-1!==e.message.search(/element not found/gi)},_extractDataComment:function(e){var t,n={data:null,content:e||""};e&&16<e.length&&((t=/\x3c!--cke-data:(.*?)--\x3e/g.exec(e))&&t[1]&&(n.data=JSON.parse(decodeURIComponent(t[1])),n.content=e.replace(t[0],"")));return n},_applyDataComment:function(e,t){var n="";return t&&CKEDITOR.tools.object.keys(t).length&&(n="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(t))+"--\x3e"),n+(e&&e.length?e:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,CKEDITOR.plugins.add("codeTag",{icons:"code",init:function(e){e.addCommand("wrapCode",{exec:function(e){e.insertHtml("<code>"+e.getSelection().getSelectedText()+"</code>")}}),e.ui.addButton("Code",{label:"Wrap code",command:"wrapCode",toolbar:"insert"})}}),CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function e(e){var t=this._;t.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(e),t.on?t.panel.hide():t.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){var n=t.panel||{};delete t.panel,this.base(t),this.document=n.parent&&n.parent.getDocument()||CKEDITOR.document,n.block={attributes:n.attributes},n.toolbarRelated=!0,this.hasArrow="listbox",this.click=e,this._={panelDefinition:n}},statics:{handler:{create:function(e){return new CKEDITOR.ui.panelButton(e)}}},proto:{createPanel:function(e){var t=this._;if(!t.panel){var n=this._.panelDefinition,i=this._.panelDefinition.block,o=n.parent||CKEDITOR.document.getBody(),r=this._.panel=new CKEDITOR.ui.floatPanel(e,o,n),a=(n=r.addBlock(t.id,i),this);r.onShow=function(){a.className&&this.element.addClass(a.className+"_panel"),a.setState(CKEDITOR.TRISTATE_ON),t.on=1,a.editorFocus&&e.focus(),a.onOpen&&a.onOpen()},r.onHide=function(n){a.className&&this.element.getFirst().removeClass(a.className+"_panel"),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),t.on=0,!n&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1),a.document.getById(t.id).focus()},this.onBlock&&this.onBlock(r,n),n.onHide=function(){t.on=0,a.setState(CKEDITOR.TRISTATE_OFF)}}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}}),CKEDITOR.UI_PANELBUTTON="panelbutton",function(){CKEDITOR.plugins.add("panel",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(e,t){t&&CKEDITOR.tools.extend(this,t),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=e,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(e){return new CKEDITOR.ui.panel(e)}};var e=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),t=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),n=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(i,o){var r={editorId:i.id,id:this.id,langCode:i.langCode,dir:i.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":i.config.baseFloatZIndex+1};if(this.getHolderElement=function(){if(!(t=this._.holder)){if(this.isFramed){var e=(t=this.document.getById(this.id+"_frame")).getParent(),t=t.getFrameDocument();CKEDITOR.env.iOS&&e.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),e=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind((function(){this.isLoaded=!0,this.onLoad&&this.onLoad()}),this)),t.write(n.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+e+");"},r))),t.getWindow().$.CKEDITOR=CKEDITOR,t.on("keydown",(function(e){var t=e.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");("input"!==e.data.getTarget().getName()||37!==t&&39!==t)&&(this._.onKeyDown&&!1===this._.onKeyDown(t)?"input"===e.data.getTarget().getName()&&32===t||e.data.preventDefault():(27==t||t==("rtl"==n?39:37))&&this.onEscape&&!1===this.onEscape(t)&&e.data.preventDefault())}),this),(t=t.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(e)}else t=this.document.getById(this.id);this._.holder=t}return t},this.isFramed){var a=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";r.frame=t.output({id:this.id+"_frame",src:a})}return a=e.output(r),o&&o.push(a),a},addBlock:function(e,t){return t=this._.blocks[e]=t instanceof CKEDITOR.ui.panel.block?t:new CKEDITOR.ui.panel.block(this.getHolderElement(),t),this._.currentBlock||this.showBlock(e),t},getBlock:function(e){return this._.blocks[e]},showBlock:function(e){e=this._.blocks[e];var t=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return t&&t.hide(),this._.currentBlock=e,CKEDITOR.fire("ariaWidget",n),e._.focusIndex=-1,this._.onKeyDown=e.onKeyDown&&CKEDITOR.tools.bind(e.onKeyDown,e),e.show(),e},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(e,t){this.element=e.append(e.getDocument().createElement("div",{attributes:{tabindex:-1,class:"cke_panel_block"},styles:{display:"none"}})),t&&CKEDITOR.tools.extend(this,t),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(e){-1!=e&&(e=this._.getItems().getItem(this._.focusIndex=e),CKEDITOR.env.webkit&&e.getDocument().getWindow().focus(),e.focus(),this.onMark&&this.onMark(e))},markFirstDisplayed:function(e){for(var t,n,i=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"none"==e.getStyle("display")},o=this._.getItems(),r=o.count()-1;0<=r;r--)if((t=o.getItem(r)).getAscendant(i)||(n=t,this._.focusIndex=r),"true"==t.getAttribute("aria-selected")){n=t,this._.focusIndex=r;break}n&&(e&&e(),CKEDITOR.env.webkit&&n.getDocument().getWindow().focus(),n.focus(),this.onMark&&this.onMark(n))},getItems:function(){return this.element.find("a,input")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(e,t){switch(o=this.keys[e]){case"next":for(var n,i=this._.focusIndex,o=this._.getItems();n=o.getItem(++i);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}return!n&&!t&&(this._.focusIndex=-1,this.onKeyDown(e,1));case"prev":for(i=this._.focusIndex,o=this._.getItems();0<i&&(n=o.getItem(--i));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}n=null}return!n&&!t&&(this._.focusIndex=o.count(),this.onKeyDown(e,1));case"click":case"mouseup":return(n=0<=(i=this._.focusIndex)&&this._.getItems().getItem(i))&&n.fireEventHandler(o,{button:CKEDITOR.tools.normalizeMouseButton(CKEDITOR.MOUSE_BUTTON_LEFT,!0)}),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){var e={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,n,i,o){function r(){c.hide()}i.forceIFrame=1,i.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(n=CKEDITOR.document.getById("cke_"+t.name));var a=n.getDocument(),s=(o=function(t,n,i,o,r){r=CKEDITOR.tools.genKey(n.getUniqueId(),i.getUniqueId(),t.lang.dir,t.uiColor||"",o.css||"",r||"");var a=e[r];return a||((a=e[r]=new CKEDITOR.ui.panel(n,o)).element=i.append(CKEDITOR.dom.element.createFromHtml(a.render(t),n)),a.element.setStyles({display:"none",position:"absolute"})),a}(t,a,n,i,o||0)).element,l=s.getFirst(),c=this;s.disableContextMenu(),this.element=s,this._={editor:t,panel:o,parentElement:n,definition:i,document:a,iframe:l,children:[],dir:t.lang.dir,showBlockParams:null,markFirst:void 0===i.markFirst||i.markFirst},t.on("mode",r),t.on("resize",r),a.getWindow().on("resize",(function(){this.reposition()}),this)},proto:{addBlock:function(e,t){return this._.panel.addBlock(e,t)},addListBlock:function(e,t){return this._.panel.addListBlock(e,t)},getBlock:function(e){return this._.panel.getBlock(e)},showBlock:function(e,t,n,i,o,r){var a=this._.panel,s=a.showBlock(e);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var l=this._.editor.editable();this._.returnFocus=l.hasFocus?l:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var c=this.element,u=(l=this._.iframe,l=CKEDITOR.env.ie&&!CKEDITOR.env.edge?l:new CKEDITOR.dom.window(l.$.contentWindow),c.getDocument()),d=this._.parentElement.getPositionedAncestor(),f=t.getDocumentPosition(u),h=(u=d?d.getDocumentPosition(u):{x:0,y:0},"rtl"==this._.dir),p=f.x+(i||0)-u.x,m=f.y+(o||0)-u.y;!h||1!=n&&4!=n?h||2!=n&&3!=n||(p+=t.$.offsetWidth-1):p+=t.$.offsetWidth,3!=n&&4!=n||(m+=t.$.offsetHeight-1),this._.panel._.offsetParentId=t.getId(),c.setStyles({top:m+"px",left:0,display:""}),c.setOpacity(0),c.getFirst().removeStyle("width"),this._.editor.focusManager.add(l),this._.blurSet||(CKEDITOR.event.useCapture=!0,l.on("blur",(function(e){function t(){delete this._.returnFocus,this.hide()}this.allowBlur()&&e.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(t,0,this)):t.call(this))}),this),l.on("focus",(function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)}),this),CKEDITOR.env.iOS&&(l.on("touchstart",(function(){clearTimeout(this._.hideTimeout)}),this),l.on("touchend",(function(){this._.hideTimeout=0,this.focus()}),this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),a.onEscape=CKEDITOR.tools.bind((function(e){if(this.onEscape&&!1===this.onEscape(e))return!1}),this),CKEDITOR.tools.setTimeout((function(){var e=CKEDITOR.tools.bind((function(){if((n=c).removeStyle("width"),s.autoSize){var e=s.element.getDocument();e=(CKEDITOR.env.webkit||CKEDITOR.env.edge?s.element:e.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(n.$.offsetWidth||0)-(n.$.clientWidth||0)+3),n.setStyle("width",e+10+"px"),e=s.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(n.$.offsetHeight||0)-(n.$.clientHeight||0)+3),n.setStyle("height",e+"px"),a._.currentBlock.element.setStyle("display","none").removeStyle("display")}else n.removeStyle("height");h&&(p-=c.$.offsetWidth),c.setStyle("left",p+"px");e=a.element.getWindow();var t,n=c.$.getBoundingClientRect(),i=(e=e.getViewPaneSize(),n.width||n.right-n.left),o=n.height||n.bottom-n.top,l=h?n.right:e.width-n.left,u=h?e.width-n.right:n.left;h?l<i&&(p=u>i?p+i:e.width>i?p-n.left:p-n.right+e.width):l<i&&(p=u>i?p-i:e.width>i?p-n.right+e.width:p-n.left),i=n.top,e.height-n.top<o&&(m=i>o?m-o:e.height>o?m-n.bottom+e.height:m-n.top),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&((e=n=c.$.offsetParent&&new CKEDITOR.dom.element(c.$.offsetParent))&&"html"==e.getName()&&(e=e.getDocument().getBody()),e&&"rtl"==e.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*c.getDocument().getDocumentElement().$.scrollLeft:p-(n.$.scrollWidth-n.$.clientWidth))),(t=(n=c.getFirst()).getCustomData("activePanel"))&&t.onHide&&t.onHide.call(this,1),n.setCustomData("activePanel",this),c.setStyles({top:m+"px",left:p+"px"}),c.setOpacity(1),r&&r()}),this);a.isLoaded?e():a.onLoad=e,CKEDITOR.tools.setTimeout((function(){var e=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),s.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=e),this.allowBlur(!0),this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout((function(){s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed()}),0):s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed()),this._.editor.fire("panelShow",this)}),0,this)}),CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var e=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,e))},focus:function(){if(CKEDITOR.env.webkit){var e=CKEDITOR.document.getActive();e&&!e.equals(this._.iframe)&&e.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var e=this._.iframe.getFrameDocument().getActive();e&&e.is("a")&&(this._.lastFocused=e)},hide:function(e){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(e=e&&this._.returnFocus)&&(CKEDITOR.env.webkit&&e.type&&e.getWindow().$.focus(),e.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(e){var t=this._.panel;return void 0!==e&&(t.allowBlur=e),t.allowBlur},showAsChild:function(e,t,n,i,o,r){this._.activeChild==e&&e._.panel._.offsetParentId==n.getId()||(this.hideChild(),e.onHide=CKEDITOR.tools.bind((function(){CKEDITOR.tools.setTimeout((function(){this._.focused||this.hide()}),0,this)}),this),this._.activeChild=e,this._.focused=!1,e.showBlock(t,n,i,o,r),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout((function(){e.element.getChild(0).$.style.cssText+=""}),100))},hideChild:function(e){var t=this._.activeChild;t&&(delete t.onHide,delete this._.activeChild,t.hide(),e&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",(function(){var t,n=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(t in e){var i=e[t];n?i.destroy():i.element.hide()}n&&(e={})}))}(),CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(e){function t(t,a,s,l,c){var u,d=new CKEDITOR.style(o["colorButton_"+a+"Style"]),f=CKEDITOR.tools.getNextId()+"_colorBox",h={type:a};c=c||{},e.ui.add(t,CKEDITOR.UI_PANELBUTTON,{label:s,title:s,modes:{wysiwyg:1},editorFocus:0,toolbar:"colors,"+l,allowedContent:d,requiredContent:d,contentTransformations:c.contentTransformations,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":r.panelTitle}},onBlock:function(t,i){u=i,i.autoSize=!0,i.element.addClass("cke_colorblock"),i.element.setHtml(function(t,i,a,s){t=[];var l=o.colorButton_colors.split(","),c=o.colorButton_colorsPerRow||6,u=e.plugins.colordialog&&!1!==o.colorButton_enableMore,d=l.length+(u?2:1),f=CKEDITOR.tools.addFunction((function(t,i){function r(t){var r=o["colorButton_"+i+"Style"];e.removeStyle(new CKEDITOR.style(r,{color:"inherit"})),r.childRule="back"==i?function(e){return n(e)}:function(e){return!(e.is("a")||e.getElementsByTag("a").count())||n(e)},e.focus(),t&&e.applyStyle(new CKEDITOR.style(r,{color:t})),e.fire("saveSnapshot")}if(e.focus(),e.fire("saveSnapshot"),"?"!=t)return r(t&&"#"+t);e.getColorFromDialog((function(e){if(e)return r(e)}),null,s)}));for(!1!==o.colorButton_enableAutomatic&&t.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',r.auto,'" draggable="false" ondragstart="return false;" onclick="CKEDITOR.tools.callFunction(',f,",null,'",i,"');return false;\" href=\"javascript:void('",r.auto,'\')" role="option" aria-posinset="1" aria-setsize="',d,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td colspan="'+c+'" align="center"><span class="cke_colorbox" id="',a,'"></span>',r.auto,"</td></tr></table></a>"),t.push('<table role="presentation" cellspacing=0 cellpadding=0 width="100%">'),a=0;a<l.length;a++){0==a%c&&t.push("</tr><tr>");var h=l[a].split("/"),p=h[0],m=h[1]||p;t.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',h[1]?p:e.lang.colorbutton.colors[m]||m,'" draggable="false" ondragstart="return false;" onclick="CKEDITOR.tools.callFunction(',f,",'",m,"','",i,"'); return false;\" href=\"javascript:void('",m,'\')" data-value="'+m+'" role="option" aria-posinset="',a+2,'" aria-setsize="',d,'"><span class="cke_colorbox" style="background-color:#',m,'"></span></a></td>')}return u&&t.push('</tr><tr><td colspan="'+c+'" align="center"><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',r.more,'" draggable="false" ondragstart="return false;" onclick="CKEDITOR.tools.callFunction(',f,",'?','",i,"');return false;\" href=\"javascript:void('",r.more,"')\"",' role="option" aria-posinset="',d,'" aria-setsize="',d,'">',r.more,"</a></td>"),t.push("</tr></table>"),t.join("")}(t,a,f,h)),i.element.getDocument().getBody().setStyle("overflow","hidden"),CKEDITOR.ui.fire("ready",this);var s=i.keys,l="rtl"==e.lang.dir;s[l?37:39]="next",s[40]="next",s[9]="next",s[l?39:37]="prev",s[38]="prev",s[CKEDITOR.SHIFT+9]="prev",s[32]="click"},refresh:function(){e.activeFilter.check(d)||this.setState(CKEDITOR.TRISTATE_DISABLED)},onOpen:function(){var t=(r=e.getSelection())&&r.getStartElement(),n=e.elementPath(t);if(n){t=n.block||n.blockLimit||e.document.getBody();do{n=t&&t.getComputedStyle("back"==a?"background-color":"color")||"transparent"}while("back"==a&&"transparent"==n&&t&&(t=t.getParent()));if(n&&"transparent"!=n||(n="#ffffff"),!1!==o.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(f).setStyle("background-color",n),t=r&&r.getRanges()[0]){var r=new CKEDITOR.dom.walker(t),s=t.collapsed?t.startContainer:r.next();for(t="";s;){if(s.type!==CKEDITOR.NODE_ELEMENT&&(s=s.getParent()),s=i(s.getComputedStyle("back"==a?"background-color":"color")),(t=t||s)!==s){t="";break}s=r.next()}for("transparent"==t&&(t=""),"fore"==a&&(h.automaticTextColor="#"+i(n)),h.selectionColor=t?"#"+t:"",r=t,t=u._.getItems(),s=0;s<t.count();s++){var l=t.getItem(s);l.removeAttribute("aria-selected"),r&&r==i(l.getAttribute("data-value"))&&l.setAttribute("aria-selected",!0)}}return n}}})}function n(e){return"false"==e.getAttribute("contentEditable")||e.getAttribute("data-nostyle")}function i(e){return CKEDITOR.tools.normalizeHex("#"+CKEDITOR.tools.convertRgbToHex(e||"")).replace(/#/g,"")}var o=e.config,r=e.lang.colorbutton;if(!CKEDITOR.env.hc){t("TextColor","fore",r.textColorTitle,10,{contentTransformations:[[{element:"font",check:"span{color}",left:function(e){return!!e.attributes.color},right:function(e){e.name="span",e.attributes.color&&(e.styles.color=e.attributes.color),delete e.attributes.color}}]]});var a={},s=e.config.colorButton_normalizeBackground;(void 0===s||s)&&(a.contentTransformations=[[{element:"span",left:function(e){var t=CKEDITOR.tools;return!("span"!=e.name||!e.styles||!e.styles.background)&&((e=t.style.parse.background(e.styles.background)).color&&1===t.object.keys(e).length)},right:function(t){var n=new CKEDITOR.style(e.config.colorButton_backStyle,{color:t.styles.background}).getDefinition();return t.name=n.element,t.styles=n.styles,t.attributes=n.attributes||{},t}}]]),t("BGColor","back",r.bgColorTitle,20,a)}}}),CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000",CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]},CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}},CKEDITOR.plugins.colordialog={requires:"dialog",init:function(e){var t=new CKEDITOR.dialogCommand("colordialog");t.editorFocus=!1,e.addCommand("colordialog",t),CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js"),e.getColorFromDialog=function(t,n,i){var o,r,a,s;o=function(e){a(this),e="ok"==e.name?this.getValueOf("picker","selectedColor"):null,/^[0-9a-f]{3}([0-9a-f]{3})?$/i.test(e)&&(e="#"+e),t.call(n,e)},r=function(e){i&&(e.data=i)},a=function(e){e.removeListener("ok",o),e.removeListener("cancel",o),e.removeListener("show",r)},s=function(e){e.on("ok",o),e.on("cancel",o),e.on("show",r,null,null,5)},e.execCommand("colordialog"),e._.storedDialogs&&e._.storedDialogs.colordialog?s(e._.storedDialogs.colordialog):CKEDITOR.on("dialogDefinition",(function(e){if("colordialog"==e.data.name){var t=e.data.definition;e.removeListener(),t.onLoad=CKEDITOR.tools.override(t.onLoad,(function(e){return function(){s(this),t.onLoad=e,"function"==typeof e&&e.call(this)}}))}}))}}},CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog),function(){var e={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},t="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var n=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+t+' hidefocus="true"  draggable="false"  ondragstart="return false;" onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(t){t._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},t.on("uiSpace",(function(i){"bottom"==i.data.space&&function(t,i){function o(e){var n;(e=l.list[e]).equals(t.editable())||"true"==e.getAttribute("contenteditable")?((n=t.createRange()).selectNodeContents(e),n=n.select()):(n=t.getSelection()).selectElement(e),CKEDITOR.env.ie&&t.fire("selectionChange",{selection:n,path:new CKEDITOR.dom.elementPath(e)}),t.focus()}function r(){a&&a.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete l.list}var a,s=t.ui.spaceId("path"),l=t._.elementsPath,c=l.idBase;i.html+='<span id="'+s+'_label" class="cke_voice_label">'+t.lang.elementspath.eleLabel+'</span><span id="'+s+'" class="cke_path" role="group" aria-labelledby="'+s+'_label"><span class="cke_path_empty">&nbsp;</span></span>',t.on("uiReady",(function(){var e=t.ui.space("path");e&&t.focusManager.add(e,1)})),l.onClick=o;var u=CKEDITOR.tools.addFunction(o),d=CKEDITOR.tools.addFunction((function(e,n){var i,r=l.idBase;switch(n=new CKEDITOR.dom.event(n),i="rtl"==t.lang.dir,n.getKeystroke()){case i?39:37:case 9:return(i=CKEDITOR.document.getById(r+(e+1)))||(i=CKEDITOR.document.getById(r+"0")),i.focus(),!1;case i?37:39:case CKEDITOR.SHIFT+9:return(i=CKEDITOR.document.getById(r+(e-1)))||(i=CKEDITOR.document.getById(r+(l.list.length-1))),i.focus(),!1;case 27:return t.focus(),!1;case 13:case 32:return o(e),!1}return!0}));t.on("selectionChange",(function(e){for(var i=[],o=l.list=[],r=[],f=l.filters,h=!0,p=e.data.path.elements,m=p.length;m--;){var g=p[m],E=0;e=g.data("cke-display-name")?g.data("cke-display-name"):g.data("cke-real-element-type")?g.data("cke-real-element-type"):g.getName(),(h=g.hasAttribute("contenteditable")?"true"==g.getAttribute("contenteditable"):h)||g.hasAttribute("contenteditable")||(E=1);for(var v=0;v<f.length;v++){var T=f[v](g,e);if(!1===T){E=1;break}e=T||e}E||(o.unshift(g),r.unshift(e))}for(o=o.length,f=0;f<o;f++)e=r[f],h=t.lang.elementspath.eleTitle.replace(/%1/,e),e=n.output({id:c+f,label:h,text:e,jsTitle:"javascript:void('"+e+"')",index:f,keyDownFn:d,clickFn:u}),i.unshift(e);a||(a=CKEDITOR.document.getById(s)),(r=a).setHtml(i.join("")+'<span class="cke_path_empty">&nbsp;</span>'),t.fire("elementsPathUpdate",{space:r})})),t.on("readOnly",r),t.on("contentDomUnload",r),t.addCommand("elementsPathFocus",e.toolbarFocus),t.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}(t,i.data)}))}})}(),function(){function e(e,t,n){if(n=e.config.forceEnterMode||n,"wysiwyg"==e.mode){t||(t=e.activeEnterMode);var r=e.elementPath();r&&!r.isContextFor("p")&&(t=CKEDITOR.ENTER_BR,n=1),e.fire("saveSnapshot"),t==CKEDITOR.ENTER_BR?i(e,t,null,n):o(e,t,null,n),e.fire("saveSnapshot")}}function t(e){for(var t=(e=e.getSelection().getRanges(!0)).length-1;0<t;t--)e[t].deleteContents();return e[0]}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var n,i,o,r,a=CKEDITOR.dom.walker.whitespaces(),s=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(e,n,o,l){if(o=o||t(e)){var c,u=(o=function(e){var t=e.startContainer.getAscendant((function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"true"==e.getAttribute("contenteditable")}),!0);return e.root.equals(t)?e:((t=new CKEDITOR.dom.range(t)).moveToRange(e),t)}(o)).document,d=o.checkStartOfBlock(),f=o.checkEndOfBlock(),h=e.elementPath(o.startContainer),p=h.block,m=n==CKEDITOR.ENTER_DIV?"div":"p";if(p&&d&&f){if((d=p.getParent()).is("li")&&1<d.getChildCount())return u=new CKEDITOR.dom.element("li"),c=e.createRange(),u.insertAfter(d),p.remove(),c.setStart(u,0),void e.getSelection().selectRanges([c]);if(p.is("li")||p.getParent().is("li")){p.is("li")||(d=(p=p.getParent()).getParent()),c=d.getParent(),o=!p.hasPrevious();var g=!p.hasNext(),E=(m=(l=e.getSelection()).createBookmarks(),p.getDirection(1)),v=(f=p.getAttribute("class"),p.getAttribute("style")),T=c.getDirection(1)!=E;if(e=e.enterMode!=CKEDITOR.ENTER_BR||T||v||f,c.is("li"))o||g?(o&&g&&d.remove(),p[g?"insertAfter":"insertBefore"](c)):p.breakParent(c);else{if(e)h.block.is("li")?(c=u.createElement(n==CKEDITOR.ENTER_P?"p":"div"),T&&c.setAttribute("dir",E),v&&c.setAttribute("style",v),f&&c.setAttribute("class",f),p.moveChildren(c)):c=h.block,o||g?c[o?"insertBefore":"insertAfter"](d):(p.breakParent(d),c.insertAfter(d));else if(p.appendBogus(!0),o||g)for(;u=p[o?"getFirst":"getLast"]();)u[o?"insertBefore":"insertAfter"](d);else for(p.breakParent(d);u=p.getLast();)u.insertAfter(d);p.remove()}return void l.selectBookmarks(m)}if(p&&p.getParent().is("blockquote"))return p.breakParent(p.getParent()),p.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getPrevious().remove(),p.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getNext().remove(),o.moveToElementEditStart(p),void o.select()}else if(p&&p.is("pre")&&!f)return void i(e,n,o,l);if(v=o.splitBlock(m)){if(e=v.previousBlock,p=v.nextBlock,d=v.wasStartOfBlock,f=v.wasEndOfBlock,p?(g=p.getParent()).is("li")&&(p.breakParent(g),p.move(p.getNext(),1)):e&&(g=e.getParent())&&g.is("li")&&(e.breakParent(g),g=e.getNext(),o.moveToElementEditStart(g),e.move(e.getPrevious())),d||f)if(function(e){var t;return e!==CKEDITOR.ENTER_BR&&-1!==CKEDITOR.tools.indexOf(["td","th"],h.lastElement.getName())&&1===h.lastElement.getChildCount()&&((t=(e=h.lastElement.getChild(0).clone(!0)).getBogus())&&t.remove(),!e.getText().length)}(n))o.moveToElementEditStart(o.getTouchedStartNode());else{if(e?(e.is("li")||!r.test(e.getName())&&!e.is("pre"))&&(c=e.clone()):p&&(c=p.clone()),c?l&&!c.is("li")&&c.renameNode(m):g&&g.is("li")?c=g:(c=u.createElement(m),e&&(E=e.getDirection())&&c.setAttribute("dir",E)),u=v.elementPath)for(n=0,l=u.elements.length;n<l&&(!(m=u.elements[n]).equals(u.block)&&!m.equals(u.blockLimit));n++)CKEDITOR.dtd.$removeEmpty[m.getName()]&&(m=m.clone(),c.moveChildren(m),c.append(m));c.appendBogus(),c.getParent()||o.insertNode(c),c.is("li")&&c.removeAttribute("value"),!CKEDITOR.env.ie||!d||f&&e.getChildCount()||(o.moveToElementEditStart(f?e:c),o.select()),o.moveToElementEditStart(d&&!f?p:c)}else p.is("li")&&((c=o.clone()).selectNodeContents(p),(c=new CKEDITOR.dom.walker(c)).evaluator=function(e){return!(s(e)||a(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$inline&&!(e.getName()in CKEDITOR.dtd.$empty))},(g=c.next())&&g.type==CKEDITOR.NODE_ELEMENT&&g.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?u.createElement("br"):u.createText("Â ")).insertBefore(g)),p&&o.moveToElementEditStart(p);o.select(),o.scrollIntoView()}}},enterBr:function(e,n,i,a){if(i=i||t(e)){var s=i.document,l=i.checkEndOfBlock(),c=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),u=c.block,d=u&&c.block.getName();a||"li"!=d?(!a&&l&&r.test(d)?(l=u.getDirection())?((s=s.createElement("div")).setAttribute("dir",l),s.insertAfter(u),i.setStart(s,0)):(s.createElement("br").insertAfter(u),CKEDITOR.env.gecko&&s.createText("").insertAfter(u),i.setStartAt(u.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(e="pre"==d&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?s.createText("\r"):s.createElement("br"),i.deleteContents(),i.insertNode(e),CKEDITOR.env.needsBrFiller?(s.createText("\ufeff").insertAfter(e),l&&(u||c.blockLimit).appendBogus(),e.getNext().$.nodeValue="",i.setStartAt(e.getNext(),CKEDITOR.POSITION_AFTER_START)):i.setStartAt(e,CKEDITOR.POSITION_AFTER_END)),i.collapse(!0),i.select(),i.scrollIntoView()):o(e,n,i,a)}}},n=CKEDITOR.plugins.enterkey,i=n.enterBr,o=n.enterBlock,r=/^h[1-6]$/}(),function(){function e(e,t){var n={},i=[],o={nbsp:"Â ",shy:"Â­",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(e=(e=e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,(function(e,r){var a=t?"&"+r+";":o[r];return n[a]=t?o[r]:"&"+r+";",i.push(a),""}))).replace(/,$/,""),!t&&e){e=e.split(",");var r,a=document.createElement("div");for(a.innerHTML="&"+e.join(";&")+";",r=a.innerHTML,a=null,a=0;a<r.length;a++){var s=r.charAt(a);n[s]="&"+e[a]+";",i.push(s)}}return n.regex=i.join(t?"|":""),n}CKEDITOR.plugins.add("entities",{afterInit:function(t){function n(e){return l[e]}function i(e){return"force"!=o.entities_processNumerical&&a[e]?a[e]:"&#"+e.charCodeAt(0)+";"}var o=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var r=[];!1!==o.basicEntities&&r.push("nbsp,gt,lt,amp"),o.entities&&(r.length&&r.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),o.entities_latin&&r.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),o.entities_greek&&r.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),o.entities_additional&&r.push(o.entities_additional));var a=e(r.join(",")),s=a.regex?"["+a.regex+"]":"a^";delete a.regex,o.entities&&o.entities_processNumerical&&(s="[^ -~]|"+s);s=new RegExp(s,"g");var l=e("nbsp,gt,lt,amp,shy",!0),c=new RegExp(l.regex,"g");t.addRules({text:function(e){return e.replace(c,n).replace(s,i)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",function(){var e=CKEDITOR.document.getWindow(),t=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(n){n.on("loaded",(function(){!function(n){var i=n.config,o=n.fire("uiSpace",{space:"top",html:""}).html,r=function(){function o(e,n,i){s.setStyle(n,t(i)),s.setStyle("position",e)}function a(e){var t=c.getDocumentPosition();switch(e){case"top":o("absolute","top",t.y-h-g);break;case"pin":o("fixed","top",v);break;case"bottom":o("absolute","top",t.y+(d.height||d.bottom-d.top)+g)}l=e}var l,c,u,d,f,h,p,m=i.floatSpaceDockedOffsetX||0,g=i.floatSpaceDockedOffsetY||0,E=i.floatSpacePinnedOffsetX||0,v=i.floatSpacePinnedOffsetY||0;return function(o){if(c=n.editable()){var v=o&&"focus"==o.name;v&&s.show(),n.fire("floatingSpaceLayout",{show:v}),s.removeStyle("left"),s.removeStyle("right"),u=s.getClientRect(),d=c.getClientRect(),f=e.getViewPaneSize(),h=u.height,p="pageXOffset"in e.$?e.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,l?(h+g<=d.top?a("top"):h+g>f.height-d.bottom?a("pin"):a("bottom"),o=f.width/2,o=i.floatSpacePreferRight?"right":0<d.left&&d.right<f.width&&d.width>u.width?"rtl"==i.contentsLangDirection?"right":"left":o-d.left>d.right-o?"left":"right",u.width>f.width?(o="left",v=0):(v="left"==o?0<d.left?d.left:0:d.right<f.width?f.width-d.right:0)+u.width>f.width&&(o="left"==o?"right":"left",v=0),s.setStyle(o,t(("pin"==l?E:m)+v+("pin"==l?0:"left"==o?p:-p)))):(l="pin",a("pin"),r(o))}}}();if(o){var a=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(n.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(n.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),s=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(a.output({content:o,id:n.id,langDir:n.lang.dir,langCode:n.langCode,name:n.name,style:"display:none;z-index:"+(i.baseFloatZIndex-1),topId:n.ui.spaceId("top"),voiceLabel:n.title}))),l=CKEDITOR.tools.eventsBuffer(500,r),c=CKEDITOR.tools.eventsBuffer(100,r);s.unselectable(),s.on("mousedown",(function(e){(e=e.data).getTarget().hasAscendant("a",1)||e.preventDefault()})),n.on("focus",(function(t){r(t),n.on("change",l.input),e.on("scroll",c.input),e.on("resize",c.input)})),n.on("blur",(function(){s.hide(),n.removeListener("change",l.input),e.removeListener("scroll",c.input),e.removeListener("resize",c.input)})),n.on("destroy",(function(){e.removeListener("scroll",c.input),e.removeListener("resize",c.input),s.clearCustomData(),s.remove()})),n.focusManager.hasFocus&&s.show(),n.focusManager.add(s,1)}}(this)}),null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),t=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" draggable="false" ondragstart="return false;" href="javascript:void(\'{val}\')"  onclick="{onclick}CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" draggable="false" ondragstart="return false;" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),i=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(e,t){return this.addBlock(e,new CKEDITOR.ui.listBlock(this.getHolderElement(),t))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(e,t){var n=(t=t||{}).attributes||(t.attributes={});(this.multiSelect=!!t.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),(n=this.keys)[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction((function(e){var t=this.toggle(e);this.onClick&&this.onClick(e,t)}),this)),this._.click}},proto:{add:function(e,n,o){var r=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[e]=r,e={id:r,val:CKEDITOR.tools.htmlEncodeAttr(e).replace(i,"\\'"),onclick:CKEDITOR.env.ie?'return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)===CKEDITOR.MOUSE_BUTTON_LEFT&&':"",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(o||e),text:n||e},this._.pendingList.push(t.output(e))},startGroup:function(e){this._.close();var t=CKEDITOR.tools.getNextId();this._.groups[e]=t,this._.pendingHtml.push(n.output({id:t,label:e}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(e){var t=this.isMarked(e);return t?this.unmark(e):this.mark(e),!t},hideGroup:function(e){var t=(e=this.element.getDocument().getById(this._.groups[e]))&&e.getNext();e&&(e.setStyle("display","none"),t&&"ul"==t.getName()&&t.setStyle("display","none"))},hideItem:function(e){this.element.getDocument().getById(this._.items[e]).setStyle("display","none")},showAll:function(){var e,t=this._.items,n=this._.groups,i=this.element.getDocument();for(e in t)i.getById(t[e]).setStyle("display","");for(var o in n)e=(t=i.getById(n[o])).getNext(),t.setStyle("display",""),e&&"ul"==e.getName()&&e.setStyle("display","")},mark:function(e){this.multiSelect||this.unmarkAll(),e=this._.items[e];var t=this.element.getDocument().getById(e);t.addClass("cke_selected"),this.element.getDocument().getById(e+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(t)},markFirstDisplayed:function(){var e=this;this._.markFirstDisplayed((function(){e.multiSelect||e.unmarkAll()}))},unmark:function(e){var t=this.element.getDocument();e=this._.items[e];var n=t.getById(e);n.removeClass("cke_selected"),t.getById(e+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var e,t=this._.items,n=this.element.getDocument();for(e in t){var i=t[e];n.getById(i).removeClass("cke_selected"),n.getById(i+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(e){return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected")},focus:function(e){this._.focusIndex=-1;var t,n=this.element.getElementsByTag("a"),i=-1;if(e){for(t=this.element.getDocument().getById(this._.items[e]).getFirst();e=n.getItem(++i);)if(e.equals(t)){this._.focusIndex=i;break}}else this.element.focus();t&&setTimeout((function(){t.focus()}),0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var e='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="listbox"',t="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"'),CKEDITOR.env.ie&&(t='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)==CKEDITOR.MOUSE_BUTTON_LEFT&&');e=e+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" onclick="'+t+'CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var n=CKEDITOR.addTemplate("combo",e);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(e){CKEDITOR.tools.extend(this,e,{canGroup:!1,title:e.label,modes:{wysiwyg:1},editorFocus:1}),e=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.className="cke_combopanel",e.block={multiSelect:e.multiSelect,attributes:e.attributes},e.toolbarRelated=!0,this._={panelDefinition:e,items:{},listeners:[]}},proto:{renderHtml:function(e){var t=[];return this.render(e,t),t.join("")},render:function(e,t){function i(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;e.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var o=CKEDITOR.env,r="cke_"+this.id,a=CKEDITOR.tools.addFunction((function(t){d&&(e.unlockSelection(1),d=0),l.execute(t)}),this),s=this,l={id:r,combo:this,focus:function(){CKEDITOR.document.getById(r).getChild(1).focus()},execute:function(t){var n=s._;if(n.state!=CKEDITOR.TRISTATE_DISABLED)if(s.createPanel(e),n.on)n.panel.hide();else{s.commit();var i=s.getValue();i?n.list.mark(i):n.list.unmarkAll(),n.panel.showBlock(s.id,new CKEDITOR.dom.element(t),4)}},clickFn:a};this._.listeners.push(e.on("activeFilterChange",i,this)),this._.listeners.push(e.on("mode",i,this)),this._.listeners.push(e.on("selectionChange",i,this)),!this.readOnly&&this._.listeners.push(e.on("readOnly",i,this));var c=CKEDITOR.tools.addFunction((function(e,t){var n=(e=new CKEDITOR.dom.event(e)).getKeystroke();switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(a,t);break;default:l.onkey(l,n)}e.preventDefault()})),u=CKEDITOR.tools.addFunction((function(){l.onfocus&&l.onfocus()})),d=0;return l.keyDownFn=c,o={id:r,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:o.gecko&&!o.hc?"":(this.title||"").replace("'",""),keydownFn:c,focusFn:u,clickFn:a},n.output(o,t),this.onRender&&this.onRender(),l},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,n=this._.panelDefinition.block,i=t.parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,r=new CKEDITOR.ui.floatPanel(e,i,t),a=(t=r.addListBlock(this.id,n),this);r.onShow=function(){this.element.addClass(o),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!e.focusManager.hasFocus&&e.focus(),a.onOpen&&a.onOpen()},r.onHide=function(t){this.element.removeClass(o),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!t&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1)},t.onClick=function(e,t){a.onClick&&a.onClick.call(a,e,t),r.hide()},this._.panel=r,this._.list=t,r.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(e,t){this._.value=e;var n=this.document.getById("cke_"+this.id+"_text");n&&(e||t?n.removeClass("cke_combo_inlinelabel"):(t=this.label,n.addClass("cke_combo_inlinelabel")),n.setText(void 0!==t?t:e))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(e){this._.list.mark(e)},hideItem:function(e){this._.list.hideItem(e)},hideGroup:function(e){this._.list.hideGroup(e)},showAll:function(){this._.list.showAll()},add:function(e,t,n){this._.items[e]=n||e,this._.list.add(e,t,n)},startGroup:function(e){this._.list.startGroup(e)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(e){if(this._.state!=e){var t=this.document.getById("cke_"+this.id);t.setState(e,"cke_combo"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this._.state=e}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,(function(e){e.removeListener()})),this._.listeners=[]}},statics:{handler:{create:function(e){return new CKEDITOR.ui.richCombo(e)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(e,t){this.add(e,CKEDITOR.UI_RICHCOMBO,t)}}(),function(){function e(e,t,n,i,o,r,a,s){var l=e.config,c=new CKEDITOR.style(a),u=o.split(";");o=[];for(var d={},f=0;f<u.length;f++){if(h=u[f]){var h=h.split("/"),p={},m=u[f]=h[0];p[n]=o[f]=h[1]||m,d[m]=new CKEDITOR.style(a,p),d[m]._.definition.name=m}else u.splice(f--,1)}e.ui.addRichCombo(t,{label:i.label,title:i.panelTitle,toolbar:"styles,"+s,defaultValue:"cke-default",allowedContent:c,requiredContent:c,contentTransformations:"span"===a.element?[[{element:"font",check:"span",left:function(e){return!!e.attributes.size||!!e.attributes.align||!!e.attributes.face},right:function(e){var t=" x-small small medium large x-large xx-large 48px".split(" ");e.name="span",e.attributes.size&&(e.styles["font-size"]=t[e.attributes.size],delete e.attributes.size),e.attributes.align&&(e.styles["text-align"]=e.attributes.align,delete e.attributes.align),e.attributes.face&&(e.styles["font-family"]=e.attributes.face,delete e.attributes.face)}}]]:null,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(l.contentsCss),multiSelect:!1,attributes:{"aria-label":i.panelTitle}},init:function(){var t;t="("+e.lang.common.optionDefault+")",this.startGroup(i.panelTitle),this.add(this.defaultValue,t,t);for(var n=0;n<u.length;n++)t=u[n],this.add(t,d[t].buildPreview(),t)},onClick:function(t){e.focus(),e.fire("saveSnapshot");var n,i,o,r,a,s=this.getValue(),l=d[t];if(s&&t!=s)if(n=d[s],(s=e.getSelection().getRanges()[0]).collapsed){if(o=(i=e.elementPath()).contains((function(e){return n.checkElementRemovable(e)}))){if(r=s.checkBoundaryOfElement(o,CKEDITOR.START),a=s.checkBoundaryOfElement(o,CKEDITOR.END),r&&a){for(r=s.createBookmark();i=o.getFirst();)i.insertBefore(o);o.remove(),s.moveToBookmark(r)}else r||a?s.moveToPosition(o,r?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_END):(s.splitElement(o),s.moveToPosition(o,CKEDITOR.POSITION_AFTER_END)),function e(t,n,i){var o=n.pop();if(o){if(i)return e(t,n,o.equals(i)?null:i);i=o.clone(),t.insertNode(i),t.moveToPosition(i,CKEDITOR.POSITION_AFTER_START),e(t,n)}}(s,i.elements.slice(),o);e.getSelection().selectRanges([s])}}else e.removeStyle(n);t===this.defaultValue?n&&e.removeStyle(n):e.applyStyle(l),e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",(function(t){var n=this.getValue();t=t.data.path.elements;for(var i,o=0;o<t.length;o++)for(var a in i=t[o],d)if(d[a].checkElementMatch(i,!0,e))return void(a!=n&&this.setValue(a));this.setValue("",r)}),this)},refresh:function(){e.activeFilter.check(c)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(t){var n=t.config;e(t,"Font","family",t.lang.font,n.font_names,n.font_defaultLabel,n.font_style,30),e(t,"FontSize","size",t.lang.font.fontSize,n.fontSize_sizes,n.fontSize_defaultLabel,n.fontSize_style,40)}})}(),CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif",CKEDITOR.config.font_defaultLabel="",CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",CKEDITOR.config.fontSize_defaultLabel="",CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(e){if(!e.blockless){for(var t=e.config,n=e.lang.format,i=t.format_tags.split(";"),o={},r=0,a=[],s=0;s<i.length;s++){var l=i[s],c=new CKEDITOR.style(t["format_"+l]);e.filter.customConfig&&!e.filter.check(c)||(r++,o[l]=c,o[l]._.enterMode=e.config.enterMode,a.push(c))}0!==r&&e.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){for(var e in this.startGroup(n.panelTitle),o){var t=n["tag_"+e];this.add(e,o[e].buildPreview(t),t)}},onClick:function(t){e.focus(),e.fire("saveSnapshot"),t=o[t];var n=e.elementPath();t.checkActive(n,e)||e.applyStyle(t),setTimeout((function(){e.fire("saveSnapshot")}),0)},onRender:function(){e.on("selectionChange",(function(t){var n=this.getValue();for(var i in t=t.data.path,this.refresh(),o)if(o[i].checkActive(t,e))return void(i!=n&&this.setValue(i,e.lang.format["tag_"+i]));this.setValue("")}),this)},onOpen:function(){for(var t in this.showAll(),o)e.activeFilter.check(o[t])||this.hideItem(t)},refresh:function(){var t=e.elementPath();if(t){if(t.isContextFor("p"))for(var n in o)if(e.activeFilter.check(o[n]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var e={canUndo:!1,exec:function(e){var t=e.document.createElement("hr");e.insertElement(t)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",e),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(e){var t=new CKEDITOR.htmlWriter;t.forceSimpleAmpersand=e.config.forceSimpleAmpersand,t.indentationChars=e.config.dataIndentationChars||"\t",e.dataProcessor.writer=t}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var e,t=CKEDITOR.dtd;for(e in CKEDITOR.tools.extend({},t.$nonBodyContent,t.$block,t.$listItem,t.$tableContent))this.setRules(e,{indent:!t[e]["#"],breakBeforeOpen:1,breakBeforeClose:!t[e]["#"],breakAfterClose:1,needsSpace:e in t.$block&&!(e in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(e){var t=this._.rules[e];this._.afterCloser&&t&&t.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():t&&t.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",e),this._.afterCloser=0},openTagClose:function(e,t){var n=this._.rules[e];t?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==e&&(this._.inPre=1)},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t),this.forceSimpleAmpersand&&(t=t.replace(/&amp;/g,"&"))),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){var t=this._.rules[e];t&&t.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():t&&t.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",e,">"),"pre"==e&&(this._.inPre=0),t&&t.breakAfterClose&&(this.lineBreak(),this._.needsSpace=t.needsSpace),this._.afterCloser=1},text:function(e){this._.indent&&(this.indentation(),!this._.inPre&&(e=CKEDITOR.tools.ltrim(e))),this._.output.push(e)},comment:function(e){this._.indent&&this.indentation(),this._.output.push("\x3c!--",e,"--\x3e")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(e,t){var n=this._.rules[e];n?CKEDITOR.tools.extend(n,t,!0):this._.rules[e]=t}}}),function(){function e(e,i){var o,r;i.on("refresh",(function(e){var i,o=[t];for(i in e.data.states)o.push(e.data.states[i]);this.setState(CKEDITOR.tools.search(o,n)?n:t)}),i,null,100),i.on("exec",(function(t){o=e.getSelection(),r=o.createBookmarks(1),t.data||(t.data={}),t.data.done=!1}),i,null,0),i.on("exec",(function(){e.forceNextSelectionCheck(),o.selectBookmarks(r)}),i,null,100)}var t=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(t){var n=CKEDITOR.plugins.indent.genericDefinition;e(t,t.addCommand("indent",new n(!0))),e(t,t.addCommand("outdent",new n)),t.ui.addButton&&(t.ui.addButton("Indent",{label:t.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),t.ui.addButton("Outdent",{label:t.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),t.on("dirChanged",(function(e){var n=t.createRange(),i=e.data.node;n.setStartBefore(i),n.setEndAfter(i);for(var o,r=new CKEDITOR.dom.walker(n);o=r.next();)if(o.type==CKEDITOR.NODE_ELEMENT)if(!o.equals(i)&&o.getDirection())n.setStartAfter(o),r=new CKEDITOR.dom.walker(n);else{var a=t.config.indentClasses;if(a)for(var s="ltr"==e.data.dir?["_rtl",""]:["","_rtl"],l=0;l<a.length;l++)o.hasClass(a[l]+s[0])&&(o.removeClass(a[l]+s[0]),o.addClass(a[l]+s[1]));a=o.getStyle("margin-right"),s=o.getStyle("margin-left"),a?o.setStyle("margin-left",a):o.removeStyle("margin-left"),s?o.setStyle("margin-right",s):o.removeStyle("margin-right")}}))}}),CKEDITOR.plugins.indent={genericDefinition:function(e){this.isIndent=!!e,this.startDisabled=!this.isIndent},specificDefinition:function(e,t,n){this.name=t,this.editor=e,this.jobs={},this.enterBr=e.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(e,t){e.on("pluginsLoaded",(function(){for(var e in t)!function(e,t){var n,i=e.getCommand(t.relatedGlobal);for(n in t.jobs)i.on("exec",(function(i){i.data.done||(e.fire("lockSnapshot"),t.execJob(e,n)&&(i.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(t.database))}),this,null,n),i.on("refresh",(function(i){i.data.states||(i.data.states={}),i.data.states[t.name+"@"+n]=t.refreshJob(e,n,i.data.path)}),this,null,n);e.addFeature(t)}(this,t[e])}))}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(e,n){var i=this.jobs[n];if(i.state!=t)return i.exec.call(this,e)},refreshJob:function(e,n,i){return n=this.jobs[n],e.activeFilter.checkFeature(this)?n.state=n.refresh.call(this,e,i):n.state=t,n.state},getContext:function(e){return e.contains(this.context)}}}(),function(){function e(e){function i(t){for(var i=o.startContainer,l=o.endContainer;i&&!i.getParent().equals(t);)i=i.getParent();for(;l&&!l.getParent().equals(t);)l=l.getParent();if(!i||!l)return!1;for(var c=[],u=!1;!u;)i.equals(l)&&(u=!0),c.push(i),i=i.getNext();if(1>c.length)return!1;for(i=t.getParents(!0),l=0;l<i.length;l++)if(i[l].getName&&s[i[l].getName()]){t=i[l];break}i=r.isIndent?1:-1,l=c[0],c=c[c.length-1];var d=(u=CKEDITOR.plugins.list.listToArray(t,a))[c.getCustomData("listarray_index")].indent;for(l=l.getCustomData("listarray_index");l<=c.getCustomData("listarray_index");l++)if(u[l].indent+=i,0<i){for(var f=u[l].parent,h=l-1;0<=h;h--)if(u[h].indent===i){f=u[h].parent;break}u[l].parent=new CKEDITOR.dom.element(f.getName(),f.getDocument())}for(l=c.getCustomData("listarray_index")+1;l<u.length&&u[l].indent>d;l++)u[l].indent+=i;var p;if((i=CKEDITOR.plugins.list.arrayToList(u,a,null,e.config.enterMode,t.getDirection()),!r.isIndent)&&((p=t.getParent())&&p.is("li"))){var m,g=[];for(l=(c=i.listNode.getChildren()).count()-1;0<=l;l--)(m=c.getItem(l))&&m.is&&m.is("li")&&g.push(m)}if(i&&i.listNode.replace(t),g&&g.length)for(l=0;l<g.length;l++){for(m=t=g[l];(m=m.getNext())&&m.is&&m.getName()in s;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(n)&&t.append(o.document.createText("Â ")),t.append(m);t.insertAfter(p)}return i&&e.fire("contentDomInvalidated"),!0}for(var o,r=this,a=this.database,s=this.context,l=((l=e.getSelection())&&l.getRanges()).createIterator();o=l.getNextRange();){for(var c=o.getCommonAncestor();c&&(c.type!=CKEDITOR.NODE_ELEMENT||!s[c.getName()]);){if(e.editable().equals(c)){c=!1;break}c=c.getParent()}if(c||(c=o.startPath().contains(s))&&o.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),!c){var u=o.getEnclosedNode();u&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()in s&&(o.setStartAt(u,CKEDITOR.POSITION_AFTER_START),o.setEndAt(u,CKEDITOR.POSITION_BEFORE_END),c=u)}if(c&&o.startContainer.type==CKEDITOR.NODE_ELEMENT&&o.startContainer.getName()in s&&((u=new CKEDITOR.dom.walker(o)).evaluator=t,o.startContainer=u.next()),c&&o.endContainer.type==CKEDITOR.NODE_ELEMENT&&o.endContainer.getName()in s&&((u=new CKEDITOR.dom.walker(o)).evaluator=t,o.endContainer=u.previous()),c)return i(c)}return 0}function t(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is("li")}function n(e){return i(e)&&o(e)}var i=CKEDITOR.dom.walker.whitespaces(!0),o=CKEDITOR.dom.walker.bookmark(!1,!0),r=CKEDITOR.TRISTATE_DISABLED,a=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function n(t){i.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],t.on("key",(function(e){var n=t.elementPath();if("wysiwyg"==t.mode&&e.data.keyCode==this.indentKey&&n){var i=this.getContext(n);!i||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,n,i)||(t.execCommand(this.relatedGlobal),e.cancel())}}),this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(e,t){var n=this.getContext(t),i=CKEDITOR.plugins.indentList.firstItemInPath(this.context,t,n);return n&&this.isIndent&&!i?a:r}:function(e,t){return!this.getContext(t)||this.isIndent?r:a},exec:CKEDITOR.tools.bind(e,this)}}var i=CKEDITOR.plugins.indent;i.registerCommands(t,{indentlist:new n(t,"indentlist",!0),outdentlist:new n(t,"outdentlist")}),CKEDITOR.tools.extend(n.prototype,i.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(e,n,i){var o=n.contains(t);return i||(i=n.contains(e)),i&&o&&o.equals(i.getFirst(t))}}(),function(){function e(e,t){var n;if(t=void 0===t||t)n=e.getComputedStyle("text-align");else{for(;(!e.hasAttribute||!e.hasAttribute("align")&&!e.getStyle("text-align"))&&(n=e.getParent());)e=n;n=e.getStyle("text-align")||e.getAttribute("align")||""}return n&&(n=n.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,"")),!n&&t&&(n="rtl"==e.getComputedStyle("direction")?"right":"left"),n}function t(e,t,n){this.editor=e,this.name=t,this.value=n,this.context="p",t=e.config.justifyClasses;var i=e.config.enterMode==CKEDITOR.ENTER_P?"p":"div";if(t){switch(n){case"left":this.cssClassName=t[0];break;case"center":this.cssClassName=t[1];break;case"right":this.cssClassName=t[2];break;case"justify":this.cssClassName=t[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+t.join("|")+")(?=$|\\s)"),this.requiredContent=i+"("+this.cssClassName+")"}else this.requiredContent=i+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}},e.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function n(e){var t=e.editor,n=t.createRange();n.setStartBefore(e.data.node),n.setEndAfter(e.data.node);for(var i,o=new CKEDITOR.dom.walker(n);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(e.data.node)&&i.getDirection())n.setStartAfter(i),o=new CKEDITOR.dom.walker(n);else{var r=t.config.justifyClasses;r&&(i.hasClass(r[0])?(i.removeClass(r[0]),i.addClass(r[2])):i.hasClass(r[2])&&(i.removeClass(r[2]),i.addClass(r[0]))),"left"==(r=i.getStyle("text-align"))?i.setStyle("text-align","right"):"right"==r&&i.setStyle("text-align","left")}}t.prototype={exec:function(t){var n=t.getSelection(),i=t.config.enterMode;if(n){for(var o,r,a=n.createBookmarks(),s=n.getRanges(),l=this.cssClassName,c=void 0===(c=t.config.useComputedState)||c,u=s.length-1;0<=u;u--)for((o=s[u].createIterator()).enlargeBr=i!=CKEDITOR.ENTER_BR;r=o.getNextParagraph(i==CKEDITOR.ENTER_P?"p":"div");)if(!r.isReadOnly()){var d,f=r.getName();if(d=t.activeFilter.check(f+"{text-align}"),(f=t.activeFilter.check(f+"("+l+")"))||d){r.removeAttribute("align"),r.removeStyle("text-align");var h=l&&(r.$.className=CKEDITOR.tools.ltrim(r.$.className.replace(this.cssClassRegex,""))),p=this.state==CKEDITOR.TRISTATE_OFF&&(!c||e(r,!0)!=this.value);l&&f?p?r.addClass(l):h||r.removeAttribute("class"):p&&d&&r.setStyle("text-align",this.value)}}t.focus(),t.forceNextSelectionCheck(),n.selectBookmarks(a)}},refresh:function(t,n){var i=n.block||n.blockLimit,o=i.getName(),r=i.equals(t.editable());o=this.cssClassName?t.activeFilter.check(o+"("+this.cssClassName+")"):t.activeFilter.check(o+"{text-align}");r&&!CKEDITOR.dtd.$list[n.lastElement.getName()]?this.setState(CKEDITOR.TRISTATE_OFF):!r&&o?this.setState(e(i,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}},CKEDITOR.plugins.add("justify",{init:function(e){if(!e.blockless){var i=new t(e,"justifyleft","left"),o=new t(e,"justifycenter","center"),r=new t(e,"justifyright","right"),a=new t(e,"justifyblock","justify");e.addCommand("justifyleft",i),e.addCommand("justifycenter",o),e.addCommand("justifyright",r),e.addCommand("justifyblock",a),e.ui.addButton&&(e.ui.addButton("JustifyLeft",{label:e.lang.common.alignLeft,command:"justifyleft",toolbar:"align,10"}),e.ui.addButton("JustifyCenter",{label:e.lang.common.center,command:"justifycenter",toolbar:"align,20"}),e.ui.addButton("JustifyRight",{label:e.lang.common.alignRight,command:"justifyright",toolbar:"align,30"}),e.ui.addButton("JustifyBlock",{label:e.lang.common.justify,command:"justifyblock",toolbar:"align,40"})),e.on("dirChanged",n)}}})}(),CKEDITOR.plugins.add("lineheight",{requires:"richcombo",lang:"ar,de,en,es,fr,ko,pt",init:function(e){var t=e.config;!function(e,t,n,i,o,r,a,s){i=e.config;for(var l=new CKEDITOR.style(a),c=o.split(";"),u=(o=[],{}),d=0;d<c.length;d++)if(f=c[d]){var f=f.split("/"),h={},p=c[d]=f[0];h[n]=o[d]=f[1]||p,u[p]=new CKEDITOR.style(a,h),u[p]._.definition.name=p}else c.splice(d--,1);e.ui.addRichCombo(t,{label:e.lang.lineheight.title,title:e.lang.lineheight.title,toolbar:"styles,"+s,allowedContent:l,requiredContent:l,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(i.contentsCss),multiSelect:!1,attributes:{"aria-label":e.lang.lineheight.title}},init:function(){this.startGroup(e.lang.lineheight.title);for(var t=0;t<c.length;t++){var n=c[t];this.add(n,u[n].buildPreview(),n)}},onClick:function(t){e.focus(),e.fire("saveSnapshot");var n=u[t];e[this.getValue()==t?"removeStyle":"applyStyle"](n),e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",(function(t){for(var n,i=this.getValue(),o=(t=t.data.path.elements,0);o<t.length;o++)for(var a in n=t[o],u)if(u[a].checkElementMatch(n,!0,e))return void(a!=i&&this.setValue(a));this.setValue("",r)}),this)},refresh:function(){e.activeFilter.check(l)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}(e,"lineheight","size",e.lang.lineheight.title,t.line_height,e.lang.lineheight.title,t.lineHeight_style,40)}}),CKEDITOR.config.line_height="1;2;3;4;5;6;7;8;9;10;11;12;13;14;15;16;17;18;19;20;21;22;23;24;25;26;27;28;29;30;31;32;33;34;35;36;37;38;39;40;41;42;43;44;45;46;47;48;49;50;51;52;53;54;55;56;57;58;59;60;61;62;63;64;65;66;67;68;69;70;71;72",CKEDITOR.config.lineHeight_style={element:"span",styles:{"line-height":"#(size)"},overrides:[{element:"line-height",attributes:{size:null}}]},function(){function e(e,t){var n=i.exec(e),o=i.exec(t);if(n){if(!n[2]&&"px"==o[2])return o[1];if("px"==n[2]&&!o[2])return o[1]+"px"}return t}var t=CKEDITOR.htmlParser.cssStyle,n=CKEDITOR.tools.cssLength,i=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,o={elements:{$:function(n){var i=n.attributes;if((i=(i=(i=i&&i["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(i)))&&i.children[0])&&n.attributes["data-cke-resizable"]){var o=new t(n).rules;n=i.attributes;var r=o.width;o=o.height;r&&(n.width=e(n.width,r)),o&&(n.height=e(n.height,o))}return i}}};CKEDITOR.plugins.add("fakeobjects",{init:function(e){e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(e){(e=(e=e.dataProcessor)&&e.htmlFilter)&&e.addRules(o,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(e,i,o,r){var a=(a=this.lang.fakeobjects)[o]||a.unknown;return i={class:i,"data-cke-realelement":encodeURIComponent(e.getOuterHtml()),"data-cke-real-node-type":e.type,alt:a,title:a,align:e.getAttribute("align")||""},CKEDITOR.env.hc||(i.src=CKEDITOR.tools.transparentImageData),o&&(i["data-cke-real-element-type"]=o),r&&(i["data-cke-resizable"]=r,o=new t,r=e.getAttribute("width"),e=e.getAttribute("height"),r&&(o.rules.width=n(r)),e&&(o.rules.height=n(e)),o.populate(i)),this.document.createElement("img",{attributes:i})},CKEDITOR.editor.prototype.createFakeParserElement=function(e,i,o,r){var a,s=(s=this.lang.fakeobjects)[o]||s.unknown;return a=new CKEDITOR.htmlParser.basicWriter,e.writeHtml(a),a=a.getHtml(),i={class:i,"data-cke-realelement":encodeURIComponent(a),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.attributes.align||""},CKEDITOR.env.hc||(i.src=CKEDITOR.tools.transparentImageData),o&&(i["data-cke-real-element-type"]=o),r&&(i["data-cke-resizable"]=r,r=e.attributes,e=new t,o=r.width,r=r.height,void 0!==o&&(e.rules.width=n(o)),void 0!==r&&(e.rules.height=n(r)),e.populate(i)),new CKEDITOR.htmlParser.element("img",i)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var n=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var i=t.getStyle("width");t=t.getStyle("height"),i&&n.setAttribute("width",e(n.getAttribute("width"),i)),t&&n.setAttribute("height",e(n.getAttribute("height"),t))}return n}}(),function(){function e(e){return e.replace(/'/g,"\\$&")}function t(e){for(var t,n=e.length,i=[],o=0;o<n;o++)t=e.charCodeAt(o),i.push(t);return"String.fromCharCode("+i.join(",")+")"}function n(t,n){for(var i,o,r=(a=t.plugins.link).compiledProtectionFunction.params,a=[a.compiledProtectionFunction.name,"("],s=0;s<r.length;s++)o=n[i=r[s].toLowerCase()],0<s&&a.push(","),a.push("'",o?e(encodeURIComponent(n[i])):"","'");return a.push(")"),a.join("")}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function e(e){return n.replace(/%1/g,"rtl"==e?"right":"left").replace(/%2/g,"cke_contents_"+e)}var t="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+t+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+t+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(e("ltr")+e("rtl"))},init:function(e){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(e,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(e,"link","target")&&(t=t.replace("]",",target,onclick]")),e.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),e.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),e.addCommand("unlink",new CKEDITOR.unlinkCommand),e.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),e.setKeystroke(CKEDITOR.CTRL+76,"link"),e.setKeystroke(CKEDITOR.CTRL+75,"link"),e.ui.addButton&&(e.ui.addButton("Link",{label:e.lang.link.toolbar,command:"link",toolbar:"links,10"}),e.ui.addButton("Unlink",{label:e.lang.link.unlink,command:"unlink",toolbar:"links,20"}),e.ui.addButton("Anchor",{label:e.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),e.on("doubleclick",(function(t){var n=t.data.element.getAscendant({a:1,img:1},!0);n&&!n.isReadOnly()&&(n.is("a")?(t.data.dialog=!n.getAttribute("name")||n.getAttribute("href")&&n.getChildCount()?"link":"anchor",t.data.link=n):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,n)&&(t.data.dialog="anchor"))}),null,null,0),e.on("doubleclick",(function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&e.getSelection().selectElement(t.data.link)}),null,null,20),e.addMenuItems&&e.addMenuItems({anchor:{label:e.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:e.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:e.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:e.lang.link.unlink,command:"unlink",group:"link",order:5}}),e.contextMenu&&e.contextMenu.addListener((function(t){if(!t||t.isReadOnly())return null;if(!(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t))&&!(t=CKEDITOR.plugins.link.getSelectedLink(e)))return null;var n={};return t.getAttribute("href")&&t.getChildCount()&&(n={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(n.anchor=n.removeAnchor=CKEDITOR.TRISTATE_OFF),n})),this.compiledProtectionFunction=function(e){var t;return(e=e.config.emailProtection||"")&&"encode"!=e&&(t={},e.replace(/^([^(]+)\(([^)]+)\)$/,(function(e,n,i){t.name=n,t.params=[],i.replace(/[^,\s]+/g,(function(e){t.params.push(e)}))}))),t}(e)},afterInit:function(e){e.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:e.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=e._.elementsPath&&e._.elementsPath.filters;t&&t.push((function(t,n){if("a"==n&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t)||t.getAttribute("name")&&(!t.getAttribute("href")||!t.getChildCount())))return"anchor"}))}});var i=/^javascript:/,o=/^(?:mailto)(?:(?!\?(subject|body)=).)+/i,r=/subject=([^;?:@&=$,\/]*)/i,a=/body=([^;?:@&=$,\/]*)/i,s=/^#(.*)$/,l=/^((?:http|https|ftp|news):\/\/)?(.*)$/,c=/^(_(?:self|top|parent|blank))$/,u=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,d=/^javascript:([^(]+)\(([^)]+)\)$/,f=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,h=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,p=/^tel:(.*)$/,m={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType",class:"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(e,t){var n,i=e.getSelection(),o=i.getSelectedElement(),r=i.getRanges(),a=[];if(!t&&o&&o.is("a"))return o;for(o=0;o<r.length;o++)if((n=i.getRanges()[o]).shrink(CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),(n=e.elementPath(n.getCommonAncestor()).contains("a",1))&&t)a.push(n);else if(n)return n;return t?a:null},getEditorAnchors:function(e){for(var t,n=(i=(n=e.editable()).isInline()&&!e.plugins.divarea?e.document:n).getElementsByTag("a"),i=i.getElementsByTag("img"),o=[],r=0;t=n.getItem(r++);)(t.data("cke-saved-name")||t.hasAttribute("name"))&&o.push({name:t.data("cke-saved-name")||t.getAttribute("name"),id:t.getAttribute("id")});for(r=0;t=i.getItem(r++);)(t=this.tryRestoreFakeAnchor(e,t))&&o.push({name:t.getAttribute("name"),id:t.getAttribute("id")});return o},fakeAnchor:!0,tryRestoreFakeAnchor:function(e,t){if(t&&t.data("cke-real-element-type")&&"anchor"==t.data("cke-real-element-type")){var n=e.restoreRealElement(t);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(e,t){var n,g=t&&(t.data("cke-saved-href")||t.getAttribute("href"))||"",E=e.plugins.link.compiledProtectionFunction,v=e.config.emailProtection,T={};if(g.match(i)&&("encode"==v?g=g.replace(u,(function(e,t,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,t.split(","))+n.replace(/\\'/g,"'")})):v&&g.replace(d,(function(e,t,n){if(t==E.name){T.type="email",e=T.email={},t=/(^')|('$)/g;for(var i,o=(n=n.match(/[^,\s]+/g)).length,r=0;r<o;r++)i=decodeURIComponent(i=n[r].replace(t,"").replace(/\\'/g,"'")),e[E.params[r].toLowerCase()]=i;e.address=[e.name,e.domain].join("@")}}))),!T.type)if(v=g.match(s))T.type="anchor",T.anchor={},T.anchor.name=T.anchor.id=v[1];else if(v=g.match(p))T.type="tel",T.tel=v[1];else if(v=g.match(o)){n=g.match(r);g=g.match(a);var b=T.email={};T.type="email",b.address=v[0].replace("mailto:",""),n&&(b.subject=decodeURIComponent(n[1])),g&&(b.body=decodeURIComponent(g[1]))}else g&&(n=g.match(l))&&(T.type="url",T.url={},T.url.protocol=n[1],T.url.url=n[2]);if(t){if(g=t.getAttribute("target"))T.target={type:g.match(c)?g:"frame",name:g};else if(g=(g=t.data("cke-pa-onclick")||t.getAttribute("onclick"))&&g.match(f))for(T.target={type:"popup",name:g[1]};v=h.exec(g[2]);)"yes"!=v[2]&&"1"!=v[2]||v[1]in{height:1,width:1,top:1,left:1}?isFinite(v[2])&&(T.target[v[1]]=v[2]):T.target[v[1]]=!0;null!==t.getAttribute("download")&&(T.download=!0);var C;g={};for(C in m)(v=t.getAttribute(C))&&(g[m[C]]=v);(C=t.data("cke-saved-name")||g.advName)&&(g.advName=C),CKEDITOR.tools.isEmpty(g)||(T.advanced=g)}return T},getLinkAttributes:function(i,o){var r=i.config.emailProtection||"",a={};switch(o.type){case"url":r=o.url&&void 0!==o.url.protocol?o.url.protocol:"http://";var s=o.url&&CKEDITOR.tools.trim(o.url.url)||"";a["data-cke-saved-href"]=0===s.indexOf("/")?s:r+s;break;case"anchor":r=o.anchor&&o.anchor.id,a["data-cke-saved-href"]="#"+(o.anchor&&o.anchor.name||r||"");break;case"email":s=(u=o.email).address;switch(r){case"":case"encode":var l=encodeURIComponent(u.subject||""),c=encodeURIComponent(u.body||""),u=[];l&&u.push("subject="+l),c&&u.push("body="+c),u=u.length?"?"+u.join("&"):"","encode"==r?(r=["javascript:void(location.href='mailto:'+",t(s)],u&&r.push("+'",e(u),"'"),r.push(")")):r=["mailto:",s,u];break;default:r=s.split("@",2),u.name=r[0],u.domain=r[1],r=["javascript:",n(i,u)]}a["data-cke-saved-href"]=r.join("");break;case"tel":a["data-cke-saved-href"]="tel:"+o.tel}if(o.target)if("popup"==o.target.type){r=["window.open(this.href, '",o.target.name||"","', '"];var d="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for(s=d.length,l=function(e){o.target[e]&&d.push(e+"="+o.target[e])},u=0;u<s;u++)d[u]+=o.target[d[u]]?"=yes":"=no";l("width"),l("left"),l("height"),l("top"),r.push(d.join(","),"'); return false;"),a["data-cke-pa-onclick"]=r.join("")}else"notSet"!=o.target.type&&o.target.name&&(a.target=o.target.name);if(o.download&&(a.download=""),o.advanced){for(var f in m)(r=o.advanced[m[f]])&&(a[f]=r);a.name&&(a["data-cke-saved-name"]=a.name)}for(var h in a["data-cke-saved-href"]&&(a.href=a["data-cke-saved-href"]),f={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},o.advanced&&CKEDITOR.tools.extend(f,m),a)delete f[h];return{set:a,removed:CKEDITOR.tools.object.keys(f)}},showDisplayTextForElement:function(e,t){var n=t.getSelection();return!(t.widgets&&t.widgets.focused||n&&1<n.getRanges().length)&&(!e||!e.getName||!e.is({img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1}))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(e){if(CKEDITOR.env.ie){var t,n=e.getSelection().getRanges()[0],i=n.getPreviousEditableNode()&&n.getPreviousEditableNode().getAscendant("a",!0)||n.getNextEditableNode()&&n.getNextEditableNode().getAscendant("a",!0);n.collapsed&&i&&(t=n.createBookmark(),n.selectNodeContents(i),n.select())}i=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),e.removeStyle(i),t&&(n.moveToBookmark(t),n.select())},refresh:function(e,t){var n=t.lastElement&&t.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(e){var t,n=e.getSelection(),i=n.createBookmarks();n&&(t=n.getSelectedElement())&&(t.getChildCount()?t.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t))?t.remove(1):(t=CKEDITOR.plugins.link.getSelectedLink(e))&&(t.hasAttribute("href")?(t.removeAttributes({name:1,"data-cke-saved-name":1}),t.removeClass("cke_anchor")):t.remove(1)),n.selectBookmarks(i)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0,linkDefaultProtocol:"http://"})}(),function(){function e(e,t,n,i){for(var o=CKEDITOR.plugins.list.listToArray(t.root,n),r=[],a=0;a<t.contents.length;a++){(c=(c=t.contents[a]).getAscendant("li",!0))&&!c.getCustomData("list_item_processed")&&(r.push(c),CKEDITOR.dom.element.setMarker(n,c,"list_item_processed",!0))}var s,l,c=t.root.getDocument();for(a=0;a<r.length;a++){var u=r[a].getCustomData("listarray_index");(s=o[u].parent).is(this.type)||(l=c.createElement(this.type),s.copyAttributes(l,{start:1,type:1}),l.removeStyle("list-style-type"),o[u].parent=l)}var d;for(o=(n=CKEDITOR.plugins.list.arrayToList(o,n,null,e.config.enterMode)).listNode.getChildCount(),a=0;a<o&&(d=n.listNode.getChild(a));a++)d.getName()==this.type&&i.push(d);n.listNode.replace(t.root),e.fire("contentDomInvalidated")}function t(e,t,n){var i,o,r=t.contents,a=t.root.getDocument(),s=[];if(1==r.length&&r[0].equals(t.root)){var l=a.createElement("div");r[0].moveChildren&&r[0].moveChildren(l),r[0].append(l),r[0]=l}for(t=t.contents[0].getParent(),l=0;l<r.length;l++)t=t.getCommonAncestor(r[l].getParent());for(e=void 0===(e=e.config.useComputedState)||e,l=0;l<r.length;l++)for(var c,u=r[l];c=u.getParent();){if(c.equals(t)){s.push(u),!o&&u.getDirection()&&(o=1),u=u.getDirection(e),null!==i&&(i=i&&i!=u?null:u);break}u=c}if(!(1>s.length)){for(r=s[s.length-1].getNext(),l=a.createElement(this.type),n.push(l);s.length;)n=s.shift(),e=a.createElement("li"),(u=n).is("pre")||p.test(u.getName())||"false"==u.getAttribute("contenteditable")?n.appendTo(e):(n.copyAttributes(e),i&&n.getDirection()&&(e.removeStyle("direction"),e.removeAttribute("dir")),n.moveChildren(e),n.remove()),e.appendTo(l);i&&o&&l.setAttribute("dir",i),r?l.insertBefore(r):l.appendTo(t)}}function n(e,t,n){function i(n){!(l=u[n?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(c=t.root[n?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||c.is&&c.isBlockBoundary({br:1})||e.document.createElement("br")[n?"insertBefore":"insertAfter"](l)}for(var o=CKEDITOR.plugins.list.listToArray(t.root,n),r=[],a=0;a<t.contents.length;a++){var s=t.contents[a];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(r.push(s),CKEDITOR.dom.element.setMarker(n,s,"list_item_processed",!0))}for(s=null,a=0;a<r.length;a++)o[s=r[a].getCustomData("listarray_index")].indent=-1;for(a=s+1;a<o.length;a++)if(o[a].indent>o[a-1].indent+1){for(r=o[a-1].indent+1-o[a].indent,s=o[a].indent;o[a]&&o[a].indent>=s;)o[a].indent+=r,a++;a--}var l,c,u=CKEDITOR.plugins.list.arrayToList(o,n,null,e.config.enterMode,t.root.getAttribute("dir")).listNode;i(!0),i(),u.replace(t.root),e.fire("contentDomInvalidated")}function i(e,t){this.name=e,this.context=this.type=t,this.allowedContent=t+" li",this.requiredContent=t}function o(e,t,n,i){for(var o,r;o=e[i?"getLast":"getFirst"](m);)(r=o.getDirection(1))!==t.getDirection(1)&&o.setAttribute("dir",r),o.remove(),n?o[i?"insertBefore":"insertAfter"](n):t.append(o,i),n=o}function r(e){function t(t){var n=e[t?"getPrevious":"getNext"](f);n&&n.type==CKEDITOR.NODE_ELEMENT&&n.is(e.getName())&&(o(e,n,null,!t),e.remove(),e=n)}t(),t(1)}function a(e){return e.type==CKEDITOR.NODE_ELEMENT&&(e.getName()in CKEDITOR.dtd.$block||e.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[e.getName()]["#"]}function s(e,t,n){e.fire("saveSnapshot"),n.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var i=n.extractContents();t.trim(!1,!0);var a=t.createBookmark(),s=(c=new CKEDITOR.dom.elementPath(t.startContainer)).block,c=c.lastElement.getAscendant("li",1)||s,u=(d=new CKEDITOR.dom.elementPath(n.startContainer)).contains(CKEDITOR.dtd.$listItem),d=d.contains(CKEDITOR.dtd.$list);for(s?(s=s.getBogus())&&s.remove():d&&(s=d.getPrevious(f))&&h(s)&&s.remove(),(s=i.getLast())&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("br")&&s.remove(),(s=t.startContainer.getChild(t.startOffset))?i.insertBefore(s):t.startContainer.append(i),u&&(i=l(u))&&(c.contains(u)?(o(i,u.getParent(),u),i.remove()):c.append(i));n.checkStartOfBlock()&&n.checkEndOfBlock()&&(i=(d=n.startPath()).block);)i.is("li")&&(c=i.getParent(),i.equals(c.getLast(f))&&i.equals(c.getFirst(f))&&(i=c)),n.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove();n=n.clone(),i=e.editable(),n.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).evaluator=function(e){return f(e)&&!h(e)},(n=n.next())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in CKEDITOR.dtd.$list&&r(n),t.moveToBookmark(a),t.select(),e.fire("saveSnapshot")}function l(e){return(e=e.getLast(f))&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in c?e:null}var c={ol:1,ul:1},u=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark(),f=function(e){return!(u(e)||d(e))},h=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(e,t,n,i,o){if(!c[e.getName()])return[];i||(i=0),n||(n=[]);for(var r=0,a=e.getChildCount();r<a;r++){var s=e.getChild(r);if(s.type==CKEDITOR.NODE_ELEMENT&&s.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(s,t,n,i+1),"li"==s.$.nodeName.toLowerCase()){var l={parent:e,indent:i,element:s,contents:[]};o?l.grandparent=o:(l.grandparent=e.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent())),t&&CKEDITOR.dom.element.setMarker(t,s,"listarray_index",n.length),n.push(l);for(var u,d=0,f=s.getChildCount();d<f;d++)(u=s.getChild(d)).type==CKEDITOR.NODE_ELEMENT&&c[u.getName()]?CKEDITOR.plugins.list.listToArray(u,t,n,i+1,l.grandparent):l.contents.push(u)}}return n},arrayToList:function(e,t,n,i,o){if(n||(n=0),!e||e.length<n+1)return null;for(var r,a,s,l=e[n].parent.getDocument(),u=new CKEDITOR.dom.documentFragment(l),h=null,p=n,m=Math.max(e[n].indent,0),g=null,E=i==CKEDITOR.ENTER_P?"p":"div";;){var v=e[p];if(r=v.grandparent,a=v.element.getDirection(1),v.indent==m){for(h&&e[p].parent.getName()==h.getName()||(h=e[p].parent.clone(!1,1),o&&h.setAttribute("dir",o),u.append(h)),g=h.append(v.element.clone(0,1)),a!=h.getDirection(1)&&g.setAttribute("dir",a),r=0;r<v.contents.length;r++)g.append(v.contents[r].clone(1,1));p++}else if(v.indent==Math.max(m,0)+1)v=e[p-1].element.getDirection(1),p=CKEDITOR.plugins.list.arrayToList(e,null,p,i,v!=a?a:null),!g.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=l.$.documentMode&&g.append(l.createText("Â ")),g.append(p.listNode),p=p.nextIndex;else{if(-1!=v.indent||n||!r)return null;c[r.getName()]?(g=v.element.clone(!1,!0),a!=r.getDirection(1)&&g.setAttribute("dir",a)):g=new CKEDITOR.dom.documentFragment(l);h=r.getDirection(1)!=a;var T,b,C=v.element,y=C.getAttribute("class"),I=C.getAttribute("style"),O=g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(i!=CKEDITOR.ENTER_BR||h||I||y),D=v.contents.length;for(r=0;r<D;r++)if(T=v.contents[r],d(T)&&1<D)O?b=T.clone(1,1):g.append(T.clone(1,1));else if(T.type==CKEDITOR.NODE_ELEMENT&&T.isBlockBoundary()){h&&!T.getDirection()&&T.setAttribute("dir",a),s=T;var R=C.getAttribute("style");R&&s.setAttribute("style",R.replace(/([^;])$/,"$1;")+(s.getAttribute("style")||"")),y&&T.addClass(y),s=null,b&&(g.append(b),b=null),g.append(T.clone(1,1))}else O?(s||(s=l.createElement(E),g.append(s),h&&s.setAttribute("dir",a)),I&&s.setAttribute("style",I),y&&s.setAttribute("class",y),b&&(s.append(b),b=null),s.append(T.clone(1,1))):g.append(T.clone(1,1));b&&((s||g).append(b),b=null),g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&p!=e.length-1&&(CKEDITOR.env.needsBrFiller&&(a=g.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=g.getLast(f))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)||g.append(l.createElement("br"))),"div"!=(a=g.$.nodeName.toLowerCase())&&"p"!=a||g.appendBogus(),u.append(g),h=null,p++}if(s=null,e.length<=p||Math.max(e[p].indent,0)<m)break}if(t)for(e=u.getFirst();e;){if(e.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(t,e),e.getName()in CKEDITOR.dtd.$listItem&&(l=o=i=void 0,i=(n=e).getDirection()))){for(o=n.getParent();o&&!(l=o.getDirection());)o=o.getParent();i==l&&n.removeAttribute("dir")}e=e.getNextSourceNode()}return{listNode:u,nextIndex:p}}};var p=/^h[1-6]$/,m=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);i.prototype={exec:function(i){function o(e){return c[e.root.getName()]&&!function(e,t){return CKEDITOR.tools.array.filter(e.getChildren().toArray(),(function(e){return-1===CKEDITOR.tools.array.indexOf(t,e.type)})).length}(e.root,[CKEDITOR.NODE_COMMENT])}function a(e){var t=!0;return 0!==e.getChildCount()&&(e.forEach((function(e){if(e.type!==CKEDITOR.NODE_COMMENT)return t=!1}),null,!0),t)}this.refresh(i,i.elementPath());var s=i.config,l=i.getSelection(),u=l&&l.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((h=i.editable()).getFirst(f)){var d=1==u.length&&u[0];(s=d&&d.getEnclosedNode())&&s.is&&this.type==s.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else s.enterMode==CKEDITOR.ENTER_BR?h.appendBogus():u[0].fixBlock(1,s.enterMode==CKEDITOR.ENTER_P?"p":"div"),l.selectRanges(u);s=l.createBookmarks(!0);for(var h=[],p={},m=(u=u.createIterator(),0);(d=u.getNextRange())&&++m;){var g=d.getBoundaryNodes(),E=g.startNode,v=g.endNode;for(E.type==CKEDITOR.NODE_ELEMENT&&"td"==E.getName()&&d.setStartAt(g.startNode,CKEDITOR.POSITION_AFTER_START),v.type==CKEDITOR.NODE_ELEMENT&&"td"==v.getName()&&d.setEndAt(g.endNode,CKEDITOR.POSITION_BEFORE_END),(d=d.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;g=d.getNextParagraph();)if(!g.getCustomData("list_block")&&!a(g)){CKEDITOR.dom.element.setMarker(p,g,"list_block",1);E=(b=i.elementPath(g)).elements,v=0;for(var T,b=b.blockLimit,C=E.length-1;0<=C&&(T=E[C]);C--)if(c[T.getName()]&&b.contains(T)){b.removeCustomData("list_group_object_"+m),(E=T.getCustomData("list_group_object"))?E.contents.push(g):(E={root:T,contents:[g]},h.push(E),CKEDITOR.dom.element.setMarker(p,T,"list_group_object",E)),v=1;break}v||((v=b).getCustomData("list_group_object_"+m)?v.getCustomData("list_group_object_"+m).contents.push(g):(E={root:v,contents:[g]},CKEDITOR.dom.element.setMarker(p,v,"list_group_object_"+m,E),h.push(E)))}}for(T=[];0<h.length;)E=h.shift(),this.state==CKEDITOR.TRISTATE_OFF?o(E)||(c[E.root.getName()]?e.call(this,i,E,p,T):t.call(this,i,E,T)):this.state==CKEDITOR.TRISTATE_ON&&c[E.root.getName()]&&!o(E)&&n.call(this,i,E,p);for(C=0;C<T.length;C++)r(T[C]);CKEDITOR.dom.element.clearAllMarkers(p),l.selectBookmarks(s),i.focus()},refresh:function(e,t){var n=t.contains(c,1),i=t.blockLimit||t.root;n&&i.contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(e){e.blockless||(e.addCommand("numberedlist",new i("numberedlist","ol")),e.addCommand("bulletedlist",new i("bulletedlist","ul")),e.ui.addButton&&(e.ui.addButton("NumberedList",{label:e.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),e.ui.addButton("BulletedList",{label:e.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),e.on("key",(function(t){var n,i=t.data.domEvent.getKey();if("wysiwyg"==e.mode&&i in{8:1,46:1}){var o=e.getSelection().getRanges()[0],r=o&&o.startPath();if(o&&o.collapsed){var u,d=8==i,p=e.editable(),m=new CKEDITOR.dom.walker(o.clone());if(m.evaluator=function(e){return f(e)&&!h(e)},m.guard=function(e,t){return!(t&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("table"))},i=o.clone(),d)if((u=r.contains(c))&&o.checkBoundaryOfElement(u,CKEDITOR.START)&&(u=u.getParent())&&u.is("li")&&(u=l(u))?(n=u,u=u.getPrevious(f),i.moveToPosition(u&&h(u)?u:n,CKEDITOR.POSITION_BEFORE_START)):(m.range.setStartAt(p,CKEDITOR.POSITION_AFTER_START),m.range.setEnd(o.startContainer,o.startOffset),(u=m.previous())&&u.type==CKEDITOR.NODE_ELEMENT&&(u.getName()in c||u.is("li"))&&(u.is("li")||(m.range.selectNodeContents(u),m.reset(),m.evaluator=a,u=m.previous()),n=u,i.moveToElementEditEnd(n),i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_BEFORE_END))),n)s(e,i,o),t.cancel();else{var g=r.contains(c);g&&o.checkBoundaryOfElement(g,CKEDITOR.START)&&(n=g.getFirst(f),o.checkBoundaryOfElement(n,CKEDITOR.START)&&(u=g.getPrevious(f),l(n)?u&&(o.moveToElementEditEnd(u),o.select()):e.execCommand("outdent"),t.cancel()))}else if(n=r.contains("li")){if(m.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),d=(p=n.getLast(f))&&a(p)?p:n,r=0,(u=m.next())&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()in c&&u.equals(p)?(r=1,u=m.next()):o.checkBoundaryOfElement(d,CKEDITOR.END)&&(r=2),r&&u){if((o=o.clone()).moveToElementEditStart(u),1==r&&(i.optimize(),!i.startContainer.equals(n))){for(n=i.startContainer;n.is(CKEDITOR.dtd.$inline);)g=n,n=n.getParent();g&&i.moveToPosition(g,CKEDITOR.POSITION_AFTER_END)}2==r&&(i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_BEFORE_END),o.endPath().block&&o.moveToPosition(o.endPath().block,CKEDITOR.POSITION_AFTER_START)),s(e,i,o),t.cancel()}}else m.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(u=m.next())&&u.type==CKEDITOR.NODE_ELEMENT&&u.is(c)&&(u=u.getFirst(f),r.block&&o.checkStartOfBlock()&&o.checkEndOfBlock()?(r.block.remove(),o.moveToElementEditStart(u),o.select()):l(u)?(o.moveToElementEditStart(u),o.select()):((o=o.clone()).moveToElementEditStart(u),s(e,i,o)),t.cancel());setTimeout((function(){e.selectionChange(1)}))}}})))}})}(),function(){function e(e,t,n){return d(t)&&d(n)&&n.equals(t.getNext((function(e){return!(V(e)||W(e)||f(e))})))}function t(e){this.upper=e[0],this.lower=e[1],this.set.apply(this,e.slice(2))}function n(e){var t=e.element;if(t&&d(t)&&(t=t.getAscendant(e.triggers,!0))&&e.editable.contains(t)){var n=a(t);if("true"==n.getAttribute("contenteditable"))return t;if(n.is(e.triggers))return n}return null}function i(e,t,n){return T(e,t),T(e,n),e=t.size.bottom,n=n.size.top,e&&n?0|(e+n)/2:e||n}function o(e,t,n){return t[n?"getPrevious":"getNext"]((function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!V(t)||d(t)&&!f(t)&&!u(e,t)}))}function r(e,t,n){return e>t&&e<n}function a(e,t){if(e.data("cke-editable"))return null;for(t||(e=e.getParent());e&&!e.data("cke-editable");){if(e.hasAttribute("contenteditable"))return e;e=e.getParent()}return null}function s(e){var t=e.doc,n=O('<span contenteditable="false" data-cke-magic-line="1" style="'+j+"position:absolute;border-top:1px dashed "+e.boxColor+'"></span>',t),i=CKEDITOR.getUrl(this.path+"images/"+(D.hidpi?"hidpi/":"")+"icon"+(e.rtl?"-rtl":"")+".png");for(y(n,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(e.editable,!0),this},lineChildren:[y(O('<span title="'+e.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:j+"height:17px;width:17px;"+(e.rtl?"left":"right")+":17px;background:url("+i+") center no-repeat "+e.boxColor+";cursor:pointer;"+(D.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(D.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),y(O(q,t),{base:U+"left:0px;border-left-color:"+e.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),y(O(q,t),{base:U+"right:0px;border-right-color:"+e.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){T(e,this);var t=e.holdDistance,n=this.size;return!!(n&&r(e.mouse.y,n.top-t,n.bottom+t)&&r(e.mouse.x,n.left-t,n.right+t))},place:function(){var t=e.view,n=e.editable,i=e.trigger,o=i.upper,a=i.lower,s=o||a,l=s.getParent(),c={};for(var u in this.trigger=i,o&&T(e,o,!0),a&&T(e,a,!0),T(e,l,!0),e.inInlineMode&&b(e,!0),l.equals(n)?(c.left=t.scroll.x,c.right=-t.scroll.x,c.width=""):(c.left=s.size.left-s.size.margin.left+t.scroll.x-(e.inInlineMode?t.editable.left+t.editable.border.left:0),c.width=s.size.outerWidth+s.size.margin.left+s.size.margin.right+t.scroll.x,c.right=""),o&&a?c.top=o.size.margin.bottom===a.size.margin.top?0|o.size.bottom+o.size.margin.bottom/2:o.size.margin.bottom<a.size.margin.top?o.size.bottom+o.size.margin.bottom:o.size.bottom+o.size.margin.bottom-a.size.margin.top:o?a||(c.top=o.size.bottom+o.size.margin.bottom):c.top=a.size.top-a.size.margin.top,i.is(N)||r(c.top,t.scroll.y-15,t.scroll.y+5)?(c.top=e.inInlineMode?0:t.scroll.y,this.look(N)):i.is(P)||r(c.top,t.pane.bottom-5,t.pane.bottom+15)?(c.top=e.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(P)):(e.inInlineMode&&(c.top-=t.editable.top+t.editable.border.top),this.look(A)),e.inInlineMode&&(c.top--,c.top+=t.editable.scroll.top,c.left+=t.editable.scroll.left),c)c[u]=CKEDITOR.tools.cssLength(c[u]);this.setStyles(c)},look:function(e){if(this.oldLook!=e){for(var t,n=this.lineChildren.length;n--;)(t=this.lineChildren[n]).setAttribute("style",t.base+t.looks[0|e/2]);this.oldLook=e}},wrap:new I("span",e.doc)}),t=n.lineChildren.length;t--;)n.lineChildren[t].appendTo(n);n.look(A),n.appendTo(n.wrap),n.unselectable(),n.lineChildren[0].on("mouseup",(function(t){n.detach(),l(e,(function(t){var n=e.line.trigger;t[n.is(w)?"insertBefore":"insertAfter"](n.is(w)?n.lower:n.upper)}),!0),e.editor.focus(),D.ie||e.enterMode==CKEDITOR.ENTER_BR||e.hotNode.scrollIntoView(),t.data.preventDefault(!0)})),n.on("mousedown",(function(e){e.data.preventDefault(!0)})),e.line=n}function l(e,t,n){var i,o=new CKEDITOR.dom.range(e.doc),r=e.editor;D.ie&&e.enterMode==CKEDITOR.ENTER_BR?i=e.doc.createText(L):(i=(i=a(e.element,!0))&&i.data("cke-enter-mode")||e.enterMode,(i=new I(k[i],e.doc)).is("br")||e.doc.createText(L).appendTo(i)),n&&r.fire("saveSnapshot"),t(i),o.moveToPosition(i,CKEDITOR.POSITION_AFTER_START),r.getSelection().selectRanges([o]),e.hotNode=i,n&&r.fire("saveSnapshot")}function c(e,t){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function i(n){var i=D.ie&&9>D.version?" ":L,o=e.hotNode&&e.hotNode.getText()==i&&e.element.equals(e.hotNode)&&e.lastCmdDirection===!!t;l(e,(function(i){o&&e.hotNode&&e.hotNode.remove(),i[t?"insertAfter":"insertBefore"](n),i.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!t}),e.lastCmdDirection=!!t})),D.ie||e.enterMode==CKEDITOR.ENTER_BR||e.hotNode.scrollIntoView(),e.line.detach()}return function(r){var s,l;(r=(r=r.getSelection().getStartElement()).getAscendant($,1),m(e,r)||!r||r.equals(e.editable)||r.contains(e.editable))||((s=a(r))&&"false"==s.getAttribute("contenteditable")&&(r=s),e.element=r,d(s=o(e,r,!t))&&s.is(e.triggers)&&s.is(M)&&(!o(e,s,!t)||(l=o(e,s,!t))&&d(l)&&l.is(e.triggers))?i(s):d(l=n(e))&&(o(e,l,!t)?(r=o(e,l,!t))&&d(r)&&r.is(e.triggers)&&i(l):i(l)))}}()}}function u(e,t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||!t.$)return!1;var n=e.line;return n.wrap.equals(t)||n.wrap.contains(t)}function d(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.$}function f(e){return!!d(e)&&((t=h(e))||(d(e)?t=!(!(t={left:1,right:1,center:1})[e.getComputedStyle("float")]&&!t[e.getAttribute("align")]):t=!1),t);var t}function h(e){return!!{absolute:1,fixed:1}[e.getComputedStyle("position")]}function p(e,t){return d(t)?t.is(e.triggers):null}function m(e,t){if(!t)return!1;for(var n=t.getParents(1),i=n.length;i--;)for(var o=e.tabuList.length;o--;)if(n[i].hasAttribute(e.tabuList[o]))return!0;return!1}function g(e){var n=e.editable,i=e.mouse,o=e.view,a=e.triggerOffset;b(e);var s=i.y>(e.inInlineMode?o.editable.top+o.editable.height/2:Math.min(o.editable.height,o.pane.height)/2);return(n=n[s?"getLast":"getFirst"]((function(e){return!(V(e)||W(e))})))?(u(e,n)&&(n=e.line.wrap[s?"getPrevious":"getNext"]((function(e){return!(V(e)||W(e))}))),d(n)&&!f(n)&&p(e,n)?(T(e,n),!s&&0<=n.size.top&&r(i.y,0,n.size.top+a)?(e=e.inInlineMode||0===o.scroll.y?N:A,new t([null,n,w,S,e])):s&&n.size.bottom<=o.pane.height&&r(i.y,n.size.bottom-a,o.pane.height)?(e=e.inInlineMode||r(n.size.bottom,o.pane.height-a,o.pane.height)?P:A,new t([n,null,K,S,e])):null):null):null}function E(e){var i=e.mouse,a=e.view,s=e.triggerOffset,l=n(e);if(!l)return null;T(e,l);s=Math.min(s,0|l.size.outerHeight/2);var c,u,h=[];if(r(i.y,l.size.top-1,l.size.top+s))u=!1;else{if(!r(i.y,l.size.bottom-s,l.size.bottom+1))return null;u=!0}if(f(l)||function(e,t,n){return!!(t=t[n?"getLast":"getFirst"]((function(t){return e.isRelevant(t)&&!t.is(B)})))&&(T(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y)}(e,l,u)||l.getParent().is(F))return null;var m=o(e,l,!u);if(m){if(m&&m.type==CKEDITOR.NODE_TEXT)return null;if(d(m)){if(f(m)||!p(e,m)||m.getParent().is(F))return null;h=[m,l][u?"reverse":"concat"]().concat([x,S])}}else l.equals(e.editable[u?"getLast":"getFirst"](e.isRelevant))?(b(e),u&&r(i.y,l.size.bottom-s,a.pane.height)&&r(l.size.bottom,a.pane.height-s,a.pane.height)?c=P:r(i.y,0,l.size.top+s)&&(c=N)):c=A,h=[null,l][u?"reverse":"concat"]().concat([u?K:w,S,c,l.equals(e.editable[u?"getLast":"getFirst"](e.isRelevant))?u?P:N:A]);return 0 in h?new t(h):null}function v(e,t,n,i){for(var o=t.getDocumentPosition(),r={},a={},s={},l={},c=X.length;c--;)r[X[c]]=parseInt(t.getComputedStyle.call(t,"border-"+X[c]+"-width"),10)||0,s[X[c]]=parseInt(t.getComputedStyle.call(t,"padding-"+X[c]),10)||0,a[X[c]]=parseInt(t.getComputedStyle.call(t,"margin-"+X[c]),10)||0;return n&&!i||C(e,i),l.top=o.y-(n?0:e.view.scroll.y),l.left=o.x-(n?0:e.view.scroll.x),l.outerWidth=t.$.offsetWidth,l.outerHeight=t.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+r.top+r.bottom),l.width=l.outerWidth-(s.left+s.right+r.left+r.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,e.inInlineMode&&(l.scroll={top:t.$.scrollTop,left:t.$.scrollLeft}),y({border:r,padding:s,margin:a,ignoreScroll:n},l,!0)}function T(e,t,n){if(!d(t))return t.size=null;if(t.size){if(t.size.ignoreScroll==n&&t.size.date>new Date-H)return null}else t.size={};return y(t.size,v(e,t,n),{date:+new Date},!0)}function b(e,t){e.view.editable=v(e,e.editable,t,!0)}function C(e,t){e.view||(e.view={});var n=e.view;if(!(!t&&n&&n.date>new Date-H)){n=(i=e.win).getScrollPosition();var i=i.getViewPaneSize();y(e.view,{scroll:{x:n.x,y:n.y,width:e.doc.$.documentElement.scrollWidth-i.width,height:e.doc.$.documentElement.scrollHeight-i.height},pane:{width:i.width,height:i.height,bottom:i.height+n.y},date:+new Date},!0)}}CKEDITOR.plugins.add("magicline",{init:function(e){var i,r,a,p=e.config,T=p.magicline_triggerOffset||30,I={editor:e,enterMode:p.enterMode,triggerOffset:T,holdDistance:0|T*(p.magicline_holdDistance||.5),boxColor:p.magicline_color||"#ff0000",rtl:"rtl"==p.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(p.magicline_tabuList||[]),triggers:p.magicline_everywhere?$:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};I.isRelevant=function(e){return d(e)&&!u(I,e)&&!f(e)},e.on("contentDom",(function(){var d=e.editable(),f=e.document,T=e.window;y(I,{editable:d,inInlineMode:d.isInline(),doc:f,win:T,hotNode:null},!0),I.boundary=I.inInlineMode?I.editable:I.doc.getDocumentElement(),d.is(_.$inline)||(I.inInlineMode&&!h(d)&&d.setStyles({position:"relative",top:null,left:null}),s.call(this,I),C(I),d.attachListener(e,"beforeUndoImage",(function(){I.line.detach()})),d.attachListener(e,"beforeGetData",(function(){I.line.wrap.getParent()&&(I.line.detach(),e.once("getData",(function(){I.line.attach()}),null,null,1e3))}),null,null,0),d.attachListener(I.inInlineMode?f:f.getWindow().getFrame(),"mouseout",(function(t){if("wysiwyg"==e.mode)if(I.inInlineMode){var n=t.data.$.clientX;t=t.data.$.clientY,C(I),b(I,!0);var i=I.view.editable,o=I.view.scroll;n>i.left-o.x&&n<i.right-o.x&&t>i.top-o.y&&t<i.bottom-o.y||(clearTimeout(a),a=null,I.line.detach())}else clearTimeout(a),a=null,I.line.detach()})),d.attachListener(d,"keyup",(function(){I.hiddenMode=0})),d.attachListener(d,"keydown",(function(t){if("wysiwyg"==e.mode)switch(t.data.getKeystroke()){case 2228240:case 16:I.hiddenMode=1,I.line.detach()}})),d.attachListener(I.inInlineMode?d:f,"mousemove",(function(t){if(r=!0,"wysiwyg"==e.mode&&!e.readOnly&&!a){var n={x:t.data.$.clientX,y:t.data.$.clientY};a=setTimeout((function(){I.mouse=n,a=I.trigger=null,C(I),r&&!I.hiddenMode&&e.focusManager.hasFocus&&!I.line.mouseNear()&&(I.element=z(I,!0))&&((I.trigger=g(I)||E(I)||G(I))&&!m(I,I.trigger.upper||I.trigger.lower)?I.line.attach().place():(I.trigger=null,I.line.detach()),r=!1)}),30)}})),d.attachListener(T,"scroll",(function(){"wysiwyg"==e.mode&&(I.line.detach(),D.webkit&&(I.hiddenMode=1,clearTimeout(i),i=setTimeout((function(){I.mouseDown||(I.hiddenMode=0)}),50)))})),d.attachListener(R?f:T,"mousedown",(function(){"wysiwyg"==e.mode&&(I.line.detach(),I.hiddenMode=1,I.mouseDown=1)})),d.attachListener(R?f:T,"mouseup",(function(){I.hiddenMode=0,I.mouseDown=0})),e.addCommand("accessPreviousSpace",c(I)),e.addCommand("accessNextSpace",c(I,!0)),e.setKeystroke([[p.magicline_keystrokePrevious,"accessPreviousSpace"],[p.magicline_keystrokeNext,"accessNextSpace"]]),e.on("loadSnapshot",(function(){var t,n,i,o;for(o in{p:1,br:1,div:1})for(i=(t=e.document.getElementsByTag(o)).count();i--;)if((n=t.getItem(i)).data("cke-magicline-hot"))return I.hotNode=n,void(I.lastCmdDirection="true"===n.data("cke-magicline-dir"))})),e._.magiclineBackdoor={accessFocusSpace:l,boxTrigger:t,isLine:u,getAscendantTrigger:n,getNonEmptyNeighbour:o,getSize:v,that:I,triggerEdge:E,triggerEditable:g,triggerExpand:G})}),this)}});var y=CKEDITOR.tools.extend,I=CKEDITOR.dom.element,O=I.createFromHtml,D=CKEDITOR.env,R=CKEDITOR.env.ie&&9>CKEDITOR.env.version,_=CKEDITOR.dtd,k={},w=128,K=64,x=32,S=16,N=4,P=2,A=1,L="Â ",F=_.$listItem,B=_.$tableContent,M=y({},_.$nonEditable,_.$empty),$=_.$block,H=100,j="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",U=j+"border-color:transparent;display:block;border-style:solid;",q="<span>"+L+"</span>";k[CKEDITOR.ENTER_BR]="br",k[CKEDITOR.ENTER_P]="p",k[CKEDITOR.ENTER_DIV]="div",t.prototype={set:function(e,t,n){return this.properties=e+t+(n||A),this},is:function(e){return(this.properties&e)==e}};var z=function(){function e(e,t){var n=e.$.elementFromPoint(t.x,t.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(t,n,i){if(!t.mouse)return null;var o=t.doc,r=t.line.wrap,a=e(o,i=i||t.mouse);return n&&u(t,a)&&(r.hide(),a=e(o,i),r.show()),!a||a.type!=CKEDITOR.NODE_ELEMENT||!a.$||D.ie&&9>D.version&&!t.boundary.equals(a)&&!t.boundary.contains(a)?null:a}}(),V=CKEDITOR.dom.walker.whitespaces(),W=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),G=function(){function n(n){var a,s,l;if(!d(p=n.element)||p.contains(n.editable)||p.isReadOnly())return null;if(l=function(e,n,i,o){for(var r=o,a=o,s=0,l=!1,c=!1,u=e.view.pane.height,d=e.mouse;d.y+s<u&&0<d.y-s&&(l||(l=n(r,o)),c||(c=n(a,o)),!l&&0<d.y-s&&(r=i(e,{x:d.x,y:d.y-s})),!c&&d.y+s<u&&(a=i(e,{x:d.x,y:d.y+s})),!l||!c);)s+=2;return new t([r,a,null,null])}(n,(function(e,t){return!t.equals(e)}),(function(e,t){return z(e,!0,t)}),p),e(0,a=l.upper,s=l.lower))return l.set(x,8);if(a&&p.contains(a))for(;!a.getParent().equals(p);)a=a.getParent();else a=p.getFirst((function(e){return o(n,e)}));if(s&&p.contains(s))for(;!s.getParent().equals(p);)s=s.getParent();else s=p.getLast((function(e){return o(n,e)}));if(!a||!s)return null;if(T(n,a),T(n,s),!r(n.mouse.y,a.size.top,s.size.bottom))return null;for(var c,u,f,h,p=Number.MAX_VALUE;s&&!s.equals(a)&&(u=a.getNext(n.isRelevant));)(c=Math.abs(i(n,a,u)-n.mouse.y))<p&&(p=c,f=a,h=u),T(n,a=u);return f&&h&&r(n.mouse.y,f.size.top,h.size.bottom)?(l.upper=f,l.lower=h,l.set(x,8)):null}function o(e,t){return!(t&&t.type==CKEDITOR.NODE_TEXT||W(t)||f(t)||u(e,t)||t.type==CKEDITOR.NODE_ELEMENT&&t.$&&t.is("br"))}return function(t){var i,o=n(t);if(i=o){i=o.upper;var r=o.lower;i=!(!i||!r||f(r)||f(i)||r.equals(i)||i.equals(r)||r.contains(i)||i.contains(r))&&!!(p(t,i)&&p(t,r)&&e(0,i,r))}return i?o:null}}(),X=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function e(e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||"form"!=e.getName())return[];for(var t=[],n=["style","className"],i=0;i<n.length;i++){var o=e.$.elements.namedItem(n[i]);o&&(o=new CKEDITOR.dom.element(o),t.push([o,o.nextSibling]),o.remove())}return t}function t(e,t){if(e&&e.type==CKEDITOR.NODE_ELEMENT&&"form"==e.getName()&&0<t.length)for(var n=t.length-1;0<=n;n--){var i=t[n][0],o=t[n][1];o?i.insertBefore(o):i.appendTo(e)}}function n(n,i){var o=e(n),r={},a=n.$;return i||(r.class=a.className||"",a.className=""),r.inline=a.style.cssText||"",i||(a.style.cssText="position: static; overflow: visible"),t(o),r}function i(n,i){var o=e(n),r=n.$;"class"in i&&(r.className=i.class),"inline"in i&&(r.style.cssText=i.inline),t(o)}function o(e){if(!e.editable().isInline()){var t,n=CKEDITOR.instances;for(t in n){var i=n[t];"wysiwyg"!=i.mode||i.readOnly||((i=i.document.getBody()).setAttribute("contentEditable",!1),i.setAttribute("contentEditable",!0))}e.editable().hasFocus&&(e.toolbox.focus(),e.focus())}}CKEDITOR.plugins.add("maximize",{init:function(e){function t(){var t=u.getViewPaneSize();e.resize(t.width,t.height,null,!0)}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var r,a,s,l=e.lang,c=CKEDITOR.document,u=c.getWindow(),d=CKEDITOR.TRISTATE_OFF;e.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var f=e.container.getFirst((function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")})),h=e.ui.space("contents");if("wysiwyg"==e.mode){var p=e.getSelection();r=p&&p.getRanges(),a=u.getScrollPosition()}else{var m=e.editable().$;r=!CKEDITOR.env.ie&&[m.selectionStart,m.selectionEnd],a=[m.scrollLeft,m.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(u.on("resize",t),s=u.getScrollPosition(),p=e.container;p=p.getParent();)p.setCustomData("maximize_saved_styles",n(p)),p.setStyle("z-index",e.config.baseFloatZIndex-5);h.setCustomData("maximize_saved_styles",n(h,!0)),f.setCustomData("maximize_saved_styles",n(f,!0)),h={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},c.getDocumentElement().setStyles(h),!CKEDITOR.env.gecko&&c.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||c.getBody().setStyles(h),CKEDITOR.env.ie?setTimeout((function(){u.$.scrollTo(0,0)}),0):u.$.scrollTo(0,0),f.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),f.$.offsetLeft,f.setStyles({"z-index":e.config.baseFloatZIndex-5,left:"0px",top:"0px"}),f.addClass("cke_maximized"),t(),h=f.getDocumentPosition(),f.setStyles({left:-1*h.x+"px",top:-1*h.y+"px"}),CKEDITOR.env.gecko&&o(e)}else if(this.state==CKEDITOR.TRISTATE_ON){u.removeListener("resize",t);p=[h,f];for(var g=0;g<p.length;g++)i(p[g],p[g].getCustomData("maximize_saved_styles")),p[g].removeCustomData("maximize_saved_styles");for(p=e.container;p=p.getParent();)i(p,p.getCustomData("maximize_saved_styles")),p.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout((function(){u.$.scrollTo(s.x,s.y)}),0):u.$.scrollTo(s.x,s.y),f.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(f.setStyle("display","inline"),setTimeout((function(){f.setStyle("display","block")}),0)),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:h.$.offsetHeight,outerWidth:e.container.$.offsetWidth})}this.toggleState(),(p=this.uiItems[0])&&(h=this.state==CKEDITOR.TRISTATE_OFF?l.maximize.maximize:l.maximize.minimize,(p=CKEDITOR.document.getById(p._.id)).getChild(1).setHtml(h),p.setAttribute("title",h),p.setAttribute("href",'javascript:void("'+h+'");')),"wysiwyg"==e.mode?r?(CKEDITOR.env.gecko&&o(e),e.getSelection().selectRanges(r),(m=e.getSelection().getStartElement())&&m.scrollIntoView(!0)):u.$.scrollTo(a.x,a.y):(r&&(m.selectionStart=r[0],m.selectionEnd=r[1]),m.scrollLeft=a[0],m.scrollTop=a[1]),r=a=null,d=this.state,e.fire("maximize",this.state)},canUndo:!1}),e.ui.addButton&&e.ui.addButton("Maximize",{label:l.maximize.maximize,command:"maximize",toolbar:"tools,10"}),e.on("mode",(function(){var t=e.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:d)}),null,null,100)}}})}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(e){for(var t=e.config.menu_groups.split(","),n=e._.menuGroups={},i=e._.menuItems={},o=0;o<t.length;o++)n[t[o]]=o+1;e.addMenuGroup=function(e,t){n[e]=t||100},e.addMenuItem=function(e,t){n[t.group]&&(i[e]=new CKEDITOR.menuItem(this,e,t))},e.addMenuItems=function(e){for(var t in e)this.addMenuItem(t,e[t])},e.getMenuItem=function(e){return i[e]},e.removeMenuItem=function(e){delete i[e]}}}),function(){var e='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"',t="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"'),CKEDITOR.env.ie&&(t='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)===CKEDITOR.MOUSE_BUTTON_LEFT&&');e=e+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" onclick="'+t+'CKEDITOR.tools.callFunction({clickFn},{index}); return false;"><span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>';var n=CKEDITOR.addTemplate("menuItem",e),i=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),o=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(e,t){t=this._.definition=t||{},this.id=CKEDITOR.tools.getNextId(),this.editor=e,this.items=[],this._.listeners=[],this._.level=t.level||1;var n=CKEDITOR.tools.extend({},t.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),i=n.block.attributes=n.attributes||{};!i.role&&(i.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var e=this.editor.getSelection(),t=e&&e.getStartElement(),n=this.editor.elementPath(),i=this._.listeners;this.removeAll();for(var o=0;o<i.length;o++){var r=i[o](t,e,n);if(r)for(var a in r){var s=this.editor.getMenuItem(a);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=r[a],this.add(s))}}},onClick:function(e){this.hide(),e.onClick?e.onClick():e.command&&this.editor.execCommand(e.command)},onEscape:function(e){var t=this.parent;return t?t._.panel.hideChild(1):27==e&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(e){var t=this._.subMenu,n=this.items[e];if(n=n.getItems&&n.getItems()){for(var i in t?t.removeAll():((t=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,t._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),n){var o=this.editor.getMenuItem(i);o&&(o.state=n[i],t.add(o))}var r=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(e));setTimeout((function(){t.show(r,2)}),0)}else this._.panel.hideChild(1)}},proto:{add:function(e){e.order||(e.order=this.items.length),this.items.push(e)},removeAll:function(){this.items=[]},show:function(e,t,n,i){if(this.parent||(this._.onShow(),this.items.length)){t=t||("rtl"==this.editor.lang.dir?2:1);var o=this.items,r=this.editor,a=this._.panel,s=this._.element;if(!a)(a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind((function(e){if(!1===this._.onEscape(e))return!1}),this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},a.onHide=CKEDITOR.tools.bind((function(){this._.onHide&&this._.onHide()}),this),(s=a.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(l=s.keys)[40]="next",l[9]="next",l[38]="prev",l[CKEDITOR.SHIFT+9]="prev",l["rtl"==r.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",l[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(l[13]="mouseup"),(l=(s=this._.element=s.element).getDocument()).getBody().setStyle("overflow","hidden"),l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction((function(e){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,r.config.menu_subMenuDelay||400,this,[e])}),this),this._.itemOutFn=CKEDITOR.tools.addFunction((function(){clearTimeout(this._.showSubTimeout)}),this),this._.itemClickFn=CKEDITOR.tools.addFunction((function(e){var t=this.items[e];t.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):t.getItems?this._.showSubMenu(e):this._.onClick(t)}),this);!function(e){e.sort((function(e,t){return e.group<t.group?-1:e.group>t.group?1:e.order<t.order?-1:e.order>t.order?1:0}))}(o);for(var l=['<div class="cke_menu'+((l=r.elementPath())&&l.direction()!=r.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,u=c&&o[0].group,d=0;d<c;d++){var f=o[d];u!=f.group&&(l.push('<div class="cke_menuseparator" role="separator"></div>'),u=f.group),f.render(this,d,l)}l.push("</div>"),s.setHtml(l.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,e,t,n,i):a.showBlock(this.id,e,t,n,i),r.fire("menuShow",[a])}},addListener:function(e){this._.listeners.push(e)},hide:function(e){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(e)},findItemByCommandName:function(e){var t=CKEDITOR.tools.array.filter(this.items,(function(t){return e===t.command}));return t.length?{item:t=t[0],element:this._.element.findOne("."+t.className)}:null}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(e,t,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+t}),this.group=e._.menuGroups[this.group],this.editor=e,this.name=t},proto:{render:function(e,t,r){var a,s,l=e.id+String(t),c=void 0===this.state?CKEDITOR.TRISTATE_OFF:this.state,u="",d=this.editor,f=c==CKEDITOR.TRISTATE_ON?"on":c==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(u=' aria-checked="'+(c==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var h=this.getItems,p="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",m=this.name;this.icon&&!/\./.test(this.icon)&&(m=this.icon),this.command&&(a=d.getCommand(this.command),(a=d.getCommandKeystroke(a))&&(s=CKEDITOR.tools.keystrokeToString(d.lang.common.keyboard,a))),e={id:l,name:this.name,iconName:m,label:this.label,cls:this.className||"",state:f,hasPopup:h?"true":"false",disabled:c==CKEDITOR.TRISTATE_DISABLED,title:this.label+(s?" ("+s.display+")":""),ariaShortcut:s?d.lang.common.keyboardShortcut+" "+s.aria:"",href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:e._.itemOverFn,moveOutFn:e._.itemOutFn,clickFn:e._.itemClickFn,index:t,iconStyle:CKEDITOR.skin.getIconStyle(m,"rtl"==this.editor.lang.dir,m==this.icon?null:this.icon,this.iconOffset),shortcutHtml:s?o.output({shortcut:s.display}):"",arrowHtml:h?i.output({label:p}):"",role:this.role?this.role:"menuitem",ariaChecked:u},n.output(e,r)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var t=this._,n=t.menu;t.state!==CKEDITOR.TRISTATE_DISABLED&&(t.on&&n?n.hide():(t.previousState=t.state,n||((n=t.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}})).onHide=CKEDITOR.tools.bind((function(){var n=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!n||n[e.mode]?t.previousState:CKEDITOR.TRISTATE_DISABLED),t.on=0}),this),this.onMenu&&n.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),t.on=1,setTimeout((function(){n.show(CKEDITOR.document.getById(t.id),4)}),0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow="menu",this.click=e},statics:{handler:{create:function(e){return new CKEDITOR.ui.menuButton(e)}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",function(){function e(e,n){var i,o,r=0;if(!CKEDITOR.tools.array.isArray(e)||0===e.length)return!0;if(0<(i=CKEDITOR.tools.array.filter(e,(function(e){return-1===CKEDITOR.tools.array.indexOf(t,e)}))).length)for(o=0;o<i.length;o++)!function(e){CKEDITOR.scriptLoader.queue(e,(function(o){o&&t.push(e),++r===i.length&&n()}))}(i[o]);return 0===i.length}var t=[],n=CKEDITOR.tools.createClass({$:function(){this.handlers=[]},proto:{register:function(e){"number"!=typeof e.priority&&(e.priority=10),this.handlers.push(e)},addPasteListener:function(t){t.on("paste",(function(n){var i=function(e,t){return CKEDITOR.tools.array.filter(e,(function(e){return e.canHandle(t)})).sort((function(e,t){return e.priority===t.priority?0:e.priority-t.priority}))}(this.handlers,n);if(0!==i.length){if(!e(function(e){var t=CKEDITOR.tools.array.reduce(e,(function(e,t){return CKEDITOR.tools.array.isArray(t.filters)?e.concat(t.filters):e}),[]);return CKEDITOR.tools.array.filter(t,(function(e,n){return CKEDITOR.tools.array.indexOf(t,e)===n}))}(i),(function(){return t.fire("paste",n.data)})))return n.cancel();!function e(t,n){var i=t.shift();i&&i.handle(n,(function(){e(t,n)}))}(i,n)}}),this,null,3)}}});CKEDITOR.plugins.add("pastetools",{requires:"clipboard",beforeInit:function(e){e.pasteTools=new n,e.pasteTools.addPasteListener(e)}}),CKEDITOR.plugins.pastetools={filters:{},loadFilters:e,createFilter:function(e){var t=CKEDITOR.tools.array.isArray(e.rules)?e.rules:[e.rules],n=e.additionalTransforms;return function(e,i){var o,r=new CKEDITOR.htmlParser.basicWriter,a=new CKEDITOR.htmlParser.filter;return n&&(e=n(e,i)),CKEDITOR.tools.array.forEach(t,(function(t){a.addRules(t(e,i,a))})),o=CKEDITOR.htmlParser.fragment.fromHtml(e),a.applyTo(o),o.writeHtml(r),r.getHtml()}},getClipboardData:function(e,t){var n;return CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"text/html"===t?(n=e.dataTransfer.getData(t,!0))||"text/html"!==t?n:e.dataValue:null},getConfigValue:function(e,t){if(e&&e.config){var n=CKEDITOR.tools,i=e.config,o=n.object.keys(i),r=["pasteTools_"+t,"pasteFromWord_"+t,"pasteFromWord"+n.capitalize(t,!0)];return i[r=n.array.find(r,(function(e){return-1!==n.array.indexOf(o,e)}))]}}},CKEDITOR.pasteFilters={}}(),CKEDITOR.plugins.add("pastefromword",{requires:"pastetools",init:function(e){var t=0,n=CKEDITOR.plugins.getPath("pastetools"),i=this.path,o=void 0===e.config.pasteFromWord_inlineImages||e.config.pasteFromWord_inlineImages;n=[CKEDITOR.getUrl(n+"filter/common.js"),CKEDITOR.getUrl(i+"filter/default.js")],e.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(e,n){t=1,e.execCommand("paste",{type:"html",notification:!n||void 0===n.notification||n.notification})}}),CKEDITOR.plugins.clipboard.addPasteButton(e,"PasteFromWord",{label:e.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),e.pasteTools.register({filters:e.config.pasteFromWordCleanupFile?[e.config.pasteFromWordCleanupFile]:n,canHandle:function(e){e=e.data.dataValue;var n=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/;return n=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(e)||n.test(e),e&&(t||n)},handle:function(n,i){var o=n.data,r={dataValue:r=CKEDITOR.plugins.pastetools.getClipboardData(o,"text/html"),dataTransfer:{"text/rtf":CKEDITOR.plugins.pastetools.getClipboardData(o,"text/rtf")}};(!1!==e.fire("pasteFromWord",r)||t)&&(o.dontFilter=!0,(t||!e.config.pasteFromWordPromptCleanup||confirm(e.lang.pastefromword.confirmCleanup))&&(r.dataValue=CKEDITOR.cleanWord(r.dataValue,e),e.fire("afterPasteFromWord",r),o.dataValue=r.dataValue,!0===e.config.forcePasteAsPlainText?o.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==e.config.forcePasteAsPlainText||(o.type="html")),t=0,i())}}),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&o&&e.on("afterPasteFromWord",(function(e){var t,n=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,i=[];if(n&&e.editor.filter.check("img[src]")&&0!==(t=n.extractTagsFromHtml(e.data.dataValue)).length&&0!==(n=n.extractFromRtf(e.data.dataTransfer["text/rtf"])).length&&(CKEDITOR.tools.array.forEach(n,(function(e){i.push(e.type?"data:"+e.type+";base64,"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(e.hex)):null)}),this),t.length===i.length))for(n=0;n<t.length;n++)0===t[n].indexOf("file://")&&i[n]&&(e.data.dataValue=e.data.dataValue.replace(t[n],i[n]))}))}}),function(){var e={canUndo:!1,async:!0,exec:function(e,t){var n=e.lang,i=CKEDITOR.tools.keystrokeToString(n.common.keyboard,e.getCommandKeystroke(CKEDITOR.env.ie?e.commands.paste:this)),o=t&&void 0!==t.notification?t.notification:!t||!t.from||"keystrokeHandler"===t.from&&CKEDITOR.env.ie;n=o&&"string"==typeof o?o:n.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+i.aria+'">'+i.display+"</kbd>");e.execCommand("paste",{type:"text",notification:!!o&&n})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(t){var n=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;t.addCommand("pastetext",e),t.setKeystroke(n,"pastetext"),CKEDITOR.plugins.clipboard.addPasteButton(t,"PasteText",{label:t.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),t.config.forcePasteAsPlainText&&t.on("beforePaste",(function(e){"html"!=e.data.type&&(e.data.type="text")})),t.on("pasteState",(function(e){t.getCommand("pastetext").setState(e.data)}))}})}(),CKEDITOR.plugins.add("removeformat",{init:function(e){e.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),e.ui.addButton&&e.ui.addButton("RemoveFormat",{label:e.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(e){for(var t,n=e._.removeFormatRegex||(e._.removeFormatRegex=new RegExp("^(?:"+e.config.removeFormatTags.replace(/,/g,"|")+")$","i")),i=e._.removeAttributes||(e._.removeAttributes=e.config.removeFormatAttributes.split(",")),o=CKEDITOR.plugins.removeformat.filter,r=e.getSelection().getRanges().createIterator(),a=function(e){return e.type==CKEDITOR.NODE_ELEMENT},s=[];t=r.getNextRange();){var l=t.createBookmark();(t=e.createRange()).setStartBefore(l.startNode),l.endNode&&t.setEndAfter(l.endNode),t.collapsed||t.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=t.createBookmark(),u=c.startNode,d=c.endNode,f=function(t){for(var i,r=e.elementPath(t),a=r.elements,s=1;(i=a[s])&&!i.equals(r.block)&&!i.equals(r.blockLimit);s++)n.test(i.getName())&&o(e,i)&&t.breakParent(i)};if(f(u),d)for(f(d),u=u.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);u&&!u.equals(d);)if(u.isReadOnly()){if(u.getPosition(d)&CKEDITOR.POSITION_CONTAINS)break;u=u.getNext(a)}else f=u.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==u.getName()&&u.data("cke-realelement")||u.hasAttribute("data-cke-bookmark")||!o(e,u)||(n.test(u.getName())?u.remove(1):(u.removeAttributes(i),e.fire("removeFormatCleanup",u))),u=f;c.startNode.remove(),c.endNode&&c.endNode.remove(),t.moveToBookmark(l),s.push(t)}e.forceNextSelectionCheck(),e.getSelection().selectRanges(s)}}},filter:function(e,t){for(var n=e._.removeFormatFilters||[],i=0;i<n.length;i++)if(!1===n[i](t))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(e){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(e)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",CKEDITOR.plugins.add("resize",{init:function(e){function t(t){var n=s.width,o=s.height,l=n+(t.data.$.screenX-a.x)*("rtl"==r?-1:1);t=o+(t.data.$.screenY-a.y),c&&(n=Math.max(i.resize_minWidth,Math.min(l,i.resize_maxWidth))),u&&(o=Math.max(i.resize_minHeight,Math.min(t,i.resize_maxHeight))),e.resize(c?n:null,o)}function n(){CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),e.document&&(e.document.removeListener("mousemove",t),e.document.removeListener("mouseup",n))}var i=e.config,o=e.ui.spaceId("resizer"),r=e.element?e.element.getDirection(1):"ltr";if(!i.resize_dir&&(i.resize_dir="vertical"),void 0===i.resize_maxWidth&&(i.resize_maxWidth=3e3),void 0===i.resize_maxHeight&&(i.resize_maxHeight=3e3),void 0===i.resize_minWidth&&(i.resize_minWidth=750),void 0===i.resize_minHeight&&(i.resize_minHeight=250),!1!==i.resize_enabled){var a,s,l=null,c=("both"==i.resize_dir||"horizontal"==i.resize_dir)&&i.resize_minWidth!=i.resize_maxWidth,u=("both"==i.resize_dir||"vertical"==i.resize_dir)&&i.resize_minHeight!=i.resize_maxHeight,d=CKEDITOR.tools.addFunction((function(o){l||(l=e.getResizable()),s={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0},a={x:o.screenX,y:o.screenY},i.resize_minWidth>s.width&&(i.resize_minWidth=s.width),i.resize_minHeight>s.height&&(i.resize_minHeight=s.height),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),e.document&&(e.document.on("mousemove",t),e.document.on("mouseup",n)),o.preventDefault&&o.preventDefault()}));e.on("destroy",(function(){CKEDITOR.tools.removeFunction(d)})),e.on("uiSpace",(function(t){if("bottom"==t.data.space){var n="";c&&!u&&(n=" cke_resizer_horizontal"),!c&&u&&(n=" cke_resizer_vertical");var i='<span id="'+o+'" class="cke_resizer'+n+" cke_resizer_"+r+'" title="'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+d+', event)">'+("ltr"==r?"â¢":"â£")+"</span>";"ltr"==r&&"ltr"==n?t.data.html+=i:t.data.html=i+t.data.html}}),e,null,100),e.on("maximize",(function(t){e.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()}))}}}),CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var t=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),e.addCommand("specialchar",{exec:function(){var n=e.langCode;n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),(function(){CKEDITOR.tools.extend(e.lang.specialchar,t.langEntries[n]),e.openDialog("specialchar")}))},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(e){var t=e.config,n=e.lang.stylescombo,i={},o=[],r=[];e.on("stylesSet",(function(n){if(n=n.data.styles){for(var a,s,l,c=0,u=n.length;c<u;c++)a=n[c],e.blockless&&a.element in CKEDITOR.dtd.$block||"string"==typeof a.type&&!CKEDITOR.style.customHandlers[a.type]||(s=a.name,a=new CKEDITOR.style(a),e.filter.customConfig&&!e.filter.check(a))||(a._name=s,a._.enterMode=t.enterMode,a._.type=l=a.assignedTo||a.type,a._.weight=c+1e3*(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3),i[s]=a,o.push(a),r.push(a));o.sort((function(e,t){return e._.weight-t._.weight}))}})),e.ui.addRichCombo("Styles",{label:n.label,title:n.panelTitle,toolbar:"styles,10",allowedContent:r,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!0,attributes:{"aria-label":n.panelTitle}},init:function(){var e,t,i,r,a,s;for(a=0,s=o.length;a<s;a++)t=(e=o[a])._name,(r=e._.type)!=i&&(this.startGroup(n["panelTitle"+String(r)]),i=r),this.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t);this.commit()},onClick:function(t){e.focus(),e.fire("saveSnapshot"),t=i[t];var n=e.elementPath();t.group&&t.removeStylesFromSameGroup(e)?e.applyStyle(t):e[t.checkActive(n,e)?"removeStyle":"applyStyle"](t),e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",(function(t){for(var n,o=this.getValue(),r=0,a=(t=t.data.path.elements).length;r<a;r++)for(var s in n=t[r],i)if(i[s].checkElementRemovable(n,!0,e))return void(s!=o&&this.setValue(s));this.setValue("")}),this)},onOpen:function(){var t=(t=e.getSelection()).getSelectedElement()||t.getStartElement()||e.editable(),o=(t=e.elementPath(t),[0,0,0,0]);for(var r in this.showAll(),this.unmarkAll(),i){var a=i[r],s=a._.type;a.checkApplicable(t,e,e.activeFilter)?o[s]++:this.hideItem(r),a.checkActive(t,e)&&this.mark(r)}o[CKEDITOR.STYLE_BLOCK]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),o[CKEDITOR.STYLE_INLINE]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),o[CKEDITOR.STYLE_OBJECT]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var t=e.elementPath();if(t){for(var n in i)if(i[n].checkApplicable(t,e,e.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){i={},o=[]}})}}),CKEDITOR.plugins.add("table",{requires:"dialog",init:function(e){function t(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!e.blockless){var n=e.lang.table;e.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height,border-collapse}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];td{border*,background-color,vertical-align,width,height}[colspan,rowspan];"+(e.plugins.dialogadvtab?"table"+e.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(e){if(e.styles){var t;if(e.styles.border)t=CKEDITOR.tools.style.parse.border(e.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var n=e.styles;n["border-left"]&&n["border-left"]===n["border-right"]&&n["border-right"]===n["border-top"]&&n["border-top"]===n["border-bottom"]&&(t=CKEDITOR.tools.style.parse.border(n["border-top"]))}t&&t.style&&"solid"===t.style&&t.width&&0!==parseFloat(t.width)&&(e.attributes.border=1),"collapse"==e.styles["border-collapse"]&&(e.attributes.cellspacing=0)}}}]]})),e.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",t())),e.addCommand("tableDelete",t({exec:function(e){var t=e.elementPath().contains("table",1);if(t){var n=t.getParent(),i=e.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(i)||(t=n),(e=e.createRange()).moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),t.remove(),e.select()}}})),e.ui.addButton&&e.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),e.addMenuItems&&e.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),e.on("doubleclick",(function(e){e.data.element.is("table")&&(e.data.dialog="tableProperties")})),e.contextMenu&&e.contextMenu.addListener((function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}}))}}}),CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(e){this.base.call(this,e,{panel:{css:e.config.contextmenu_contentsCss,className:"cke_menu_panel",attributes:{"aria-label":e.lang.contextmenu.options}}})},proto:{addTarget:function(e,t){function n(){o=!1}var i,o;if(e.on("contextmenu",(function(e){e=e.data;var n=CKEDITOR.env.webkit?i:CKEDITOR.env.mac?e.$.metaKey:e.$.ctrlKey;if(!(t&&n||(e.preventDefault(),o))){if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){n=this.editor;(r=new CKEDITOR.dom.elementPath(e.getTarget(),n.editable()).contains((function(e){return e.hasAttribute("contenteditable")}),!0))&&"false"==r.getAttribute("contenteditable")&&n.getSelection().fake(r)}var r=e.getTarget().getDocument(),a=e.getTarget().getDocument().getDocumentElement(),s=(n=!r.equals(CKEDITOR.document),r=r.getWindow().getScrollPosition(),n?e.$.clientX:e.$.pageX||r.x+e.$.clientX),l=n?e.$.clientY:e.$.pageY||r.y+e.$.clientY;CKEDITOR.tools.setTimeout((function(){this.open(a,null,s,l)}),CKEDITOR.env.ie?200:0,this)}}),this),CKEDITOR.env.webkit){var r=function(){i=0};e.on("keydown",(function(e){i=CKEDITOR.env.mac?e.data.$.metaKey:e.data.$.ctrlKey})),e.on("keyup",r),e.on("contextmenu",r)}CKEDITOR.env.gecko&&!CKEDITOR.env.mac&&(e.on("keydown",(function(e){e.data.$.shiftKey&&121===e.data.$.keyCode&&(o=!0)}),null,null,0),e.on("keyup",n),e.on("contextmenu",n))},open:function(e,t,n,i){!1!==this.editor.config.enableContextMenu&&this.editor.getSelection().getType()!==CKEDITOR.SELECTION_NONE&&(this.editor.focus(),e=e||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(e,t,n,i))}}})},beforeInit:function(e){var t=e.contextMenu=new CKEDITOR.plugins.contextMenu(e);e.on("contentDom",(function(){t.addTarget(e.editable(),!1!==e.config.browserContextMenuOnCtrl)})),e.addCommand("contextMenu",{exec:function(e){var t,n=0,i=0;(t=(t=(t=e.getSelection().getRanges())[t.length-1].getClientRects(e.editable().isInline()))[t.length-1])&&(n=t["rtl"===e.lang.dir?"left":"right"],i=t.bottom),e.contextMenu.open(e.document.getBody().getParent(),null,n,i)}}),e.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),e.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function e(e,t){function n(e){return!t||t.contains(e)&&e.getAscendant("table",!0).equals(t)}function i(e){0<o.length||e.type!=CKEDITOR.NODE_ELEMENT||!d.test(e.getName())||e.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(r,e,"selected_cell",!0),o.push(e))}var o=[],r={};if(!e)return o;for(var a=e.getRanges(),s=0;s<a.length;s++){var l,c;if((l=a[s]).collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&n(l)&&o.push(l);else for((l=new CKEDITOR.dom.walker(l)).guard=i;c=l.next();)c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.table)||(c=c.getAscendant({td:1,th:1},!0))&&!c.getCustomData("selected_cell")&&n(c)&&(CKEDITOR.dom.element.setMarker(r,c,"selected_cell",!0),o.push(c))}return CKEDITOR.dom.element.clearAllMarkers(r),o}function t(t,n){var i=(o=(s=f(t)?t:e(t))[0]).getAscendant("table"),o=o.getDocument(),r=(l=s[0].getParent()).$.rowIndex,a=(s=s[s.length-1]).getParent().$.rowIndex+s.$.rowSpan-1,s=new CKEDITOR.dom.element(i.$.rows[a]),l=(r=n?r:a,n?l:s);for(i=(s=CKEDITOR.tools.buildTableMap(i))[r],r=n?s[r-1]:s[r+1],s=s[0].length,o=o.createElement("tr"),a=0;i[a]&&a<s;a++){var c;1<i[a].rowSpan&&r&&i[a]==r[a]?(c=i[a]).rowSpan+=1:((c=new CKEDITOR.dom.element(i[a]).clone()).removeAttribute("rowSpan"),c.appendBogus(),o.append(c),c=c.$),a+=c.colSpan-1}return n?o.insertBefore(l):o.insertAfter(l),o}function n(e){for(var t=e.getParent().$.cells,n=0,i=0;i<t.length;i++){var o=t[i];n=n+o.colSpan;if(o==e.$)break}return n-1}function i(e,t){for(var i=t?1/0:0,o=0;o<e.length;o++){var r=n(e[o]);(t?r<i:r>i)&&(i=r)}return i}function o(t,n){for(var o=(a=f(t)?t:e(t))[0].getAscendant("table"),r=i(a,1),a=i(a),s=n?r:a,l=CKEDITOR.tools.buildTableMap(o),c=(o=[],r=[],a=[],l.length),u=0;u<c;u++)o.push(l[u][s]),r.push(n?l[u][s-1]:l[u][s+1]);for(u=0;u<c;u++)o[u]&&(1<o[u].colSpan&&r[u]==o[u]?(l=o[u]).colSpan+=1:((l=(s=new CKEDITOR.dom.element(o[u])).clone()).removeAttribute("colSpan"),l.appendBogus(),l[n?"insertBefore":"insertAfter"].call(l,s),a.push(l),l=l.$),u+=l.rowSpan-1);return a}function r(e,t){var n=e.getStartElement().getAscendant({td:1,th:1},!0);if(n){var i=n.clone();i.appendBogus(),t?i.insertBefore(n):i.insertAfter(n)}}function a(e,t){var n=e.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),n.focus()),(n=new CKEDITOR.dom.range(n))["moveToElementEdit"+(t?"End":"Start")](e)||(n.selectNodeContents(e),n.collapse(!t)),n.select(!0)}function s(e,t,n){if(e=e[t],void 0===n)return e;for(t=0;e&&t<e.length;t++){if(n.is&&e[t]==n.$)return t;if(t==n)return new CKEDITOR.dom.element(e[t])}return n.is?-1:null}function l(t,n,i){var o,r,a=e(t);if((n?1!=a.length:2>a.length)||(o=t.getCommonAncestor())&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("table"))return!1;o=(t=a[0]).getAscendant("table");var l=CKEDITOR.tools.buildTableMap(o),c=l.length,u=l[0].length,d=t.getParent().$.rowIndex,f=s(l,d,t);if(n){var h;try{var p=parseInt(t.getAttribute("rowspan"),10)||1;r=parseInt(t.getAttribute("colspan"),10)||1,h=l["up"==n?d-p:"down"==n?d+p:d]["left"==n?f-r:"right"==n?f+r:f]}catch(e){return!1}if(!h||t.$==h)return!1;a["up"==n||"left"==n?"unshift":"push"](new CKEDITOR.dom.element(h))}n=t.getDocument();var m=d,g=(p=h=0,!i&&new CKEDITOR.dom.documentFragment(n)),E=0;for(n=0;n<a.length;n++){var v=(r=a[n]).getParent(),T=r.getFirst(),b=r.$.colSpan,C=r.$.rowSpan,y=s(l,v=v.$.rowIndex,r);E=E+b*C,p=Math.max(p,y-f+b);h=Math.max(h,v-d+C),i||((C=(b=r).getBogus())&&C.remove(),b.trim(),r.getChildren().count()&&(v==m||!T||T.isBlockBoundary&&T.isBlockBoundary({br:1})||(!(m=g.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||m.is&&m.is("br")||g.append("br")),r.moveChildren(g)),n?r.remove():r.setHtml("")),m=v}if(i)return h*p==E;for(g.moveChildren(t),t.appendBogus(),p>=u?t.removeAttribute("rowSpan"):t.$.rowSpan=h,h>=c?t.removeAttribute("colSpan"):t.$.colSpan=p,n=(a=(i=new CKEDITOR.dom.nodeList(o.$.rows)).count())-1;0<=n;n--)(o=i.getItem(n)).$.cells.length||(o.remove(),a++);return t}function c(t,n){if(1<(i=e(t)).length)return!1;if(n)return!0;var i,o,r=(u=(i=i[0]).getParent()).getAscendant("table"),a=s(d=CKEDITOR.tools.buildTableMap(r),f=u.$.rowIndex,i);if(1<(c=i.$.rowSpan)){o=Math.ceil(c/2);for(var l,c=Math.floor(c/2),u=f+o,d=(r=new CKEDITOR.dom.element(r.$.rows[u]),s(d,u)),f=(u=i.clone(),0);f<d.length;f++){if((l=d[f]).parentNode==r.$&&f>a){u.insertBefore(new CKEDITOR.dom.element(l));break}l=null}l||r.append(u)}else for(c=o=1,(r=u.clone()).insertAfter(u),r.append(u=i.clone()),l=s(d,f),a=0;a<l.length;a++)l[a].rowSpan++;return u.appendBogus(),i.$.rowSpan=o,u.$.rowSpan=c,1==o&&i.removeAttribute("rowSpan"),1==c&&u.removeAttribute("rowSpan"),u}function u(t,n){if(1<(i=e(t)).length)return!1;if(n)return!0;var i,o=(i=i[0]).getParent(),r=o.getAscendant("table"),a=s(r=CKEDITOR.tools.buildTableMap(r),o.$.rowIndex,i);if(1<(l=i.$.colSpan))o=Math.ceil(l/2),l=Math.floor(l/2);else{for(var l=o=1,c=[],u=0;u<r.length;u++){var d=r[u];c.push(d[a]),1<d[a].rowSpan&&(u+=d[a].rowSpan-1)}for(r=0;r<c.length;r++)c[r].colSpan++}return(r=i.clone()).insertAfter(i),r.appendBogus(),i.$.colSpan=o,r.$.colSpan=l,1==o&&i.removeAttribute("colSpan"),1==l&&r.removeAttribute("colSpan"),r}var d=/^(?:td|th)$/,f=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(n){function i(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function s(e,t){var i=n.addCommand(e,t);n.addFeature(i)}var d=n.lang.table,f=CKEDITOR.tools.style.parse,h="td{width} td{height} td{border-color} td{background-color} td{white-space} td{vertical-align} td{text-align} td[colspan] td[rowspan] th".split(" ");s("cellProperties",new CKEDITOR.dialogCommand("cellProperties",i({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:h,contentTransformations:[[{element:"td",left:function(e){return e.styles.background&&f.background(e.styles.background).color},right:function(e){e.styles["background-color"]=f.background(e.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(e){return e.attributes&&e.attributes.valign},right:function(e){e.styles["vertical-align"]=e.attributes.valign,delete e.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(e){return e.styles&&e.styles.height},right:function(e){CKEDITOR.tools.array.forEach(e.children,(function(t){t.name in{td:1,th:1}&&(t.attributes["cke-row-height"]=e.styles.height)})),delete e.styles.height}}],[{element:"td",check:"td{height}",left:function(e){return(e=e.attributes)&&e["cke-row-height"]},right:function(e){e.styles.height=e.attributes["cke-row-height"],delete e.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),s("rowDelete",i({requiredContent:"table",exec:function(t){(t=function t(n){if(n instanceof CKEDITOR.dom.selection){var i=n.getRanges(),o=(l=e(n))[0].getAscendant("table"),r=CKEDITOR.tools.buildTableMap(o),a=l[0].getParent().$.rowIndex,s=(l=l[l.length-1]).getParent().$.rowIndex+l.$.rowSpan-1,l=[];for(n.reset(),n=a;n<=s;n++){for(var c=r[n],u=new CKEDITOR.dom.element(o.$.rows[n]),d=0;d<c.length;d++){var f=new CKEDITOR.dom.element(c[d]),h=f.getParent().$.rowIndex;1==f.$.rowSpan?f.remove():(--f.$.rowSpan,h==n&&((h=r[n+1])[d-1]?f.insertAfter(new CKEDITOR.dom.element(h[d-1])):new CKEDITOR.dom.element(o.$.rows[n+1]).append(f,1))),d+=f.$.colSpan-1}l.push(u)}for(r=o.$.rows,i[0].moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),a=new CKEDITOR.dom.element(r[s+1]||(0<a?r[a-1]:null)||o.$.parentNode),n=l.length;0<=n;n--)t(l[n]);return o.$.parentNode?a:(i[0].select(),null)}return n instanceof CKEDITOR.dom.element&&(1==(o=n.getAscendant("table")).$.rows.length?o.remove():n.remove()),null}(t=t.getSelection()))&&a(t)}})),s("rowInsertBefore",i({requiredContent:"table",exec:function(n){t(n=e(n=n.getSelection()),!0)}})),s("rowInsertAfter",i({requiredContent:"table",exec:function(n){t(n=e(n=n.getSelection()))}})),s("columnDelete",i({requiredContent:"table",exec:function(t){(t=function(t){CKEDITOR.env.webkit&&!t.isFake&&(t=function(e){var t,n,i;if(1!==(t=e.getRanges()).length)return e;if((t=t[0]).collapsed||0!==t.endOffset)return e;if("td"!==(i=(n=t.endContainer).getName().toLowerCase())&&"th"!==i)return e;for((i=n.getPrevious())||(i=n.getParent().getPrevious().getLast());i.type!==CKEDITOR.NODE_TEXT&&"br"!==i.getName().toLowerCase();)if(!(i=i.getLast()))return e;return t.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),t.select()}(t));var n,i,o=t.getRanges(),r=(s=e(t))[0],a=s[s.length-1],s=r.getAscendant("table"),l=CKEDITOR.tools.buildTableMap(s),c=[];t.reset();var u=0;for(t=l.length;u<t;u++)for(var d=0,f=l[u].length;d<f;d++)void 0===n&&l[u][d]==r.$&&(n=d),l[u][d]==a.$&&(i=d);for(u=n;u<=i;u++)for(d=0;d<l.length;d++)a=l[d],r=new CKEDITOR.dom.element(s.$.rows[d]),(a=new CKEDITOR.dom.element(a[u])).$&&(1==a.$.colSpan?a.remove():--a.$.colSpan,d+=a.$.rowSpan-1,r.$.cells.length||c.push(r));return n=l[0].length-1>i?new CKEDITOR.dom.element(l[0][i+1]):n&&-1!==l[0][n-1].cellIndex?new CKEDITOR.dom.element(l[0][n-1]):new CKEDITOR.dom.element(s.$.parentNode),c.length==t&&(o[0].moveToPosition(s,CKEDITOR.POSITION_AFTER_END),o[0].select(),s.remove()),n}(t=t.getSelection()))&&a(t,!0)}})),s("columnInsertBefore",i({requiredContent:"table",exec:function(t){o(t=e(t=t.getSelection()),!0)}})),s("columnInsertAfter",i({requiredContent:"table",exec:function(t){o(t=e(t=t.getSelection()))}})),s("cellDelete",i({requiredContent:"table",exec:function(t){(function t(n){if(n instanceof CKEDITOR.dom.selection){var i,o=n.getRanges(),r=e(n),s=r[0]&&r[0].getAscendant("table");e:{var l=0;i=r.length-1;for(var c,u,d={};c=r[l++];)CKEDITOR.dom.element.setMarker(d,c,"delete_cell",!0);for(l=0;c=r[l++];)if((u=c.getPrevious())&&!u.getCustomData("delete_cell")||(u=c.getNext())&&!u.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(d),i=u;break e}CKEDITOR.dom.element.clearAllMarkers(d),(l=(l=r[0].getParent()).getPrevious())?i=l.getLast():i=(l=(l=r[i].getParent()).getNext())?l.getChild(0):null}for(n.reset(),n=r.length-1;0<=n;n--)t(r[n]);i?a(i,!0):s&&(o[0].moveToPosition(s,CKEDITOR.POSITION_BEFORE_START),o[0].select(),s.remove())}else n instanceof CKEDITOR.dom.element&&(1==(o=n.getParent()).getChildCount()?o.remove():n.remove())})(t=t.getSelection())}})),s("cellMerge",i({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e,t){t.cell=l(e.getSelection()),a(t.cell,!0)}})),s("cellMergeRight",i({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e,t){t.cell=l(e.getSelection(),"right"),a(t.cell,!0)}})),s("cellMergeDown",i({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e,t){t.cell=l(e.getSelection(),"down"),a(t.cell,!0)}})),s("cellVerticalSplit",i({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){a(u(e.getSelection()))}})),s("cellHorizontalSplit",i({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){a(c(e.getSelection()))}})),s("cellInsertBefore",i({requiredContent:"table",exec:function(e){r(e=e.getSelection(),!0)}})),s("cellInsertAfter",i({requiredContent:"table",exec:function(e){r(e=e.getSelection())}})),n.addMenuItems&&n.addMenuItems({tablecell:{label:d.cell.menu,group:"tablecell",order:1,getItems:function(){var t=e(i=n.getSelection()),i={tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:l(i,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:l(i,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:l(i,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:u(i,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:c(i,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return n.filter.check(h)&&(i.tablecell_properties=0<t.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),i}},tablecell_insertBefore:{label:d.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:d.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:d.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:d.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:d.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:d.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:d.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:d.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:d.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:d.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:d.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:d.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:d.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:d.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:d.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:d.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:d.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),n.contextMenu&&n.contextMenu.addListener((function(e,t,n){return(e=n.contains({td:1,th:1},1))&&!e.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null}))},getCellColIndex:n,insertRow:t,insertColumn:o,getSelectedCells:e},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(e,t,n,i,o){e=e.$.rows,n=n||0,i="number"==typeof i?i:e.length-1,o="number"==typeof o?o:-1;var r=-1,a=[];for(t=t||0;t<=i;t++){!a[++r]&&(a[r]=[]);for(var s=-1,l=n;l<=(-1===o?e[t].cells.length-1:o);l++){if(!(u=e[t].cells[l]))break;for(s++;a[r][s];)s++;for(var c=isNaN(u.colSpan)?1:u.colSpan,u=isNaN(u.rowSpan)?1:u.rowSpan,d=0;d<u&&!(t+d>i);d++){a[r+d]||(a[r+d]=[]);for(var f=0;f<c;f++)a[r+d][s+f]=e[t].cells[l]}if(s+=c-1,-1!==o&&s>=o)break}}return a},function(){var e=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],t={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function i(e){a.enabled&&!1!==e.data.command.canUndo&&a.save()}function o(){a.enabled=!t.readOnly&&"wysiwyg"==t.mode,a.onChange()}var a=t.undoManager=new n(t),s=a.editingHandler=new r(a),l=t.addCommand("undo",{exec:function(){a.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),c=t.addCommand("redo",{exec:function(){a.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[e[0],"undo"],[e[1],"redo"],[e[2],"redo"]]),a.onChange=function(){l.setState(a.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),c.setState(a.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",i),t.on("afterCommandExec",i),t.on("saveSnapshot",(function(e){a.save(e.data&&e.data.contentOnly)})),t.on("contentDom",s.attachListeners,s),t.on("instanceReady",(function(){t.fire("saveSnapshot")})),t.on("beforeModeUnload",(function(){"wysiwyg"==t.mode&&a.save(!0)})),t.on("mode",o),t.on("readOnly",o),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){a.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",(function(){a.currentImage&&a.update()})),t.on("lockSnapshot",(function(e){e=e.data,a.lock(e&&e.dontUpdate,e&&e.forceUpdate)})),t.on("unlockSnapshot",a.unlock,a)}}),CKEDITOR.plugins.undo={};var n=CKEDITOR.plugins.undo.UndoManager=function(e){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=e.config.undoStackSize||20,this.strokesLimit=25,this._filterRules=[],this.editor=e,this.reset(),CKEDITOR.env.ie&&this.addFilterRule((function(e){return e.replace(/\s+data-cke-expando=".*?"/g,"")}))};n.prototype={type:function(e,t){var i=n.getKeyGroup(e),o=this.strokesRecorded[i]+1;t=t||o>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),t?(o=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[i]=o,this.previousKeyGroup=i},keyGroupChanged:function(e){return n.getKeyGroup(e)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(e,t,n){var o=this.editor;if(this.locked||"ready"!=o.status||"wysiwyg"!=o.mode)return!1;var r=o.editable();if(!r||"ready"!=r.status)return!1;if(r=this.snapshots,t||(t=new i(o)),!1===t.contents)return!1;if(this.currentImage)if(t.equalsContent(this.currentImage)){if(e||t.equalsSelection(this.currentImage))return!1}else!1!==n&&o.fire("change");return r.splice(this.index+1,r.length-this.index-1),r.length==this.limit&&r.shift(),this.index=r.push(t)-1,this.currentImage=t,!1!==n&&this.refreshState(),!0},restoreImage:function(e){var t,n=this.editor;e.bookmarks&&(n.focus(),t=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(e.contents),e.bookmarks?t.selectBookmarks(e.bookmarks):CKEDITOR.env.ie&&((t=this.editor.document.getBody().$.createTextRange()).collapse(!0),t.select()),this.locked=null,this.index=e.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(e){var t,n=this.snapshots,i=this.currentImage;if(i)if(e){for(t=this.index-1;0<=t;t--)if(e=n[t],!i.equalsContent(e))return e.index=t,e}else for(t=this.index+1;t<n.length;t++)if(e=n[t],!i.equalsContent(e))return e.index=t,e;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var e=this.getNextImage(!0);if(e)return this.restoreImage(e),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var e=this.getNextImage(!1);if(e)return this.restoreImage(e),!0}return!1},update:function(e){if(!this.locked){e||(e=new i(this.editor));for(var t=this.index,n=this.snapshots;0<t&&this.currentImage.equalsContent(n[t-1]);)--t;n.splice(t,this.index-t+1,e),this.index=t,this.currentImage=e}},updateSelection:function(e){if(!this.snapshots.length)return!1;var t=this.snapshots,n=t[t.length-1];return!(!n.equalsContent(e)||n.equalsSelection(e))&&(this.currentImage=t[t.length-1]=e,!0)},lock:function(e,t){if(this.locked)this.locked.level++;else if(e)this.locked={level:1};else{var n=null;if(t)n=!0;else{var o=new i(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(o)&&(n=o)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var e=this.locked.update;if(this.locked=null,!0===e)this.update();else if(e){var t=new i(this.editor,!0);e.equalsContent(t)||this.update()}}},addFilterRule:function(e){this._filterRules.push(e)}},n.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},n.keyGroups={PRINTABLE:0,FUNCTIONAL:1},n.isNavigationKey=function(e){return!!n.navigationKeyCodes[e]},n.getKeyGroup=function(e){var i=n.keyGroups;return t[e]?i.FUNCTIONAL:i.PRINTABLE},n.getOppositeKeyGroup=function(e){var t=n.keyGroups;return e==t.FUNCTIONAL?t.PRINTABLE:t.FUNCTIONAL},n.ieFunctionalKeysBug=function(e){return CKEDITOR.env.ie&&n.getKeyGroup(e)==n.keyGroups.FUNCTIONAL};var i=CKEDITOR.plugins.undo.Image=function(e,t){this.editor=e,e.fire("beforeUndoImage");var n=e.getSnapshot();n&&(this.contents=function(e,t){return CKEDITOR.tools.array.reduce(t,(function(e,t){return t(e)}),e)}(n,e.undoManager._filterRules)),t||(this.bookmarks=(n=n&&e.getSelection())&&n.createBookmarks2(!0)),e.fire("afterUndoImage")},o=/\b(?:href|src|name)="[^"]*?"/gi;i.prototype={equalsContent:function(e){var t=this.contents;return e=e.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(t=t.replace(o,""),e=e.replace(o,"")),t==e},equalsSelection:function(e){var t=this.bookmarks;if(e=e.bookmarks,t||e){if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++){var i=t[n],o=e[n];if(i.startOffset!=o.startOffset||i.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(i.start,o.start)||!CKEDITOR.tools.arrayCompare(i.end,o.end))return!1}}return!0}};var r=CKEDITOR.plugins.undo.NativeEditingHandler=function(e){this.undoManager=e,this.ignoreInputEvent=!1,this.keyEventsStack=new a,this.lastKeydownImage=null};r.prototype={onKeydown:function(t){var o=t.data.getKey();229!==o&&(-1<CKEDITOR.tools.indexOf(e,t.data.getKeystroke())?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(o)||this.keyEventsStack.push(o),this.lastKeydownImage=new i(t.editor),(n.isNavigationKey(o)||this.undoManager.keyGroupChanged(o))&&(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var e=this.keyEventsStack.getLast();e||(e=this.keyEventsStack.push(0)),this.keyEventsStack.increment(e.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(e.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(e){var t=this.undoManager;e=e.data.getKey();var o=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(e),n.ieFunctionalKeysBug(e)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new i(t.editor,!0))||(0<o?t.type(e):n.isNavigationKey(e)&&this.onNavigationKey(!0))},onNavigationKey:function(e){var t=this.undoManager;!e&&t.save(!0,null,!1)||t.updateSelection(new i(t.editor)),t.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var e=this.undoManager.editor,t=e.editable(),i=this;t.attachListener(t,"keydown",(function(e){i.onKeydown(e),n.ieFunctionalKeysBug(e.data.getKey())&&i.onInput()}),null,null,999),t.attachListener(t,CKEDITOR.env.ie?"keypress":"input",i.onInput,i,null,999),t.attachListener(t,"keyup",i.onKeyup,i,null,999),t.attachListener(t,"paste",i.ignoreInputEventListener,i,null,999),t.attachListener(t,"drop",i.ignoreInputEventListener,i,null,999),e.on("afterPaste",i.activateInputEventListener,i,null,999),t.attachListener(t.isInline()?t:e.document.getDocumentElement(),"click",(function(){i.onNavigationKey()}),null,null,999),t.attachListener(this.undoManager.editor,"blur",(function(){i.keyEventsStack.remove(9)}),null,null,999)}};var a=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};a.prototype={push:function(e){return e=this.stack.push({keyCode:e,inputs:0}),this.stack[e-1]},getLastIndex:function(e){if("number"!=typeof e)return this.stack.length-1;for(var t=this.stack.length;t--;)if(this.stack[t].keyCode==e)return t;return-1},getLast:function(e){return-1!=(e=this.getLastIndex(e))?this.stack[e]:null},increment:function(e){this.getLast(e).inputs++},remove:function(e){-1!=(e=this.getLastIndex(e))&&this.stack.splice(e,1)},resetInputs:function(e){if("number"==typeof e)this.getLast(e).inputs=0;else for(e=this.stack.length;e--;)this.stack[e].inputs=0},getTotalInputs:function(){for(var e=this.stack.length,t=0;e--;)t+=this.stack[e].inputs;return t},cleanUp:function(e){(e=e.data.$).ctrlKey||e.metaKey||this.remove(17),e.shiftKey||this.remove(16),e.altKey||this.remove(18)}}}(),function(){function e(e){function t(e){var t=!1;a.attachListener(a,"keydown",(function(){var n=i.getBody().getElementsByTag(e);if(!t){for(var o=0;o<n.count();o++)n.getItem(o).setCustomData("retain",!0);t=!0}}),null,null,1),a.attachListener(a,"keyup",(function(){var n=i.getElementsByTag(e);t&&(1==n.count()&&!n.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(n.getItem(0).getAttributes())&&n.getItem(0).remove(1),t=!1)}))}var n=this.editor;if(n&&!n.isDetached()){var i=e.document,o=i.body,r=i.getElementById("cke_actscrpt");r&&r.parentNode.removeChild(r),(r=i.getElementById("cke_shimscrpt"))&&r.parentNode.removeChild(r),(r=i.getElementById("cke_basetagscrpt"))&&r.parentNode.removeChild(r),o.contentEditable=!0,CKEDITOR.env.ie&&(o.hideFocus=!0,o.disabled=!0,o.removeAttribute("disabled")),delete this._.isLoadingData,this.$=o,i=new CKEDITOR.dom.document(i),this.setup(),this.fixInitialSelection();var a=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&i.getDocumentElement().addClass(i.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&n.enterMode!=CKEDITOR.ENTER_P?t("p"):CKEDITOR.env.edge&&15>CKEDITOR.env.version&&n.enterMode!=CKEDITOR.ENTER_DIV&&t("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&i.getDocumentElement().on("mousedown",(function(e){e.data.getTarget().is("html")&&setTimeout((function(){n.editable().focus()}))})),function(e){function t(e){e.returnValue=!1}if(CKEDITOR.env.gecko)try{var n=e.document.$;n.execCommand("enableObjectResizing",!1,!e.config.disableObjectResizing),n.execCommand("enableInlineTableEditing",!1,!e.config.disableNativeTableHandles)}catch(e){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&e.config.disableObjectResizing&&function(){var n;e.editable().attachListener(e,"selectionChange",(function(){var i=e.getSelection().getSelectedElement();i&&(n&&(n.detachEvent("onresizestart",t),n=null),i.$.attachEvent("onresizestart",t),n=i.$)}))}()}(n);try{n.document.$.execCommand("2D-position",!1,!0)}catch(e){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==n.document.$.compatMode)&&this.attachListener(this,"keydown",(function(e){var t=e.data.getKeystroke();if(33==t||34==t)if(CKEDITOR.env.ie)setTimeout((function(){n.getSelection().scrollIntoView()}),0);else if(n.window.$.innerHeight>this.$.offsetHeight){var i=n.createRange();i[33==t?"moveToElementEditStart":"moveToElementEditEnd"](this),i.select(),e.data.preventDefault()}})),CKEDITOR.env.ie&&this.attachListener(i,"blur",(function(){try{i.$.selection.empty()}catch(e){}})),CKEDITOR.env.iOS&&this.attachListener(i,"touchend",(function(){e.focus()})),(o=n.document.getElementsByTag("title").getItem(0)).data("cke-title",o.getText()),CKEDITOR.env.ie&&(n.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout((function(){"unloaded"==this.status&&(this.status="ready"),n.fire("contentDom"),this._.isPendingFocus&&(n.focus(),this._.isPendingFocus=!1),setTimeout((function(){n.fire("dataReady")}),0)}),0,this)}}var t;CKEDITOR.plugins.add("wysiwygarea",{init:function(e){e.config.fullPage&&e.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),e.addMode("wysiwyg",(function(n){function i(i){i&&i.removeListener(),e.isDestroyed()||e.isDetached()||(e.editable(new t(e,r.$.contentWindow.document.body)),e.setData(e.getData(1),n))}var o="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",r=(o=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(o)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+o+'" frameBorder="0"></iframe>'));r.setStyles({width:"100%",height:"100%"}),r.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(o=e.ui.space("contents")).append(r);var a=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;a&&r.on("load",i);var s=e.title,l=e.fire("ariaEditorHelpLabel",{}).label;if(s&&(CKEDITOR.env.ie&&l&&(s+=", "+l),r.setAttribute("title",s)),l){s=CKEDITOR.tools.getNextId();var c=CKEDITOR.dom.element.createFromHtml('<span id="'+s+'" class="cke_voice_label">'+l+"</span>");o.append(c,1),r.setAttribute("aria-describedby",s)}e.on("beforeModeUnload",(function(e){e.removeListener(),c&&c.remove()})),r.setAttributes({tabIndex:e.tabIndex,allowTransparency:"true"}),!a&&i(),e.fire("ariaWidget",r)}))}}),CKEDITOR.editor.prototype.addContentsCss=function(e){var t=this.config,n=t.contentsCss;CKEDITOR.tools.isArray(n)||(t.contentsCss=n?[n]:[]),t.contentsCss.push(e)},t=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction((function(t){CKEDITOR.tools.setTimeout(e,0,this,t)}),this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(e,t){var n=this.editor;if(t)this.setHtml(e),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var i=n.config,o=i.fullPage,r=i.docType,a=CKEDITOR.tools.buildStyleHtml(function(){var e=[];if(8<=CKEDITOR.document.$.documentMode){e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var t,n=[];for(t in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+t+"[contenteditable=false]");e.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(e.push("html{height:100% !important}"),e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return e.push("html{cursor:text;*cursor:auto}"),e.push("img,input,textarea{cursor:default}"),e.join("\n")}()).replace(/<style>/,'<style data-cke-temp="1">');o||(a+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var s=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";o&&(e=e.replace(/<!DOCTYPE[^>]*>/i,(function(e){return n.docType=r=e,""})).replace(/<\?xml\s[^\?]*\?>/i,(function(e){return n.xmlDeclaration=e,""}))),e=n.dataProcessor.toHtml(e),o?(/<body[\s|>]/.test(e)||(e="<body>"+e),/<html[\s|>]/.test(e)||(e="<html>"+e+"</html>"),/<head[\s|>]/.test(e)?/<title[\s|>]/.test(e)||(e=e.replace(/<head[^>]*>/,"$&<title></title>")):e=e.replace(/<html[^>]*>/,"$&<head><title></title></head>"),s&&(e=e.replace(/<head[^>]*?>/,"$&"+s)),e=e.replace(/<\/head\s*>/,a+"$&"),e=r+e):e=i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+s+a+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+e+"</body></html>",CKEDITOR.env.gecko&&(e=e.replace(/<body/,'<body contenteditable="true" '),2e4>CKEDITOR.env.version&&(e=e.replace(/<body[^>]*>/,"$&\x3c!-- cke-content-start --\x3e"))),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"<\/script>",CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)<\/script>'),s&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;<\/script>'),e=e.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var l=this.getDocument();try{l.write(e)}catch(t){setTimeout((function(){l.write(e)}),0)}}},getData:function(e){if(e)return this.getHtml();var t=(e=this.editor).config,n=(r=t.fullPage)&&e.docType,i=r&&e.xmlDeclaration,o=this.getDocument(),r=r?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();return CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(r=r.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),r=e.dataProcessor.toDataFormat(r),i&&(r=i+"\n"+r),n&&(r=n+"\n"+r),r},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:t.baseProto.focus.call(this)},detach:function(){var e=(n=this.editor).document,n=n.container.findOne("iframe.cke_wysiwyg_frame");t.baseProto.detach.call(this),this.clearCustomData(this._.expandoNumber),e.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),n&&(n.clearCustomData(),(e=n.removeCustomData("onResize"))&&e.removeListener(),n.isDetached()||n.remove())}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,function(){function e(e,t){CKEDITOR.tools.extend(this,{editor:e,editable:e.editable(),doc:e.document,win:e.window},t,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function t(e,t){CKEDITOR.tools.extend(this,t,{editor:e},!0)}function n(e,t){var n=e.editable();CKEDITOR.tools.extend(this,{editor:e,editable:n,inline:n.isInline(),doc:e.document,win:e.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},t,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var i=CKEDITOR.tools.bind(this.queryViewport,this),a=CKEDITOR.tools.bind(this.hideVisible,this),s=CKEDITOR.tools.bind(this.removeAll,this);n.attachListener(this.winTop,"resize",i),n.attachListener(this.winTop,"scroll",i),n.attachListener(this.winTop,"resize",a),n.attachListener(this.win,"scroll",a),n.attachListener(this.inline?n:this.frame,"mouseout",(function(e){var t=e.data.$.clientX;e=e.data.$.clientY,this.queryViewport(),(t<=this.rect.left||t>=this.rect.right||e<=this.rect.top||e>=this.rect.bottom)&&this.hideVisible(),(0>=t||t>=this.winTopPane.width||0>=e||e>=this.winTopPane.height)&&this.hideVisible()}),this),n.attachListener(e,"resize",i),n.attachListener(e,"mode",s),e.on("destroy",s),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},r,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function i(e){var t;return(t=e&&e.type==CKEDITOR.NODE_ELEMENT)&&(t=!(a[e.getComputedStyle("float")]||a[e.getAttribute("align")])),t&&!s[e.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,e.prototype={start:function(e){var t,n,i,o,r=this,a=this.editor,s=this.doc,l=CKEDITOR.tools.eventsBuffer(50,(function(){a.readOnly||"wysiwyg"!=a.mode||(r.relations={},(n=s.$.elementFromPoint(i,o))&&n.nodeType&&(t=new CKEDITOR.dom.element(n),r.traverseSearch(t),isNaN(i+o)||r.pixelSearch(t,i,o),e&&e(r.relations,i,o)))}));this.listener=this.editable.attachListener(this.target,"mousemove",(function(e){i=e.data.$.clientX,o=e.data.$.clientY,l.input()})),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",(function(){l.reset()}))},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var e={};return e[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,e[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,e[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(t){var n=this.editor.createRange();return n.moveToPosition(this.relations[t.uid].element,e[t.type]),n}}(),store:function(){function e(e,t,n){var i=e.getUniqueId();i in n?n[i].type|=t:n[i]={element:e,type:t}}return function(t,n){var o;n&CKEDITOR.LINEUTILS_AFTER&&i(o=t.getNext())&&o.isVisible()&&(e(o,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_AFTER),n&CKEDITOR.LINEUTILS_INSIDE&&i(o=t.getFirst())&&o.isVisible()&&(e(o,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_INSIDE),e(t,n,this.relations)}}(),traverseSearch:function(e){var t,n,o;do{if(!((o=e.$["data-cke-expando"])&&o in this.relations)){if(e.equals(this.editable))break;if(i(e))for(t in this.lookups)(n=this.lookups[t](e))&&this.store(e,n)}}while((!e||e.type!=CKEDITOR.NODE_ELEMENT||"true"!=e.getAttribute("contenteditable"))&&(e=e.getParent()))},pixelSearch:function(){function e(e,n,o,r,a){for(var s,l=0;a(o)&&(o+=r,25!=++l);)if(s=this.doc.$.elementFromPoint(n,o))if(s==e)l=0;else if(t(e,s)&&(l=0,i(s=new CKEDITOR.dom.element(s))))return s}var t=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(e,t){return e.contains(t)}:function(e,t){return!!(16&e.compareDocumentPosition(t))};return function(t,n,o){var r=this.win.getViewPaneSize().height,a=e.call(this,t.$,n,o,-1,(function(e){return 0<e}));if(n=e.call(this,t.$,n,o,1,(function(e){return e<r})),a)for(this.traverseSearch(a);!a.getParent().equals(t);)a=a.getParent();if(n)for(this.traverseSearch(n);!n.getParent().equals(t);)n=n.getParent();for(;(a||n)&&(a&&(a=a.getNext(i)),a&&!a.equals(n))&&(this.traverseSearch(a),n&&(n=n.getPrevious(i)),n&&!n.equals(a));)this.traverseSearch(n)}}(),greedySearch:function(){this.relations={};for(var e,t,n,o=this.editable.getElementsByTag("*"),r=0;e=o.getItem(r++);)if(!e.equals(this.editable)&&e.type==CKEDITOR.NODE_ELEMENT&&(e.hasAttribute("contenteditable")||!e.isReadOnly())&&i(e)&&e.isVisible())for(n in this.lookups)(t=this.lookups[n](e))&&this.store(e,t);return this.relations}},t.prototype={locate:function(){function e(e,t){var n=e.element[t===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return n&&i(n)?(e.siblingRect=n.getClientRect(),t==CKEDITOR.LINEUTILS_BEFORE?(e.siblingRect.bottom+e.elementRect.top)/2:(e.elementRect.bottom+e.siblingRect.top)/2):t==CKEDITOR.LINEUTILS_BEFORE?e.elementRect.top:e.elementRect.bottom}return function(t){var n;for(var i in this.locations={},t)(n=t[i]).elementRect=n.element.getClientRect(),n.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(i,CKEDITOR.LINEUTILS_BEFORE,e(n,CKEDITOR.LINEUTILS_BEFORE)),n.type&CKEDITOR.LINEUTILS_AFTER&&this.store(i,CKEDITOR.LINEUTILS_AFTER,e(n,CKEDITOR.LINEUTILS_AFTER)),n.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(i,CKEDITOR.LINEUTILS_INSIDE,(n.elementRect.top+n.elementRect.bottom)/2);return this.locations}}(),sort:function(){var e,t,n,i;return function(o,r){for(var a in e=this.locations,t=[],e)for(var s in e[a])if(n=Math.abs(o-e[a][s]),t.length){for(i=0;i<t.length;i++)if(n<t[i].dist){t.splice(i,0,{uid:+a,type:s,dist:n});break}i==t.length&&t.push({uid:+a,type:s,dist:n})}else t.push({uid:+a,type:s,dist:n});return void 0!==r?t.slice(0,r):t}}(),store:function(e,t,n){this.locations[e]||(this.locations[e]={}),this.locations[e][t]=n}};var o={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},r={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};n.prototype={removeAll:function(){for(var e in this.hidden)this.hidden[e].remove(),delete this.hidden[e];for(e in this.visible)this.visible[e].remove(),delete this.visible[e]},hideLine:function(e){var t=e.getUniqueId();e.hide(),this.hidden[t]=e,delete this.visible[t]},showLine:function(e){var t=e.getUniqueId();e.show(),this.visible[t]=e,delete this.hidden[t]},hideVisible:function(){for(var e in this.visible)this.hideLine(this.visible[e])},placeLine:function(e,t){var n,i,o;if(n=this.getStyle(e.uid,e.type)){for(o in this.visible)if(this.visible[o].getCustomData("hash")!==this.hash){i=this.visible[o];break}if(!i)for(o in this.hidden)if(this.hidden[o].getCustomData("hash")!==this.hash){this.showLine(i=this.hidden[o]);break}i||this.showLine(i=this.addLine()),i.setCustomData("hash",this.hash),this.visible[i.getUniqueId()]=i,i.setStyles(n),t&&t(i)}},getStyle:function(e,t){var n=this.relations[e],i=this.locations[e][t],o={};if(o.width=n.siblingRect?Math.max(n.siblingRect.width,n.elementRect.width):n.elementRect.width,o.top=this.inline?i+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+i,o.top-this.winTopScroll.y<this.rect.top||o.top-this.winTopScroll.y>this.rect.bottom)return!1;for(var r in this.inline?o.left=n.elementRect.left-this.rect.relativeX:(0<n.elementRect.left?o.left=this.rect.left+n.elementRect.left:(o.width+=n.elementRect.left,o.left=this.rect.left),0<(n=o.left+o.width-(this.rect.left+this.winPane.width))&&(o.width-=n)),o.left+=this.winTopScroll.x,o)o[r]=CKEDITOR.tools.cssLength(o[r]);return o},addLine:function(){var e=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return e.appendTo(this.container),e},prepare:function(e,t){this.relations=e,this.locations=t,this.hash=Math.random()},cleanup:function(){var e,t;for(t in this.visible)(e=this.visible[t]).getCustomData("hash")!==this.hash&&this.hideLine(e)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(e){e=e.getClientRect();var t=this.container.getDocumentPosition(),n=this.container.getComputedStyle("position");return e.relativeX=e.relativeY=0,"static"!=n&&(e.relativeY=t.y,e.relativeX=t.x,e.top-=e.relativeY,e.bottom-=e.relativeY,e.left-=e.relativeX,e.right-=e.relativeX),e}};var a={left:1,right:1,center:1},s={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:e,locator:t,liner:n}}(),function(){function e(e){return e.getName&&!e.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(e){if(CKEDITOR.env.webkit){var t=CKEDITOR.plugins.widgetselection;e.on("contentDom",(function(e){var n=(e=e.editor).editable();n.attachListener(n,"keydown",(function(e){e.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout((function(){t.addFillers(n)||t.removeFillers(n)}),0)}),null,null,-1),e.on("selectionCheck",(function(e){t.removeFillers(e.editor.editable())})),e.on("paste",(function(e){e.data.dataValue=t.cleanPasteData(e.data.dataValue)})),"selectall"in e.plugins&&t.addSelectAllIntegration(e)}))}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(t){var n=t.editor;if(!this.isWholeContentSelected(t)&&0<t.getChildCount()){var i=t.getFirst(e),o=t.getLast(e);if(i&&i.type==CKEDITOR.NODE_ELEMENT&&!i.isEditable()&&(this.startFiller=this.createFiller(),t.append(this.startFiller,1)),o&&o.type==CKEDITOR.NODE_ELEMENT&&!o.isEditable()&&(this.endFiller=this.createFiller(!0),t.append(this.endFiller,0)),this.hasFiller(t))return(n=n.createRange()).selectNodeContents(t),n.select(),!0}return!1},removeFillers:function(e){if(this.hasFiller(e)&&!this.isWholeContentSelected(e)){var t=e.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),n=e.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&t&&this.startFiller.equals(t)?this.removeFiller(this.startFiller,e):this.startFiller=t,this.endFiller&&n&&this.endFiller.equals(n)?this.removeFiller(this.endFiller,e):this.endFiller=n}},cleanPasteData:function(e){return e&&e.length&&(e=e.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),e},isWholeContentSelected:function(e){var t=e.editor.getSelection().getRanges()[0];return!(!t||t&&t.collapsed)&&((t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(t&&e&&t.startContainer&&t.endContainer&&0===t.startOffset&&t.endOffset===e.getChildCount()&&t.startContainer.equals(e)&&t.endContainer.equals(e)))},hasFiller:function(e){return 0<e.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(e){var t=new CKEDITOR.dom.element(this.fillerTagName);return t.setHtml(this.fillerContent),t.setAttribute(this.fillerAttribute,e?"end":"start"),t.setAttribute("data-cke-temp",1),t.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),t},removeFiller:function(e,t){if(e){var n,i,o=t.editor,r=t.editor.getSelection().getRanges()[0].startPath(),a=o.createRange();r.contains(e)&&(n=e.getHtml(),i=!0),r="start"==e.getAttribute(this.fillerAttribute),e.remove(),n&&0<n.length&&n!=this.fillerContent?(t.insertHtmlIntoRange(n,o.getSelection().getRanges()[0]),a.setStartAt(t.getChild(t.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),o.getSelection().selectRanges([a])):i&&(r?a.setStartAt(t.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):a.setEndAt(t.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),t.editor.getSelection().selectRanges([a]))}},createFillerRegex:function(e){var t=this.createFiller(e).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((e?"":"^")+t+(e?"$":""))},addSelectAllIntegration:function(e){var t=this;e.editable().attachListener(e,"beforeCommandExec",(function(n){var i=e.editable();"selectAll"==n.data.name&&i&&t.addFillers(i)}),null,null,9999)}}}(),function(){function e(e){this.editor=e,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},function(e){var n,i,o=e.editor;o.on("toHtml",(function(i){var o,r=function(e){var n=[],i=e._.upcasts,o=e._.upcastCallbacks;return{toBeWrapped:n,iterator:function(e){var r,a,s,l,c;if("data-cke-widget-wrapper"in e.attributes)return(e=e.getFirst(t.isParserWidgetElement))&&n.push([e]),!1;if("data-widget"in e.attributes)return n.push([e]),!1;if(c=i.length){if(e.attributes["data-cke-widget-upcasted"])return!1;for(l=0,r=o.length;l<r;++l)if(!1===o[l](e))return;for(l=0;l<c;++l)if(s={},a=(r=i[l])[0](e,s))return a instanceof CKEDITOR.htmlParser.element&&(e=a),e.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(s)),e.attributes["data-cke-widget-upcasted"]=1,n.push([e,r[1]]),!1}}}}(e);for(i.data.dataValue.forEach(r.iterator,CKEDITOR.NODE_ELEMENT,!0);o=r.toBeWrapped.pop();){var a=o[0],s=a.parent;s.type==CKEDITOR.NODE_ELEMENT&&s.attributes["data-cke-widget-wrapper"]&&s.replaceWith(a),e.wrapElement(o[0],o[1])}n=i.data.protectedWhitespaces?3==i.data.dataValue.children.length&&t.isParserWidgetWrapper(i.data.dataValue.children[1]):1==i.data.dataValue.children.length&&t.isParserWidgetWrapper(i.data.dataValue.children[0])}),null,null,8),o.on("dataReady",(function(){if(i)for(var n,r,a=o.editable().find(".cke_widget_wrapper"),s=0,l=a.count();s<l;++s)(r=(n=a.getItem(s)).getFirst(t.isDomWidgetElement)).type==CKEDITOR.NODE_ELEMENT&&r.data("widget")?(r.replace(n),e.wrapElement(r)):n.remove();i=0,e.destroyAll(!0),e.initOnAll()})),o.on("loadSnapshot",(function(t){/data-cke-widget/.test(t.data)&&(i=1),e.destroyAll(!0)}),null,null,9),o.on("paste",(function(e){(e=e.data).dataValue=e.dataValue.replace(D,h),e.range&&(e=t.getNestedEditable(o.editable(),e.range.startContainer))&&(e=CKEDITOR.filter.instances[e.data("cke-filter")])&&o.setActiveFilter(e)})),o.on("afterInsertHtml",(function(t){t.data.intoRange?e.checkWidgets({initOnlyNew:!0}):(o.fire("lockSnapshot"),e.checkWidgets({initOnlyNew:!0,focusInited:n}),o.fire("unlockSnapshot"))}))}(this),function(e){var n=e.editor,i={};n.on("toDataFormat",(function(n){var o=CKEDITOR.tools.getNextNumber(),r=[];n.data.downcastingSessionId=o,i[o]=r,n.data.dataValue.forEach((function(n){var i,o=n.attributes;if("data-cke-widget-white-space"in o){i=a(n);var l=s(n);i.parent.attributes["data-cke-white-space-first"]&&(i.value=i.value.replace(/^&nbsp;/g," ")),l.parent.attributes["data-cke-white-space-last"]&&(l.value=l.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in o)(o=e.instances[o["data-cke-widget-id"]])&&(i=n.getFirst(t.isParserWidgetElement),r.push({wrapper:n,element:i,widget:o,editables:{}}),"1"!=i.attributes["data-cke-widget-keep-attr"]&&delete i.attributes["data-widget"]);else if("data-cke-widget-editable"in o)return 0<r.length&&(r[r.length-1].editables[o["data-cke-widget-editable"]]=n),!1}),CKEDITOR.NODE_ELEMENT,!0)}),null,null,8),n.on("toDataFormat",(function(e){if(e.data.downcastingSessionId)for(var t,n,o,r,a,s,l=i[e.data.downcastingSessionId];t=l.shift();){for(s in n=t.widget,o=t.element,r=n._.downcastFn&&n._.downcastFn.call(n,o),e.data.widgetsCopy&&n.getClipboardHtml&&(r=(r=CKEDITOR.htmlParser.fragment.fromHtml(n.getClipboardHtml())).children[0]),t.editables)delete(a=t.editables[s]).attributes.contenteditable,a.setHtml(n.editables[s].getData());r||(r=o),t.wrapper.replaceWith(r)}}),null,null,13),n.on("contentDomUnload",(function(){e.destroyAll(!0)}))}(this),this.on("checkWidgets",o),this.editor.on("contentDomInvalidated",this.checkWidgets,this),function(e){var n=e.editor;n.on("selectionCheck",(function(){e.fire("checkSelection")})),e.on("checkSelection",e.checkSelection,e),n.on("selectionChange",(function(i){var o=(i=t.getNestedEditable(n.editable(),i.data.selection.getStartElement()))&&e.getByElement(i),r=e.widgetHoldingFocusedEditable;r?r===o&&r.focusedEditable.equals(i)||(f(e,r,null),o&&i&&f(e,o,i)):o&&i&&f(e,o,i)})),n.on("dataReady",(function(){p(e).commit()})),n.on("blur",(function(){var t;(t=e.focused)&&i(e,t),(t=e.widgetHoldingFocusedEditable)&&f(e,t,null)}))}(this),function(e){var n=e.editor;n.on("contentDom",(function(){var i,o,r=n.editable(),a=r.isInline()?r:n.document;r.attachListener(a,"mousedown",(function(r){var a=r.data.getTarget();i=a instanceof CKEDITOR.dom.element?e.getByElement(a):null,o=0,i&&(i.inline&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")?(o=1,e.focused!=i&&n.getSelection().removeAllRanges()):t.getNestedEditable(i.wrapper,a)?i=null:(r.data.preventDefault(),CKEDITOR.env.ie||i.focus()))})),r.attachListener(a,"mouseup",(function(){o&&i&&i.wrapper&&(o=0,i.focus())})),CKEDITOR.env.ie&&r.attachListener(a,"mouseup",(function(){setTimeout((function(){i&&i.wrapper&&r.contains(i.wrapper)&&(i.focus(),i=null)}))}))})),n.on("doubleclick",(function(n){var i=e.getByElement(n.data.element);if(i&&!t.getNestedEditable(i.wrapper,n.data.element))return i.fire("doubleclick",{element:n.data.element})}),null,null,1)}(this),function(e){e.editor.on("key",(function(t){var n,i=e.focused,o=e.widgetHoldingFocusedEditable;return i?n=i.fire("key",{keyCode:t.data.keyCode}):o&&(i=t.data.keyCode,t=o.focusedEditable,i==CKEDITOR.CTRL+65?(i=t.getBogus(),(o=o.editor.createRange()).selectNodeContents(t),i&&o.setEndAt(i,CKEDITOR.POSITION_BEFORE_START),o.select(),n=!1):8==i||46==i?(n=o.editor.getSelection().getRanges(),o=n[0],n=!(1==n.length&&o.collapsed&&o.checkBoundaryOfElement(t,CKEDITOR[8==i?"START":"END"]))):n=void 0),n}),null,null,1)}(this),function(e){var n=e.editor,i=CKEDITOR.plugins.lineutils;n.on("dragstart",(function(i){var o=i.data.target;t.isDomDragHandler(o)&&(o=e.getByElement(o),i.data.dataTransfer.setData("cke/widget-id",o.id),n.focus(),o.focus())})),n.on("drop",(function(t){var i=(r=t.data.dataTransfer).getData("cke/widget-id"),o=r.getTransferType(n),r=n.createRange();""!==i&&o===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?t.cancel():""!==i&&o==CKEDITOR.DATA_TRANSFER_INTERNAL&&(i=e.instances[i])&&(r.setStartBefore(i.wrapper),r.setEndAfter(i.wrapper),t.data.dragRange=r,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,t.data.dataTransfer.setData("text/html",i.getClipboardHtml()),n.widgets.destroy(i,!0))})),n.on("contentDom",(function(){var o=n.editable();CKEDITOR.tools.extend(e,{finder:new i.finder(n,{lookups:{default:function(n){if(!n.is(CKEDITOR.dtd.$listItem)&&n.is(CKEDITOR.dtd.$block)&&!t.isDomNestedEditable(n)&&!e._.draggedWidget.wrapper.contains(n)){var i=t.getNestedEditable(o,n);if(i){if(n=e._.draggedWidget,e.getByElement(i)==n)return;if(i=CKEDITOR.filter.instances[i.data("cke-filter")],n=n.requiredContent,i&&n&&!i.check(n))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new i.locator(n),liner:new i.liner(n,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)}))}(this),function(e){function t(t){1>e.selected.length||E(n,"cut"===t.name)}var n=e.editor;n.on("contentDom",(function(){var e=n.editable();e.attachListener(e,"copy",t),e.attachListener(e,"cut",t)}))}(this)}function t(e,n,i,o,r){var a=e.editor;CKEDITOR.tools.extend(this,o,{editor:a,id:n,inline:"span"==i.getParent().getName(),element:i,data:CKEDITOR.tools.extend({},"function"==typeof o.defaults?o.defaults():o.defaults),dataReady:!1,inited:!1,ready:!1,edit:t.prototype.edit,focusedEditable:null,definition:o,repository:e,draggable:!1!==o.draggable,_:{downcastFn:o.downcast&&"string"==typeof o.downcast?o.downcasts[o.downcast]:o.downcast}},!0),e.fire("instanceCreated",this),function(e,n){(function(e){(e.wrapper=e.element.getParent()).setAttribute("data-cke-widget-id",e.id)})(e),function(e){if(e.parts){var t,n,i={};for(n in e.parts)t=e.wrapper.findOne(e.parts[n]),i[n]=t;e.parts=i}}(e),function(e){var t,n,i=e.editables;if(e.editables={},e.editables)for(t in i)n=i[t],e.initEditable(t,"string"==typeof n?{selector:n}:n)}(e),function(e){if(!0===e.mask)!function(e){var t=e.wrapper.findOne(".cke_widget_mask");t||((t=new CKEDITOR.dom.element("img",e.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_mask"}),e.wrapper.append(t)),e.mask=t}(e);else if(e.mask){var t,n,i=new CKEDITOR.tools.buffers.throttle(250,C,e),o=CKEDITOR.env.gecko?300:0;if(e.on("focus",(function(){i.input(),t=e.editor.on("change",i.input),n=e.on("blur",(function(){t.removeListener(),n.removeListener()}))})),e.editor.on("instanceReady",(function(){setTimeout((function(){i.input()}),o)})),e.editor.on("mode",(function(){setTimeout((function(){i.input()}),o)})),CKEDITOR.env.gecko){var r=e.element.find("img");CKEDITOR.tools.array.forEach(r.toArray(),(function(e){e.on("load",(function(){i.input()}))}))}for(var a in e.editables)e.editables[a].on("focus",(function(){e.editor.on("change",i.input),n&&n.removeListener()})),e.editables[a].on("blur",(function(){e.editor.removeListener("change",i.input)}));i.input()}}(e),function(e){if(e.draggable){var n,i=e.editor,o=e.wrapper.getLast(t.isDomDragHandlerContainer);o?n=o.findOne("img"):((o=new CKEDITOR.dom.element("span",i.document)).setAttributes({class:"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+i.plugins.widget.path+"images/handle.png);display:none;"}),(n=new CKEDITOR.dom.element("img",i.document)).setAttributes({class:"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:i.lang.widget.move,height:15,role:"presentation"}),e.inline&&n.setAttribute("draggable","true"),o.append(n),e.wrapper.append(o)),e.wrapper.on("dragover",(function(e){e.data.preventDefault()})),e.wrapper.on("mouseenter",e.updateDragHandlerPosition,e),setTimeout((function(){e.on("data",e.updateDragHandlerPosition,e)}),50),!e.inline&&(n.on("mousedown",y,e),CKEDITOR.env.ie&&9>CKEDITOR.env.version)&&n.on("dragstart",(function(e){e.data.preventDefault(!0)})),e.dragHandlerContainer=o}}(e),function(e){var t=null;e.on("data",(function(){var e,n=this.data.classes;if(t!=n){for(e in t)n&&n[e]||this.removeClass(e);for(e in n)this.addClass(e);t=n}}))}(e),function(e){e.on("data",(function(){if(e.wrapper){var t=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());e.wrapper.setAttribute("role","region"),e.wrapper.setAttribute("aria-label",t)}}),null,null,9999)}(e),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&e.wrapper.on("dragstart",(function(n){var i=n.data.getTarget();t.getNestedEditable(e,i)||e.inline&&t.isDomDragHandler(i)||n.data.preventDefault()}));e.wrapper.removeClass("cke_widget_new"),e.element.addClass("cke_widget_element"),e.on("key",(function(t){if(13==(t=t.data.keyCode))e.edit();else{if(t==CKEDITOR.CTRL+67||t==CKEDITOR.CTRL+88)return void E(e.editor,t==CKEDITOR.CTRL+88);if(t in R||CKEDITOR.CTRL&t||CKEDITOR.ALT&t)return}return!1}),null,null,999),e.on("doubleclick",(function(t){e.edit()&&t.cancel()})),n.data&&e.on("data",n.data);n.edit&&e.on("edit",n.edit)}(this,o),this.init&&this.init(),this.inited=!0,(e=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(e))),r&&this.setData(r),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,I(this),this.fire("data",this.data),this.isInited()&&a.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function n(e,t,n){CKEDITOR.dom.element.call(this,t.$),this.editor=e,this._={},t=this.filter=n.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=t?t.getAllowedEnterMode(e.enterMode):e.enterMode,this.shiftEnterMode=t?t.getAllowedEnterMode(e.shiftEnterMode,!0):e.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function i(e,t){if(e.focused=null,t.isInited()){var n=t.editor.checkDirty();e.fire("widgetBlurred",{widget:t}),t.setFocused(!1),!n&&t.editor.resetDirty()}}function o(e){if(e=e.data,"wysiwyg"==this.editor.mode){var n,i,o,r,a=this.editor.editable(),s=this.instances;if(a){for(n in s)s[n].isReady()&&!a.contains(s[n].wrapper)&&this.destroy(s[n],!0);if(e&&e.initOnlyNew)s=this.initOnAll();else{var l=a.find(".cke_widget_wrapper");s=[];for(n=0,i=l.count();n<i;n++){if(o=l.getItem(n),r=!this.getByElement(o,!0)){e:{r=d;for(var c=o;c=c.getParent();)if(r(c)){r=!0;break e}r=!1}r=!r}r&&a.contains(o)&&(o.addClass("cke_widget_new"),s.push(this.initOn(o.getFirst(t.isDomWidgetElement))))}}e&&e.focusInited&&1==s.length&&s[0].focus()}}}function r(e){if(void 0!==e.attributes&&e.attributes["data-widget"]){var t=a(e),n=s(e),i=!1;t&&t.value&&t.value.match(/^\s/g)&&(t.parent.attributes["data-cke-white-space-first"]=1,t.value=t.value.replace(/^\s/g,"&nbsp;"),i=!0),n&&n.value&&n.value.match(/\s$/g)&&(n.parent.attributes["data-cke-white-space-last"]=1,n.value=n.value.replace(/\s$/g,"&nbsp;"),i=!0),i&&(e.attributes["data-cke-widget-white-space"]=1)}}function a(e){return e.find((function(e){return 3===e.type}),!0).shift()}function s(e){return e.find((function(e){return 3===e.type}),!0).pop()}function l(e,t,n){if(!n.allowedContent&&!n.disallowedContent)return null;var i=this._.filters[e];return i||(this._.filters[e]=i={}),(e=i[t])||(e=n.allowedContent?new CKEDITOR.filter(n.allowedContent):this.editor.filter.clone(),i[t]=e,n.disallowedContent&&e.disallow(n.disallowedContent)),e}function c(e,t){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off",class:"cke_widget_wrapper cke_widget_new cke_widget_"+(e?"inline":"block")+(t?" cke_widget_"+t:"")}}function u(e,t){return"boolean"==typeof e.inline?e.inline:!!CKEDITOR.dtd.$inline[t]}function d(e){return e.hasAttribute("data-cke-temp")}function f(e,t,n,i){var o=e.editor;o.fire("lockSnapshot"),n?(i=n.data("cke-widget-editable"),i=t.editables[i],e.widgetHoldingFocusedEditable=t,t.focusedEditable=i,n.addClass("cke_widget_editable_focused"),i.filter&&o.setActiveFilter(i.filter),o.setActiveEnterMode(i.enterMode,i.shiftEnterMode)):(i||t.focusedEditable.removeClass("cke_widget_editable_focused"),t.focusedEditable=null,e.widgetHoldingFocusedEditable=null,o.setActiveFilter(null),o.setActiveEnterMode(null,null)),o.fire("unlockSnapshot")}function h(e,t){return CKEDITOR.tools.trim(t)}function p(e){var t=e.selected,n=[],o=t.slice(0),r=null;return{select:function(e){return 0>CKEDITOR.tools.indexOf(t,e)&&n.push(e),0<=(e=CKEDITOR.tools.indexOf(o,e))&&o.splice(e,1),this},focus:function(e){return r=e,this},commit:function(){var a,s,l=e.focused!==r;for(e.editor.fire("lockSnapshot"),l&&(a=e.focused)&&i(e,a);a=o.pop();)t.splice(CKEDITOR.tools.indexOf(t,a),1),a.isInited()&&(s=a.editor.checkDirty(),a.setSelected(!1),!s&&a.editor.resetDirty());for(l&&r&&(s=e.editor.checkDirty(),e.focused=r,e.fire("widgetFocused",{widget:r}),r.setFocused(!0),!s&&e.editor.resetDirty());a=n.pop();)t.push(a),a.setSelected(!0);e.editor.fire("unlockSnapshot")}}}function m(e,t,n){var i=0;t=v(t);var o,r=e.data.classes||{};if(t){for(r=CKEDITOR.tools.clone(r);o=t.pop();)n?r[o]||(i=r[o]=1):r[o]&&(delete r[o],i=1);i&&e.setData("classes",r)}}function g(e){e.cancel()}function E(e,t){var n,i,o,r=e.widgets.focused;_.hasCopyBin(e)||(i=new _(e,{beforeDestroy:function(){!t&&r&&r.focus(),o&&e.getSelection().selectBookmarks(o),n&&CKEDITOR.plugins.widgetselection.addFillers(e.editable())},afterDestroy:function(){t&&!e.readOnly&&(r?e.widgets.del(r):e.extractSelectedHtml(),e.fire("saveSnapshot"))}}),r||(n=CKEDITOR.env.webkit&&CKEDITOR.plugins.widgetselection.isWholeContentSelected(e.editable()),o=e.getSelection().createBookmarks(!0)),i.handle(function(){var t=e.getSelectedHtml(!0);return e.widgets.focused?e.widgets.focused.getClipboardHtml():(e.once("toDataFormat",(function(e){e.data.widgetsCopy=!0}),null,null,-1),e.dataProcessor.toDataFormat(t))}()))}function v(e){return(e=(e=e.getDefinition().attributes)&&e.class)?e.split(/\s+/):null}function T(){var e=CKEDITOR.document.getActive(),t=this.editor,n=t.editable();(n.isInline()?n:t.document.getWindow().getFrame()).equals(e)&&t.focusManager.focus(n)}function b(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function C(){if(this.wrapper){this.maskPart=this.maskPart||this.mask;var e,t=this.parts[this.maskPart];if(t){(e=this.wrapper.findOne(".cke_widget_partial_mask"))||((e=new CKEDITOR.dom.element("img",this.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_partial_mask"}),this.wrapper.append(e)),this.mask=e;var n=e.$,i=t.$,o=!(n.offsetTop==i.offsetTop&&n.offsetLeft==i.offsetLeft);(n.offsetWidth!=i.offsetWidth||n.offsetHeight!=i.offsetHeight||o)&&(n=t.getParent(),i=CKEDITOR.plugins.widget.isDomWidget(n),e.setStyles({top:t.$.offsetTop+(i?0:n.$.offsetTop)+"px",left:t.$.offsetLeft+(i?0:n.$.offsetLeft)+"px",width:t.$.offsetWidth+"px",height:t.$.offsetHeight+"px"}))}}}function y(e){function t(){var t;for(f.reset();t=c.pop();)t.removeListener();var n=u;t=e.sender;var i=this.repository.finder,o=this.repository.liner,r=this.editor,a=this.editor.editable();CKEDITOR.tools.isEmpty(o.visible)||(n=i.getRange(n[0]),this.focus(),r.fire("drop",{dropRange:n,target:n.startContainer})),a.removeClass("cke_widget_dragging"),o.hideVisible(),r.fire("dragend",{target:t})}if(CKEDITOR.tools.getMouseButton(e)===CKEDITOR.MOUSE_BUTTON_LEFT){var n,i,o=this.repository.finder,r=this.repository.locator,a=this.repository.liner,s=this.editor,l=s.editable(),c=[],u=[];this.repository._.draggedWidget=this;var d=o.greedySearch(),f=CKEDITOR.tools.eventsBuffer(50,(function(){n=r.locate(d),(u=r.sort(i,1)).length&&(a.prepare(d,n),a.placeLine(u[0]),a.cleanup())}));l.addClass("cke_widget_dragging"),c.push(l.on("mousemove",(function(e){i=e.data.$.clientY,f.input()}))),s.fire("dragstart",{target:e.sender}),c.push(s.document.once("mouseup",t,this)),l.isInline()||c.push(CKEDITOR.document.once("mouseup",t,this))}}function I(e){e.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(e.data)))}function O(){function e(){}function n(e,t,n){return!(!n||!this.checkElement(e))&&((e=n.widgets.getByElement(e,!0))&&e.checkStyleActive(this))}function i(e){function t(e,t,n){for(var i=e.length,o=0;o<i;){if(t.call(n,e[o],o,e))return e[o];o++}}function n(e){return function(t){return function e(t,n){var i=CKEDITOR.tools.object.keys(t),o=CKEDITOR.tools.object.keys(n);if(i.length!==o.length)return!1;for(var r in t)if(("object"!=typeof t[r]||"object"!=typeof n[r]||!e(t[r],n[r]))&&t[r]!==n[r])return!1;return!0}(e.getDefinition(),t.getDefinition())}}var i,r=e.widget;o[r]||(o[r]={});for(var a=0,s=e.group.length;a<s;a++)i=e.group[a],o[r][i]||(o[r][i]=[]),t(i=o[r][i],n(e))||i.push(e)}var o={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(e){this.widget=e.widget,(this.group="string"==typeof e.group?[e.group]:e.group)&&i(this)},apply:function(e){var t;e instanceof CKEDITOR.editor&&this.checkApplicable(e.elementPath(),e)&&(t=e.widgets.focused,this.group&&this.removeStylesFromSameGroup(e),t.applyStyle(this))},remove:function(e){e instanceof CKEDITOR.editor&&this.checkApplicable(e.elementPath(),e)&&e.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(e){var t,n,i=!1;if(!(e instanceof CKEDITOR.editor))return!1;if(n=e.elementPath(),this.checkApplicable(n,e))for(var r=0,a=this.group.length;r<a;r++){t=o[this.widget][this.group[r]];for(var s=0;s<t.length;s++)t[s]!==this&&t[s].checkActive(n,e)&&(e.widgets.focused.removeStyle(t[s]),i=!0)}return i},checkActive:function(e,t){return this.checkElementMatch(e.lastElement,0,t)},checkApplicable:function(e,t){return t instanceof CKEDITOR.editor&&this.checkElement(e.lastElement)},checkElementMatch:n,checkElementRemovable:n,checkElement:function(e){return!!t.isDomWidgetWrapper(e)&&((e=e.getFirst(t.isDomWidgetElement))&&e.data("widget")==this.widget)},buildPreview:function(e){return e||this._.definition.name},toAllowedContentRules:function(e){if(!e)return null;var t,n={};return(e=e.widgets.registered[this.widget])?e.styleableElements?(t=this.getClassesArray())?(n[e.styleableElements]={classes:t,propertiesOnly:!0},n):null:e.styleToAllowedContentRules?e.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var e=this._.definition.attributes&&this._.definition.attributes.class;return e?CKEDITOR.tools.trim(e).split(/\s+/):null},applyToRange:e,removeFromRange:e,applyToObject:e})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss('.cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:block;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}.cke_editable[contenteditable="false"] .cke_widget_drag_handler_container{display:none;}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_widget_partial_mask{position:absolute;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}'),O())},beforeInit:function(t){void 0!==CKEDITOR.document.$.querySelectorAll&&(t.widgets=new e(t))},afterInit:function(e){if(void 0!==CKEDITOR.document.$.querySelectorAll){var t,n,i,o=e.widgets.registered;for(n in o)(i=(t=o[n]).button)&&e.ui.addButton&&e.ui.addButton(CKEDITOR.tools.capitalize(t.name,!0),{label:i,command:t.name,toolbar:"insert,10"});!function(e){e.contextMenu&&e.contextMenu.addListener((function(t){if(t=e.widgets.getByElement(t,!0))return t.fire("contextMenu",{})}))}(e),function(e){e&&e.addFilterRule((function(e){return e.replace(/\s*cke_widget_selected/g,"").replace(/\s*cke_widget_focused/g,"").replace(/<span[^>]*cke_widget_drag_handler_container[^>]*.*?<\/span>/gim,"")}))}(e.undoManager)}}}),e.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(e,t){var n=this.editor;if((t=CKEDITOR.tools.prototypedCopy(t)).name=e,t._=t._||{},n.fire("widgetDefinition",t),t.template&&(t.template=new CKEDITOR.template(t.template)),function(e,t){e.addCommand(t.name,{exec:function(e,n){function i(){e.widgets.finalizeCreation(s)}if((r=e.widgets.focused)&&r.name==t.name)r.edit();else if(t.insert)t.insert({editor:e,commandData:n});else if(t.template){var o,r="function"==typeof t.defaults?t.defaults():t.defaults,a=(r=CKEDITOR.dom.element.createFromHtml(t.template.output(r),e.document),e.widgets.wrapElement(r,t.name)),s=new CKEDITOR.dom.documentFragment(a.getDocument());s.append(a),(o=e.widgets.initOn(r,t,n&&n.startupData))?(r=o.once("edit",(function(t){t.data.dialog?o.once("dialog",(function(t){var n,r;t=t.data,n=t.once("ok",i,null,null,20),r=t.once("cancel",(function(t){t.data&&!1===t.data.hide||e.widgets.destroy(o,!0)})),t.once("hide",(function(){n.removeListener(),r.removeListener()}))})):i()}),null,null,999),o.edit(),r.removeListener()):i()}},allowedContent:t.allowedContent,requiredContent:t.requiredContent,contentForms:t.contentForms,contentTransformations:t.contentTransformations})}(n,t),function(e,t){function n(t,n,i){var o=CKEDITOR.tools.getIndex(e._.upcasts,(function(e){return e[2]>i}));0>o&&(o=e._.upcasts.length),e._.upcasts.splice(o,0,[CKEDITOR.tools.bind(t,n),n.name,i])}var i=t.upcast,o=t.upcastPriority||10;i&&n("string"==typeof i?function(e,n){var i,o,r=t.upcast.split(",");for(o=0;o<r.length;o++)if((i=r[o])===e.name)return t.upcasts[i].call(this,e,n);return!1}:i,t,o)}(this,t),this.registered[e]=t,t.dialog&&n.plugins.dialog)var i=CKEDITOR.on("dialogDefinition",(function(e){var o=(e=e.data.definition).dialog;e.getMode||o.getName()!==t.dialog||(e.getMode=function(){var e=o.getModel(n);return e&&e instanceof CKEDITOR.plugins.widget&&e.ready?CKEDITOR.dialog.EDITING_MODE:CKEDITOR.dialog.CREATION_MODE}),i.removeListener()}));return t},addUpcastCallback:function(e){this._.upcastCallbacks.push(e)},checkSelection:function(){var e,n=this.editor.getSelection(),i=n.getSelectedElement(),o=p(this);if(i&&(e=this.getByElement(i,!0)))return o.focus(e).select(e).commit();if(!(n=n.getRanges()[0])||n.collapsed)return o.commit();for((n=new CKEDITOR.dom.walker(n)).evaluator=t.isDomWidgetWrapper;i=n.next();)o.select(this.getByElement(i));o.commit()},checkWidgets:function(e){this.fire("checkWidgets",CKEDITOR.tools.copy(e||{}))},del:function(e){if(this.focused===e){var t,n=e.editor,i=n.createRange();(t=i.moveToClosestEditablePosition(e.wrapper,!0))||(t=i.moveToClosestEditablePosition(e.wrapper,!1)),t&&n.getSelection().selectRanges([i])}e.wrapper.remove(),this.destroy(e,!0)},destroy:function(e,t){this.widgetHoldingFocusedEditable===e&&f(this,e,null,t),e.destroy(t),delete this.instances[e.id],this.fire("instanceDestroyed",e)},destroyAll:function(e,t){var n,i,o=this.instances;if(t&&!e){o=(i=t.find(".cke_widget_wrapper")).count();for(var r=0;r<o;++r)(n=this.getByElement(i.getItem(r),!0))&&this.destroy(n)}else for(i in o)n=o[i],this.destroy(n,e)},finalizeCreation:function(e){(e=e.getFirst())&&t.isDomWidgetWrapper(e)&&(this.editor.insertElement(e),(e=this.getByElement(e)).ready=!0,e.fire("ready"),e.focus())},getByElement:function(){function e(e){return e.is(t)&&e.data("cke-widget-id")}var t={div:1,span:1};return function(t,n){if(!t)return null;var i=e(t);if(!n&&!i){var o=this.editor.editable();do{t=t.getParent()}while(t&&!t.equals(o)&&!(i=e(t)))}return this.instances[i]||null}}(),initOn:function(e,n,i){if(n?"string"==typeof n&&(n=this.registered[n]):n=this.registered[e.data("widget")],!n)return null;var o=this.wrapElement(e,n.name);return o?o.hasClass("cke_widget_new")?(e=new t(this,this._.nextId++,e,n,i)).isInited()?this.instances[e.id]=e:null:this.getByElement(e):null},initOnAll:function(e){for(var n,i=[],o=(e=(e||this.editor.editable()).find(".cke_widget_new")).count();o--;)(n=this.initOn(e.getItem(o).getFirst(t.isDomWidgetElement)))&&i.push(n);return i},onWidget:function(e){var t=Array.prototype.slice.call(arguments);for(var n in t.shift(),this.instances){var i=this.instances[n];i.name==e&&i.on.apply(i,t)}this.on("instanceCreated",(function(n){(n=n.data).name==e&&n.on.apply(n,t)}))},parseElementClasses:function(e){if(!e)return null;e=CKEDITOR.tools.trim(e).split(/\s+/);for(var t,n={},i=0;t=e.pop();)-1==t.indexOf("cke_")&&(n[t]=i=1);return i?n:null},wrapElement:function(e,t){var n,i,o=null;if(e instanceof CKEDITOR.dom.element){if(t=t||e.data("widget"),!(n=this.registered[t]))return null;if((o=e.getParent())&&o.type==CKEDITOR.NODE_ELEMENT&&o.data("cke-widget-wrapper"))return o;e.hasAttribute("data-cke-widget-keep-attr")||e.data("cke-widget-keep-attr",e.data("widget")?1:0),e.data("widget",t),(i=u(n,e.getName()))&&r(e),(o=new CKEDITOR.dom.element(i?"span":"div",e.getDocument())).setAttributes(c(i,t)),o.data("cke-display-name",n.pathName?n.pathName:e.getName()),e.getParent(!0)&&o.replace(e),e.appendTo(o)}else if(e instanceof CKEDITOR.htmlParser.element){if(t=t||e.attributes["data-widget"],!(n=this.registered[t]))return null;if((o=e.parent)&&o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"])return o;var a;"data-cke-widget-keep-attr"in e.attributes||(e.attributes["data-cke-widget-keep-attr"]=e.attributes["data-widget"]?1:0),t&&(e.attributes["data-widget"]=t),(i=u(n,e.name))&&r(e),(o=new CKEDITOR.htmlParser.element(i?"span":"div",c(i,t))).attributes["data-cke-display-name"]=n.pathName?n.pathName:e.name,(n=e.parent)&&(a=e.getIndex(),e.remove()),o.add(e),n&&function e(t,n,i){if(t.type==CKEDITOR.NODE_ELEMENT&&(o=CKEDITOR.dtd[t.name])&&!o[i.name]){var o=t.split(n),r=t.parent;return n=o.getIndex(),t.children.length||(--n,t.remove()),o.children.length||o.remove(),e(r,n,i)}t.add(i,n)}(n,a,o)}return o},_tests_createEditableFilter:l},CKEDITOR.event.implementOn(e.prototype),t.prototype={addClass:function(e){this.element.addClass(e),this.wrapper.addClass(t.WRAPPER_CLASS_PREFIX+e)},applyStyle:function(e){m(this,e,1)},checkStyleActive:function(e){var t;if(!(e=v(e)))return!1;for(;t=e.pop();)if(!this.hasClass(t))return!1;return!0},destroy:function(e){if(this.fire("destroy"),this.editables)for(var t in this.editables)this.destroyEditable(t,e);e||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(e,t){var n=this.editables[e],i=!0;if(n.removeListener("focus",b),n.removeListener("blur",T),this.editor.focusManager.remove(n),n.filter){for(var o in this.repository.instances){var r=this.repository.instances[o];r.editables&&(r=r.editables[e])&&r!==n&&n.filter===r.filter&&(i=!1)}i&&(n.filter.destroy(),(i=this.repository._.filters[this.name])&&delete i[e])}t||(this.repository.destroyAll(!1,n),n.removeClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),n.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[e]},edit:function(){var e={dialog:this.dialog},t=this;return!(!1===this.fire("edit",e)||!e.dialog)&&(this.editor.openDialog(e.dialog,(function(e){var n,i;!1!==t.fire("dialog",e)&&(n=e.on("show",(function(){e.setupContent(t)})),i=e.on("ok",(function(){var n,i=t.on("data",(function(e){n=1,e.cancel()}),null,null,0);t.editor.fire("saveSnapshot"),e.commitContent(t),i.removeListener(),n&&(t.fire("data",t.data),t.editor.fire("saveSnapshot"))})),e.once("hide",(function(){n.removeListener(),i.removeListener()})))}),t),!0)},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},getClipboardHtml:function(){var e=this.editor.createRange();return e.setStartBefore(this.wrapper),e.setEndAfter(this.wrapper),this.editor.editable().getHtmlFromRange(e).getHtml()},hasClass:function(e){return this.element.hasClass(e)},initEditable:function(e,t){var i=this._findOneNotNested(t.selector);return!(!i||!i.is(CKEDITOR.dtd.$editable))&&(i=new n(this.editor,i,{filter:l.call(this.repository,this.name,e,t)}),this.editables[e]=i,i.setAttributes({contenteditable:"true","data-cke-widget-editable":e,"data-cke-enter-mode":i.enterMode}),i.filter&&i.data("cke-filter",i.filter.id),i.addClass("cke_widget_editable"),i.removeClass("cke_widget_editable_focused"),t.pathName&&i.data("cke-display-name",t.pathName),this.editor.focusManager.add(i),i.on("focus",b,this),CKEDITOR.env.ie&&i.on("blur",T,this),i._.initialSetData=!0,i.setData(i.getHtml()),!0)},_findOneNotNested:function(e){e=this.wrapper.find(e);for(var n,i,o=0;o<e.count();o++)if(i=(n=e.getItem(o)).getAscendant(t.isDomWidgetWrapper),this.wrapper.equals(i))return n;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var e=this.editor.getSelection();if(e){var t=this.editor.checkDirty();e.fake(this.wrapper),!t&&this.editor.resetDirty()}this.editor.focus()},removeClass:function(e){this.element.removeClass(e),this.wrapper.removeClass(t.WRAPPER_CLASS_PREFIX+e)},removeStyle:function(e){m(this,e,0)},setData:function(e,t){var n=this.data,i=0;if("string"==typeof e)n[e]!==t&&(n[e]=t,i=1);else{var o=e;for(e in o)n[e]!==o[e]&&(i=1,n[e]=o[e])}return i&&this.dataReady&&(I(this),this.fire("data",n)),this},setFocused:function(e){return this.wrapper[e?"addClass":"removeClass"]("cke_widget_focused"),this.fire(e?"focus":"blur"),this},setSelected:function(e){return this.wrapper[e?"addClass":"removeClass"]("cke_widget_selected"),this.fire(e?"select":"deselect"),this},updateDragHandlerPosition:function(){var e=this.editor,t=this.element.$,n=this._.dragHandlerOffset;t={x:t.offsetLeft,y:t.offsetTop-15};n&&t.x==n.x&&t.y==n.y||(n=e.checkDirty(),e.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:t.y+"px",left:t.x+"px"}),this.dragHandlerContainer.removeStyle("display"),e.fire("unlockSnapshot"),!n&&e.resetDirty(),this._.dragHandlerOffset=t)}},CKEDITOR.event.implementOn(t.prototype),t.getNestedEditable=function(e,n){return!n||n.equals(e)?null:t.isDomNestedEditable(n)?n:t.getNestedEditable(e,n.getParent())},t.isDomDragHandler=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-drag-handler")},t.isDomDragHandlerContainer=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_widget_drag_handler_container")},t.isDomNestedEditable=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-editable")},t.isDomWidgetElement=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-widget")},t.isDomWidgetWrapper=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-wrapper")},t.isDomWidget=function(e){return!!e&&(this.isDomWidgetWrapper(e)||this.isDomWidgetElement(e))},t.isParserWidgetElement=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&!!e.attributes["data-widget"]},t.isParserWidgetWrapper=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&!!e.attributes["data-cke-widget-wrapper"]},t.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",n.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(e){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,e=this.editor.dataProcessor.toHtml(e,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(e),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var D=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,R={37:1,38:1,39:1,40:1,8:1,46:1};R[CKEDITOR.SHIFT+121]=1;var _=CKEDITOR.tools.createClass({$:function(e,t){this._.createCopyBin(e,t),this._.createListeners(t)},_:{createCopyBin:function(e){var t=e.document,n=CKEDITOR.env.edge&&16<=CKEDITOR.env.version,i=!e.blockless&&!CKEDITOR.env.ie||n?"div":"span";n=t.createElement(i);(t=t.createElement(i)).setAttributes({id:"cke_copybin","data-cke-temp":"1"}),n.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),n.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-5000px"),this.editor=e,this.copyBin=n,this.container=t},createListeners:function(e){e&&(e.beforeDestroy&&(this.beforeDestroy=e.beforeDestroy),e.afterDestroy&&(this.afterDestroy=e.afterDestroy))}},proto:{handle:function(e){var t,n,i,o=this.copyBin,r=this.editor,a=this.container,s=CKEDITOR.env.ie&&9>CKEDITOR.env.version,l=r.document.getDocumentElement().$,c=r.createRange(),u=this,d=CKEDITOR.env.mac&&CKEDITOR.env.webkit,f=d?100:0,h=window.requestAnimationFrame&&!d?requestAnimationFrame:setTimeout;return o.setHtml('<span data-cke-copybin-start="1">â</span>'+e+'<span data-cke-copybin-end="1">â</span>'),r.fire("lockSnapshot"),a.append(o),r.editable().append(a),t=r.on("selectionChange",g,null,null,0),n=r.widgets.on("checkSelection",g,null,null,0),s&&(i=l.scrollTop),c.selectNodeContents(o),c.select(),s&&(l.scrollTop=i),new CKEDITOR.tools.promise((function(e){h((function(){u.beforeDestroy&&u.beforeDestroy(),a.remove(),t.removeListener(),n.removeListener(),r.fire("unlockSnapshot"),u.afterDestroy&&u.afterDestroy(),e()}),f)}))}},statics:{hasCopyBin:function(e){return!!_.getCopyBin(e)},getCopyBin:function(e){return e.document.getById("cke_copybin")}}});CKEDITOR.plugins.widget=t,t.repository=e,t.nestedEditable=n}(),function(){function e(e){CKEDITOR.tools.extend(this,e),this.queue=[],this.init?this.init(CKEDITOR.tools.bind((function(){for(var e;e=this.queue.pop();)e.call(this);this.ready=!0}),this)):this.ready=!0}CKEDITOR.plugins.add("codesnippet",{requires:"widget,dialog",isSupportedEnvironment:function(){return!CKEDITOR.env.ie||8<CKEDITOR.env.version},beforeInit:function(e){e._.codesnippet={},this.setHighlighter=function(t){e._.codesnippet.highlighter=t,t=e._.codesnippet.langs=e.config.codeSnippet_languages||t.languages,e._.codesnippet.langsRegex=new RegExp("(?:^|\\s)language-("+CKEDITOR.tools.object.keys(t).join("|")+")(?:\\s|$)")},e.once("pluginsLoaded",(function(){this.setHighlighter=null}),this)},onLoad:function(){CKEDITOR.dialog.add("codeSnippet",this.path+"dialogs/codesnippet.js")},init:function(e){e.ui.addButton&&e.ui.addButton("CodeSnippet",{label:e.lang.codesnippet.button,command:"codeSnippet",toolbar:"insert,10"})},afterInit:function(e){var t=this.path;if(function(e){var t=e.config.codeSnippet_codeClass,n=/\r?\n/g,i=new CKEDITOR.dom.element("textarea");e.widgets.add("codeSnippet",{allowedContent:"pre; code(language-*)",requiredContent:"pre",styleableElements:"pre",template:'<pre><code class="'+t+'"></code></pre>',dialog:"codeSnippet",pathName:e.lang.codesnippet.pathName,mask:!0,parts:{pre:"pre",code:"code"},highlight:function(){var t=this,i=this.data,o=function(i){t.parts.code.setHtml(e.plugins.codesnippet.isSupportedEnvironment()?i:i.replace(n,"<br>"))};o(CKEDITOR.tools.htmlEncode(i.code)),e._.codesnippet.highlighter.highlight(i.code,i.lang,(function(t){e.fire("lockSnapshot"),o(t),e.fire("unlockSnapshot")}))},data:function(){var e=this.data,t=this.oldData;e.code&&this.parts.code.setHtml(CKEDITOR.tools.htmlEncode(e.code)),t&&e.lang!=t.lang&&this.parts.code.removeClass("language-"+t.lang),e.lang&&(this.parts.code.addClass("language-"+e.lang),this.highlight()),this.oldData=CKEDITOR.tools.copy(e)},upcast:function(n,r){if("pre"==n.name){for(var a,s=[],l=n.children,c=l.length-1;0<=c;c--)(a=l[c]).type==CKEDITOR.NODE_TEXT&&a.value.match(o)||s.push(a);var u;if(1==s.length&&"code"==(u=s[0]).name&&1==u.children.length&&u.children[0].type==CKEDITOR.NODE_TEXT)return(s=e._.codesnippet.langsRegex.exec(u.attributes.class))&&(r.lang=s[1]),i.setHtml(u.getHtml()),r.code=i.getValue(),u.addClass(t),n}},downcast:function(e){var n=e.getFirst("code");return n.children.length=0,n.removeClass(t),n.add(new CKEDITOR.htmlParser.text(CKEDITOR.tools.htmlEncode(this.data.code))),e}});var o=/^[\s\n\r]*$/}(e),!e._.codesnippet.highlighter){var n=new CKEDITOR.plugins.codesnippet.highlighter({languages:{apache:"Apache",bash:"Bash",coffeescript:"CoffeeScript",cpp:"C++",cs:"C#",css:"CSS",diff:"Diff",html:"HTML",http:"HTTP",ini:"INI",java:"Java",javascript:"JavaScript",json:"JSON",makefile:"Makefile",markdown:"Markdown",nginx:"Nginx",objectivec:"Objective-C",perl:"Perl",php:"PHP",python:"Python",ruby:"Ruby",sql:"SQL",vbscript:"VBScript",xhtml:"XHTML",xml:"XML"},init:function(n){var i=this;e.plugins.codesnippet.isSupportedEnvironment()&&CKEDITOR.scriptLoader.load(t+"lib/highlight/highlight.pack.js",(function(){i.hljs=window.hljs,n()})),e.addContentsCss&&e.addContentsCss(t+"lib/highlight/styles/"+e.config.codeSnippet_theme+".css")},highlighter:function(e,t,n){(e=this.hljs.highlightAuto(e,this.hljs.getLanguage(t)?[t]:void 0))&&n(e.value)}});this.setHighlighter(n)}}}),CKEDITOR.plugins.codesnippet={highlighter:e},e.prototype.highlight=function(){var e=arguments;this.ready?this.highlighter.apply(this,e):this.queue.push((function(){this.highlighter.apply(this,e)}))}}(),CKEDITOR.config.codeSnippet_codeClass="hljs",CKEDITOR.config.codeSnippet_theme="default",CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,autogrow,basicstyles,bidi,notification,button,toolbar,clipboard,codeTag,panelbutton,panel,floatpanel,colorbutton,colordialog,elementspath,enterkey,entities,floatingspace,listblock,richcombo,font,format,horizontalrule,htmlwriter,indent,indentlist,justify,lineheight,fakeobjects,link,list,magicline,maximize,menu,menubutton,pastetools,pastefromword,pastetext,removeformat,resize,specialchar,stylescombo,table,contextmenu,tabletools,undo,wysiwygarea,lineutils,widgetselection,widget,codesnippet",CKEDITOR.config.skin="bootstrapck",c=function(e,t){var n=CKEDITOR.getUrl("plugins/"+t);e=e.split(",");for(var i=0;i<e.length;i++)CKEDITOR.skin.icons[e[i]]={path:n,offset:-e[++i],bgsize:e[++i]}},CKEDITOR.env.hidpi?c("bold,0,,italic,24,,strike,48,,subscript,72,,superscript,96,,underline,120,,bidiltr,144,,bidirtl,168,,copy-rtl,192,,copy,216,,cut-rtl,240,,cut,264,,paste-rtl,288,,paste,312,,code,672,auto,bgcolor,360,,textcolor,384,,horizontalrule,408,,indent-rtl,432,,indent,456,,outdent-rtl,480,,outdent,504,,justifyblock,528,,justifycenter,552,,justifyleft,576,,justifyright,600,,anchor-rtl,624,,anchor,648,,link,672,,unlink,696,,bulletedlist-rtl,720,,bulletedlist,744,,numberedlist-rtl,768,,numberedlist,792,,maximize,816,,pastefromword-rtl,840,,pastefromword,864,,pastetext-rtl,888,,pastetext,912,,removeformat,936,,specialchar,960,,table,984,,redo-rtl,1008,,redo,1032,,undo-rtl,1056,,undo,1080,,codesnippet,1104,","icons_hidpi.png"):c("bold,0,auto,italic,24,auto,strike,48,auto,subscript,72,auto,superscript,96,auto,underline,120,auto,bidiltr,144,auto,bidirtl,168,auto,copy-rtl,192,auto,copy,216,auto,cut-rtl,240,auto,cut,264,auto,paste-rtl,288,auto,paste,312,auto,code,336,auto,bgcolor,360,auto,textcolor,384,auto,horizontalrule,408,auto,indent-rtl,432,auto,indent,456,auto,outdent-rtl,480,auto,outdent,504,auto,justifyblock,528,auto,justifycenter,552,auto,justifyleft,576,auto,justifyright,600,auto,anchor-rtl,624,auto,anchor,648,auto,link,672,auto,unlink,696,auto,bulletedlist-rtl,720,auto,bulletedlist,744,auto,numberedlist-rtl,768,auto,numberedlist,792,auto,maximize,816,auto,pastefromword-rtl,840,auto,pastefromword,864,auto,pastetext-rtl,888,auto,pastetext,912,auto,removeformat,936,auto,specialchar,960,auto,table,984,auto,redo-rtl,1008,auto,redo,1032,auto,undo-rtl,1056,auto,undo,1080,auto,codesnippet,1104,auto","icons.png"),CKEDITOR.lang.languages={af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1}}}()}]).default}));